i18n_register({catalog:{},plural:function(b){return 0}});Splunk.JSCharting={hasSVG:!!document.createElementNS&&!!document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect,createChart:function(f,e){if(!f.appendChild||!f.cloneNode){throw new Error("Invalid argument to createChart, container must be a valid DOM element");return}var g=function(a){switch(a){case"line":return Splunk.JSCharting.LineChart;case"area":return Splunk.JSCharting.AreaChart;case"column":return Splunk.JSCharting.ColumnChart;case"bar":return Splunk.JSCharting.BarChart;case"pie":return Splunk.JSCharting.PieChart;case"scatter":return Splunk.JSCharting.ScatterChart;case"hybrid":return Splunk.JSCharting.HybridChart;case"radialGauge":return Splunk.JSCharting.RadialGauge;case"fillerGauge":return(e["chart.orientation"]==="x")?Splunk.JSCharting.HorizontalFillerGauge:Splunk.JSCharting.VerticalFillerGauge;case"markerGauge":return(e["chart.orientation"]==="x")?Splunk.JSCharting.HorizontalMarkerGauge:Splunk.JSCharting.VerticalMarkerGauge;default:return Splunk.JSCharting.ColumnChart}},h=g(e.chart);if(e["layout.splitSeries"]==="true"){return new Splunk.JSCharting.SplitSeriesChart(f,h)}return new h(f)},extractFieldInfo:function(s){if(!s||!s.columns){return{fieldNames:[]}}var o,m,q,l,n,p=false,r=false,k=[];for(o=0;o<s.columns.length;o++){m=s.fields[o];if(m=="_span"){n=o;continue}if(m.charAt(0)=="_"&&m!="_time"){continue}if(!p){q=m;l=o;p=true;if(q==="_time"&&($.inArray("_span",s.fields)>-1||s.columns[o].length===1)){r=true}}else{k.push(m)}}return{fieldNames:k,xAxisKey:q,xAxisSeriesIndex:l,spanSeriesIndex:n,isTimeData:r}},extractChartReadyData:function(C,B){if(!C||!C.columns){return false}var v,x,A=B.xAxisKey,j=B.xAxisSeriesIndex,s=C.columns[j],r,t,u,q,y,z,w={};if(A==="_time"&&($.inArray("_span",C.fields)>-1||s.length===1)){t="time";for(v=0;v<C.columns.length;v++){if(C.fields[v]==="_span"){r=C.columns[v];break}}}else{t="category";u=$.extend(true,[],s)}for(v=0;v<C.columns.length;v++){q=C.columns[v];w[C.fields[v]]=[];for(x=0;x<q.length;x++){y=this.MathUtils.parseFloat(q[x]);z={name:s[x],y:y,rawY:y};if(t==="time"&&r){z._span=r[x]}w[C.fields[v]].push(z)}}return{series:w,fieldNames:B.fieldNames,xAxisKey:B.xAxisKey,xAxisType:t,categories:u,xSeries:s,_spanSeries:r}}};Splunk.JSCharting.AbstractVisualization=$.klass({hasSVG:Splunk.JSCharting.hasSVG,initialize:function(b){this.mathUtils=Splunk.JSCharting.MathUtils;this.parseUtils=Splunk.JSCharting.ParsingUtils;this.colorUtils=Splunk.JSCharting.ColorUtils;this.eventMap={};this.renderTo=b;this.chartWidth=$(this.renderTo).width();this.chartHeight=$(this.renderTo).height();this.backgroundColor="#ffffff";this.foregroundColor="#000000";this.fontColor="#000000";this.testMode=false},applyProperties:function(c){for(var d in c){if(c.hasOwnProperty(d)){this.applyPropertyByName(d,c[d],c)}}this.performPropertyCleanup()},applyPropertyByName:function(d,f,e){switch(d){case"backgroundColor":this.backgroundColor=f;break;case"foregroundColor":this.foregroundColor=f;break;case"fontColor":this.fontColor=f;break;case"testMode":this.testMode=(f===true);break;default:}},performPropertyCleanup:function(){this.foregroundColorSoft=this.colorUtils.addAlphaToColor(this.foregroundColor,0.25);this.foregroundColorSofter=this.colorUtils.addAlphaToColor(this.foregroundColor,0.15)},addEventListener:function(d,c){if(this.eventMap[d]){this.eventMap[d].push(c)}else{this.eventMap[d]=[c]}},removeEventListener:function(d,f){if(this.eventMap[d]==undefined){return}var e=$.inArray(f,this.eventMap[d]);if(this.eventMap[d][e]){this.eventMap[d].splice(e,1)}},dispatchEvent:function(d,f){f=f||{};if(this.eventMap[d]){for(var e in this.eventMap[d]){this.eventMap[d][e](f)}}}});Splunk.JSCharting.AbstractChart=$.klass(Splunk.JSCharting.AbstractVisualization,{needsColorPalette:true,axesAreInverted:false,focusedElementOpacity:1,fadedElementOpacity:0.3,fadedElementColor:"rgba(150, 150, 150, 0.3)",initialize:function($super,b){$super(b);this.hcChart=false;this.chartIsDrawing=false;this.chartIsStale=false;this.processedData=false;this.pendingData=false;this.pendingColors=false;this.pendingCallback=false;this.customConfig=false;this.chartIsEmpty=false;this.logYAxis=false;this.legendMaxWidth=300;this.legendEllipsizeMode="ellipsisMiddle";this.tooMuchData=false;this.fieldListMode="hide_show";this.fieldHideList=[];this.fieldShowList=[]},prepare:function(f,d,e){this.properties=e;this.generateDefaultConfig();this.addRenderHooks();this.applyProperties(e);this.processData(f,d,e);if(this.chartIsEmpty){this.configureEmptyChart()}else{this.applyFormatting(e,this.processedData);this.addEventHandlers(e);if(this.customConfig){$.extend(true,this.hcConfig,this.customConfig)}}},getFieldList:function(){if(this.chartIsEmpty){return[]}return this.processedData.fieldNames},setColors:function(e){var f=[];for(var d=0;d<e.length;d++){f[d]=this.colorUtils.addAlphaToColor(e[d],this.focusedElementOpacity)}this.hcConfig.colors=f},draw:function(b){if(this.chartIsDrawing){this.chartIsStale=true;this.pendingCallback=b;return}this.chartIsDrawing=true;if(this.hcChart){this.destroy()}this.hcChart=new Highcharts.Chart(this.hcConfig,function(a){if(this.chartIsStale){this.chartIsStale=false;this.draw(this.pendingCallback)}else{if(!this.chartIsEmpty){this.onDrawFinished(a,b)}}}.bind(this))},setData:function(c,d){clearTimeout(this.drawTimeout);this.prepare(c,d,this.properties)},resize:function(c,d){this.chartWidth=c;this.chartHeight=d;if(this.hcChart){this.hcChart.setSize(c,d,false);this.hcChart.options.chart.height=d}},destroy:function(){if(this.hcChart){clearTimeout(this.drawTimeout);this.removeLegendHoverEffects();this.hcChart.destroy();this.hcChart=false}},setCustomConfig:function(b){this.customConfig=b},highlightIndexInLegend:function(b){this.highlightSeriesInLegend(this.hcChart.series[b])},unHighlightIndexInLegend:function(b){this.unHighlightSeriesInLegend(this.hcChart.series[b])},getChartObject:function(){return this.hcChart},generateDefaultConfig:function(){this.hcConfig=$.extend(true,{},Splunk.JSCharting.DEFAULT_HC_CONFIG,{chart:{renderTo:this.renderTo,height:this.chartHeight,className:this.typeName},colors:Splunk.JSCharting.ListColorPalette.DEFAULT_COLORS_CSS});this.mapper=new Splunk.JSCharting.PropertyMapper(this.hcConfig)},addRenderHooks:function(){$.extend(true,this.hcConfig,{legend:{hooks:{placementHook:this.legendPlacementHook.bind(this),labelRenderHook:this.legendLabelRenderHook.bind(this)}}})},applyFormatting:function(d,c){this.formatXAxis(d,c);this.formatYAxis(d,c);this.formatTooltip(d,c);this.formatLegend()},addEventHandlers:function(b){this.addClickHandlers();this.addHoverHandlers();this.addLegendHandlers(b);this.addRedrawHandlers()},processData:function(f,d,e){this.processedData=f;if(!this.processedData||this.processedData.fieldNames.length===0){this.chartIsEmpty=true}else{this.addDataToConfig()}},onDrawFinished:function(d,c){if(this.hcConfig.legend.enabled){this.addLegendHoverEffects(d)}if(this.testMode){this.addTestingMetadata(d)}this.onDrawOrResize(d);this.chartIsDrawing=false;this.hcObjectId=d.container.id;if(c){c(d)}},configureEmptyChart:function(){$.extend(true,this.hcConfig,{yAxis:{tickColor:this.foregroundColorSoft,lineWidth:1,lineColor:this.foregroundColorSoft,gridLineColor:this.foregroundColorSofter,tickWidth:1,tickLength:25,showFirstLabel:false,min:0,max:(this.logYAxis)?2:100,tickInterval:(this.logYAxis)?1:10,labels:{style:{color:this.fontColor},y:15,formatter:(this.logYAxis)?function(){return Math.pow(10,this.value)}:function(){return this.value}},title:{text:null}},xAxis:{lineColor:this.foregroundColorSoft},legend:{enabled:false},series:[{data:[],visible:false,showInLegend:false}]})},applyPropertyByName:function($super,d,f,e){$super(d,f,e);switch(d){case"chart.stackMode":this.mapStackMode(f,e);break;case"legend.placement":this.mapLegendPlacement(f);break;case"chart.nullValueMode":if(f==="connect"){this.mapper.mapValue(true,["plotOptions","series","connectNulls"])}break;case"secondaryAxis.scale":if(!e["axisY.scale"]){this.logYAxis=(f==="log")}break;case"axisY.scale":this.logYAxis=(f==="log");break;case"enableChartClick":this.enableChartClick=f;break;case"enableLegendClick":this.enableLegendClick=f;break;case"legend.labelStyle.overflowMode":this.legendEllipsizeMode=f;break;case"data.fieldListMode":this.fieldListMode=f;break;case"data.fieldHideList":this.fieldHideList=Splunk.util.stringToFieldList(f)||[];break;case"data.fieldShowList":this.fieldShowList=Splunk.util.stringToFieldList(f)||[];break;default:break}},performPropertyCleanup:function($super){$super();$.extend(true,this.hcConfig,{chart:{backgroundColor:this.backgroundColor,borderColor:this.backgroundColor},legend:{itemStyle:{color:this.fontColor},itemHoverStyle:{color:this.fontColor}},tooltip:{borderColor:this.foregroundColorSoft}})},mapStackMode:function(e,d){if(d["layout.splitSeries"]=="true"){e="default"}var f={"default":null,stacked:"normal",stacked100:"percent"};this.mapper.mapValue(f[e],["plotOptions","series","stacking"])},mapLegendPlacement:function(d){if(d in {left:1,right:1}){this.mapper.mapObject({legend:{enabled:true,verticalAlign:"middle",align:d,layout:"vertical"}})}else{if(d in {bottom:1,top:1}){var c=(d=="top")?30:15;this.mapper.mapObject({legend:{enabled:true,verticalAlign:d,align:"center",layout:"horizontal",margin:c}})}else{this.mapper.mapObject({legend:{enabled:false}})}}},formatXAxis:function(k,j){var g=j.xAxisType,l=this.parseUtils.getXAxisProperties(k),m=(this.axesAreInverted)?"vertical":"horizontal",h=this.getAxisColorScheme();l.chartType=k.chart;l.axisLength=$(this.renderTo).width();switch(g){case"category":this.xAxis=new Splunk.JSCharting.CategoryAxis(l,j,m,h);break;case"time":this.xAxis=new Splunk.JSCharting.TimeAxis(l,j,m,h);break;default:this.xAxis=new Splunk.JSCharting.NumericAxis(l,j,m,h);break}this.hcConfig.xAxis=this.xAxis.getConfig();if(this.hcConfig.xAxis.title.text===null){this.hcConfig.xAxis.title.text=this.processedData.xAxisKey}},formatYAxis:function(j,h){var k=this.parseUtils.getYAxisProperties(j),f=(this.axesAreInverted)?"horizontal":"vertical",g=this.getAxisColorScheme();k.chartType=j.chart;k.axisLength=$(this.renderTo).height();this.yAxis=new Splunk.JSCharting.NumericAxis(k,h,f,g);this.hcConfig.yAxis=this.yAxis.getConfig();if(this.hcConfig.yAxis.title.text===null&&this.processedData.fieldNames.length===1){this.hcConfig.yAxis.title.text=this.processedData.fieldNames[0]}},getAxisColorScheme:function(){return{foregroundColorSoft:this.foregroundColorSoft,foregroundColorSofter:this.foregroundColorSofter,fontColor:this.fontColor}},formatTooltip:function(k,j){var h=this.xAxis.getKey(),f=this.xAxis.formatTooltipValue.bind(this.xAxis),g=this.yAxis.formatTooltipValue.bind(this.yAxis);this.mapper.mapObject({tooltip:{formatter:function(){var a=Splunk.JSCharting.ColorUtils.removeAlphaFromColor(this.point.series.color);return['<span style="color:#cccccc">',((j.xAxisType=="time")?"":h+": "),"</span>",'<span style="color:#ffffff">',f(this,"x"),"</span>","<br/>",'<span style="color:',a,'">',this.series.name,": </span>",'<span style="color:#ffffff">',g(this,"y"),"</span>"].join("")}}})},formatLegend:function(){},legendPlacementHook:function(m,k,h,l){if(this.hcConfig.legend.layout==="vertical"){if(h>=l.height){m.verticalAlign="top";m.y=0}else{if(this.properties["layout.splitSeries"]!=="true"){var g,j;if(this.processedData.xAxisType==="time"&&!this.axesAreInverted){j=(this.processedData._spanSeries)?parseInt(this.processedData._spanSeries[0],10):1;g=(j>=(24*60*60))?28:42}else{g=13}m.y=-g/2}}}},legendLabelRenderHook:function(C,I,G,y,B){var z,H,x,w,v=(I.layout==="horizontal"),E=12,D=10,t=I.symbolWidth,K=I.symbolPadding,J=10,u=[],A=new Splunk.JSCharting.FormattingHelper(B),F={"default":"start",ellipsisMiddle:"middle",ellipsisEnd:"end"};if(v){w=(C.length>5)?Math.floor(y.width/6):Math.floor(y.width/C.length)-(t+K+J)}else{w=Math.floor(y.width/6)}if(!I.originalFormatter){I.originalFormatter=I.labelFormatter}for(z=0;z<C.length;z++){u.push(I.originalFormatter.call(C[z]))}H=A.adjustLabels(u,w,D,E,F[this.legendEllipsizeMode]||"middle");if(H.areEllipsized&&v&&C.length>5){x=w+t+K+J;I.itemWidth=x}else{I.itemWidth=undefined}for(z=0;z<C.length;z++){C[z].ellipsizedName=H.labels[z];if(C[z].legendItem){A.setElementText(C[z].legendItem,H.labels[z]);C[z].legendItem.css({"font-size":H.fontSize+"px"})}}I.labelFormatter=function(){return this.ellipsizedName};G["font-size"]=H.fontSize+"px";A.destroy()},addClickHandlers:function(){if(this.enableChartClick){var b=this;$.extend(true,this.hcConfig,{plotOptions:{series:{point:{events:{click:function(a){b.onPointClick.call(b,this,a)}}}}}})}},addHoverHandlers:function(){var b=this;$.extend(true,this.hcConfig,{plotOptions:{series:{point:{events:{mouseOver:function(){b.onPointMouseOver.call(b,this)},mouseOut:function(){b.onPointMouseOut.call(b,this)}}}}}})},onPointClick:function(g,f){var h=this.processedData.xAxisKey,j=this.processedData.xAxisType,k={fields:[h,g.series.name],data:{},domEvent:f};k.data[g.series.name]=g.y;if(j=="time"){k.data._span=g._span;k.data[h]=Splunk.util.getEpochTimeFromISO(g.name)}else{k.data[h]=(j=="category")?g.name:g.x}this.dispatchEvent("chartClicked",k)},onPointMouseOver:function(d){var c=d.series;this.highlightThisSeries(c);this.highlightSeriesInLegend(c)},onPointMouseOut:function(d){var c=d.series;this.unHighlightThisSeries(c);this.unHighlightSeriesInLegend(c)},addLegendHandlers:function(c){var d=this;if(this.enableLegendClick){$.extend(true,this.hcConfig,{plotOptions:{series:{events:{legendItemClick:function(a){return d.onLegendClick.call(d,this,a)}}}},legend:{itemStyle:{cursor:"pointer"},itemHoverStyle:{cursor:"pointer"}}})}},onLegendClick:function(e,d){var f={text:e.name,domEvent:d};this.dispatchEvent("legendClicked",f);return false},addLegendHoverEffects:function(c){var d=this;$(c.series).each(function(a,b){$(d.getSeriesLegendElements(b)).each(function(h,g){$(g).bind("mouseover.splunk_jscharting",function(){d.onLegendMouseOver(b)});$(g).bind("mouseout.splunk_jscharting",function(){d.onLegendMouseOut(b)})})})},removeLegendHoverEffects:function(){if(this.hcChart){var b=this;$(this.hcChart.series).each(function(d,a){$(b.getSeriesLegendElements(a)).each(function(f,c){$(c).unbind(".splunk_jscharting")})})}},onLegendMouseOver:function(b){this.highlightThisSeries(b);this.highlightSeriesInLegend(b)},onLegendMouseOut:function(b){this.unHighlightThisSeries(b);this.unHighlightSeriesInLegend(b)},addRedrawHandlers:function(c){var d=this;$.extend(true,this.hcConfig,{chart:{events:{redraw:function(){d.onDrawOrResize.call(d,this)}}}})},onDrawOrResize:function(c){var d=new Splunk.JSCharting.FormattingHelper(c.renderer);if(this.xAxis){this.xAxis.onDrawOrResize(c,d)}if(this.yAxis){this.yAxis.onDrawOrResize(c,d)}d.destroy()},highlightThisSeries:function(d){if(!d||!d.chart){return}var f=d.chart,e=d.index;$(f.series).each(function(a,b){if(a!==e){this.fadeSeries(b)}}.bind(this))},fadeSeries:function(c){if(!c||!c.data){return}for(var d=0;d<c.data.length;d++){this.fadePoint(c.data[d],c)}},fadePoint:function(d,c){if(!d){return}d.graphic.attr("fill",this.fadedElementColor)},unHighlightThisSeries:function(d){if(!d||!d.chart){return}var f=d.chart,e=d.index;$(f.series).each(function(a,b){if(a!==e){this.focusSeries(b)}}.bind(this))},focusSeries:function(c){if(!c||!c.data){return}for(var d=0;d<c.data.length;d++){this.focusPoint(c.data[d],c)}},focusPoint:function(d,c){if(!d){return}c=c||d.series;d.graphic.attr({fill:c.color})},highlightSeriesInLegend:function(j){if(!j||!j.chart){return}var k,f,h=j.chart,g=j.index;for(k=0;k<h.series.length;k++){if(k!==g){f=h.series[k];if(!f){break}if(f.legendItem){f.legendItem.attr("fill-opacity",this.fadedElementOpacity)}if(f.legendLine){f.legendLine.attr("stroke",this.fadedElementColor)}if(f.legendSymbol){f.legendSymbol.attr("fill",this.fadedElementColor)}}}},unHighlightSeriesInLegend:function(j){if(!j||!j.chart){return}var k,f,h=j.chart,g=j.index;for(k=0;k<h.series.length;k++){if(k!==g){f=h.series[k];if(!f){break}if(f.legendItem){f.legendItem.attr("fill-opacity",1)}if(f.legendLine){f.legendLine.attr({stroke:f.color,"stroke-opacity":1})}if(f.legendSymbol){f.legendSymbol.attr({fill:f.color,"fill-opacity":1})}}}},getSeriesLegendElements:function(d){var c=[];if(d.legendItem){c.push(d.legendItem.element)}if(d.legendSymbol){c.push(d.legendSymbol.element)}if(d.legendLine){c.push(d.legendLine.element)}return c},addDataToConfig:function(){var e,g,h=this.processedData.fieldNames,f=this.processedData.series;for(e=0;e<h.length;e++){if(this.shouldShowSeries(h[e],this.properties)){g=this.constructSeriesObject(h[e],f[h[e]],this.properties);this.hcConfig.series.push(g)}}},shouldShowSeries:function(d,c){if(c.fieldHideList&&$.inArray(d,c.fieldHideList)>-1){return false}if(this.fieldListMode==="show_hide"){if($.inArray(d,this.fieldHideList)>-1&&$.inArray(d,this.fieldShowList)<0){return false}}else{if($.inArray(d,this.fieldHideList)>-1){return false}}return true},constructSeriesObject:function(f,g,h){for(var e=0;e<g.length;e++){if(isNaN(g[e].rawY)){if(h["chart.nullValueMode"]==="zero"){g[e].y=0}else{g[e].y=null}}else{if(this.logYAxis){g[e].y=this.mathUtils.absLogBaseTen(g[e].rawY)}else{g[e].y=g[e].rawY}}}return{name:f,data:g}},addTestingMetadata:function(d){var f=d.tooltip.refresh,e=(this.processedData.xAxisType==="time")?this.addTimeTooltipClasses.bind(this):this.addTooltipClasses.bind(this);$("#"+d.container.id).attr("chart-type",this.typeName);this.addDataClasses(d);this.addAxisClasses(d);if(d.options.legend.enabled){this.addLegendClasses(d)}d.tooltip.refresh=function(a){f(a);e(d)}.bind(this)},addDataClasses:function(f){var e,d;$(".highcharts-series",$(this.renderTo)).each(function(a,b){e=f.series[a].name;$(b).attr("id",e+"-series");if(this.hasSVG){d=$("rect, path",$(b))}else{d=$("shape",$(b))}d.each(function(h,c){this.addClassToElement(c,"spl-display-object")}.bind(this))}.bind(this))},addAxisClasses:function(d){var e,f;$(".highcharts-axis",$(this.renderTo)).each(function(c,b){if(this.hasSVG){var l=b.getBBox();if(l.width>l.height){this.addClassToElement(b,"horizontal-axis")}else{this.addClassToElement(b,"vertical-axis")}f=$("text",$(b))}else{var a,k,m=$("span",$(b));if(m.length<2){return}a=m[0];k=m[1];if(a.style.top==k.style.top){this.addClassToElement(b,"horizontal-axis")}else{this.addClassToElement(b,"vertical-axis")}f=$("span",$(b))}f.each(function(g,h){this.addClassToElement(h,"spl-text-label")}.bind(this))}.bind(this));for(e=0;e<d.xAxis.length;e++){if(d.xAxis[e].axisTitle){this.addClassToElement(d.xAxis[e].axisTitle.element,"x-axis-title")}}for(e=0;e<d.yAxis.length;e++){if(d.yAxis[e].axisTitle){this.addClassToElement(d.yAxis[e].axisTitle.element,"y-axis-title")}}},addTooltipClasses:function(o){var q,l,p,m,n,j=$(".highcharts-tooltip",$(this.renderTo)),k=(this.hasSVG)?$("tspan",j):$("span > span",j);for(q=0;q<k.length;q+=2){m=k[q];if(k.length<q+2){break}n=k[q+1];l=(this.hasSVG)?m.textContent.split(":"):$(m).html().split(":");p=l[0];this.addClassToElement(m,"key");this.addClassToElement(m,p+"-key");this.addClassToElement(n,"value");this.addClassToElement(n,p+"-value")}},addTimeTooltipClasses:function(o){var q,l,p,m,n,j=$(".highcharts-tooltip",$(this.renderTo)),k=(this.hasSVG)?$("tspan",j):$("span > span",j);this.addClassToElement(k[1],"time-value");this.addClassToElement(k[1],"value");for(q=2;q<k.length;q+=2){m=k[q];if(k.length<q+2){break}n=k[q+1];l=(this.hasSVG)?m.textContent.split(":"):$(m).html().split(":");p=l[0];this.addClassToElement(m,"key");this.addClassToElement(m,p+"-key");this.addClassToElement(n,"value");this.addClassToElement(n,p+"-value")}},addLegendClasses:function(c){var d;$(c.series).each(function(a,b){d=(this.hasSVG)?b.legendItem.textStr:$(b.legendItem.element).html();if(b.legendSymbol){this.addClassToElement(b.legendSymbol.element,"symbol");this.addClassToElement(b.legendSymbol.element,d+"-symbol")}if(b.legendLine){this.addClassToElement(b.legendLine.element,"symbol");this.addClassToElement(b.legendLine.element,d+"-symbol")}if(b.legendItem){this.addClassToElement(b.legendItem.element,"legend-label")}}.bind(this))},addClassToElement:function(c,d){if(!/^[-]?[A-Za-z]/.test(d)){return}d=d.replace(/[^A-Za-z0-9_-]/g,"");if(this.hasSVG){if(c.className.baseVal){c.className.baseVal+=" "+d}else{c.className.baseVal=d}}else{$(c).addClass(d)}}});Splunk.JSCharting.DEFAULT_HC_CONFIG={chart:{animation:false,showAxes:true,reflow:true},plotOptions:{series:{animation:false,stickyTracking:false,events:{legendItemClick:function(){return false}},borderWidth:0}},series:[],title:{text:null},legend:{align:"right",verticalAlign:"middle",borderWidth:0,layout:"vertical",enabled:true,itemStyle:{cursor:"auto"},itemHoverStyle:{cursor:"auto"}},tooltip:{backgroundColor:"#000000"},credits:{enabled:false}};Splunk.JSCharting.SeriesBasedChart=$.klass(Splunk.JSCharting.AbstractChart,{generateDefaultConfig:function($super){$super();this.mapper.mapValue(true,["plotOptions","series","stickyTracking"])},highlightThisSeries:function($super,b){$super(b);if(b&&b.group){b.group.toFront()}}});Splunk.JSCharting.PointBasedChart=$.klass(Splunk.JSCharting.AbstractChart,{fadedElementBorderColor:"rgba(200, 200, 200, 0.3)",applyPropertyByName:function($super,e,h,f){var g={"chart.nullValueMode":true};if(e in g){return}$super(e,h,f)},generateDefaultConfig:function($super){$super();this.mapper.mapValue(false,["plotOptions","series","enableMouseTracking"])},addEventHandlers:function($super,c){$super(c);var d=this;$.extend(true,this.hcConfig,{chart:{events:{load:function(){var h=this,a=".highcharts-tooltip *",b=null,j=h.tooltip.hide,k=function(e){var f=$(e.target);if(!f.is(d.pointCssSelector)){return false}return(h.series[f.attr("data-series")].data[f.attr("data-point")])};if(!d.hasSVG&&h.tracker){h.tracker.destroy()}h.tooltip.hide=function(e){j();if(!e&&b){b.firePointEvent("mouseOut");b=null}};$(h.series).each(function(e,f){$(f.data).each(function(g,m){if(m.graphic&&m.graphic.element){$(m.graphic.element).attr("data-series",e);$(m.graphic.element).attr("data-point",g)}})});$(h.container).bind("click.splunk_jscharting",function(e){var f=k(e);if(f){f.firePointEvent("click",e)}});$(h.container).bind("mouseover.splunk_jscharting",function(e){if($(e.target).is(a)){return}var f=k(e);if(b&&!(f&&b===f)){b.firePointEvent("mouseOut");h.tooltip.hide(true);b=null}if(f){f.firePointEvent("mouseOver");h.tooltip.refresh(f);b=f}})}}}})},destroy:function($super){if(this.hcChart){$(this.hcChart.container).unbind("splunk_jscharting")}$super()},onPointMouseOver:function($super,b){$super(b);this.highlightPoint(b)},onPointMouseOut:function($super,b){$super(b);this.unHighlightPoint(b)},highlightPoint:function(f){if(!f||!f.series){return}var h,g,e=f.series;for(h=0;h<e.data.length;h++){g=e.data[h];if(g!==f&&g.graphic){this.fadePoint(g,e)}}},unHighlightPoint:function(d){if(!d||!d.series){return}var c=d.series;for(i=0;i<c.data.length;i++){loopPoint=c.data[i];if(loopPoint!==d&&loopPoint.graphic){this.focusPoint(loopPoint,c)}}},fadePoint:function(d,c){if(!d||!d.graphic){return}d.graphic.attr({fill:this.fadedElementColor,"stroke-width":1,stroke:this.fadedElementBorderColor})},focusPoint:function(d,c){if(!d||!d.graphic){return}c=c||d.series;d.graphic.attr({fill:c.color,"stroke-width":0,stroke:c.color})},fadeAllPoints:function(){if(!this.hcChart){return}for(var b=0;b<this.hcChart.series.length;b++){this.fadeSeries(this.hcChart.series[b])}},unFadeAllPoints:function(){if(!this.hcChart){return}for(var b=0;b<this.hcChart.series.length;b++){this.focusSeries(this.hcChart.series[b])}}});Splunk.JSCharting.LineChart=$.klass(Splunk.JSCharting.SeriesBasedChart,{typeName:"line-chart",fadedElementColor:"rgba(200, 200, 200, 1.0)",fadedLineColor:"rgba(150, 150, 150, 0.3)",initialize:function($super,b){$super(b);this.markerRadius=8;this.showMarkers=false},generateDefaultConfig:function($super){$super();$.extend(true,this.hcConfig,{chart:{type:"line"}});this.hcConfig.plotOptions.line.marker.states.hover.radius=this.markerRadius},applyPropertyByName:function($super,d,f,e){$super(d,f,e);switch(d){case"chart.showMarkers":this.showMarkers=(f==="true");this.mapper.mapValue((f==="true"?this.markerRadius:0),["plotOptions","line","marker","radius"]);break;default:break}},fadeSeries:function($super,b){if(!b||!b.graph){return}b.graph.attr({stroke:this.fadedLineColor});if(this.showMarkers){$super(b)}},focusSeries:function($super,b){if(!b||!b.graph){return}b.graph.attr({stroke:b.color,"stroke-opacity":this.focusedElementOpacity});if(this.showMarkers){$super(b)}}});$.extend(true,Splunk.JSCharting.DEFAULT_HC_CONFIG,{plotOptions:{line:{marker:{states:{hover:{enabled:true,symbol:"square"}},radius:0,symbol:"square"},shadow:false}}});Splunk.JSCharting.AreaChart=$.klass(Splunk.JSCharting.SeriesBasedChart,{typeName:"area-chart",focusedElementOpacity:0.75,generateDefaultConfig:function($super){$super();this.showLines=true;$.extend(true,this.hcConfig,{chart:{type:"area"},plotOptions:{area:{fillOpacity:this.focusedElementOpacity}}})},applyPropertyByName:function($super,d,f,e){$super(d,f,e);switch(d){case"chart.showLines":this.showLines=(f==="false");this.mapper.mapValue((f==="false")?0:1,["plotOptions","area","lineWidth"]);break;default:}},fadeSeries:function(b){if(!b||!b.area){return}b.area.attr({fill:this.fadedElementColor});if(this.showLines){b.graph.attr({stroke:this.fadedElementColor})}},focusSeries:function(b){if(!b||!b.area){return}b.area.attr({fill:b.color,"fill-opacity":this.focusedElementOpacity});if(this.showLines){b.graph.attr({stroke:b.color,"stroke-opacity":this.focusedElementOpacity})}}});$.extend(true,Splunk.JSCharting.DEFAULT_HC_CONFIG,{plotOptions:{area:{marker:{symbol:"square",radius:0,states:{hover:{enabled:true,symbol:"square",radius:8}}},lineWidth:1,shadow:false}}});Splunk.JSCharting.ColumnChart=$.klass(Splunk.JSCharting.PointBasedChart,{typeName:"column-chart",pointCssSelector:(Splunk.JSCharting.hasSVG)?".highcharts-series rect":".highcharts-series shape",generateDefaultConfig:function($super){$super();$.extend(true,this.hcConfig,{chart:{type:"column"}})},applyPropertyByName:function($super,d,f,e){$super(d,f,e);switch(d){case"chart.columnSpacing":this.mapColumnSpacing(f);break;case"chart.seriesSpacing":this.mapSeriesSpacing(f);break;default:}},mapColumnSpacing:function(d){var c=parseFloat(d,10);if(!isNaN(c)){this.mapper.mapValue((c<3)?0.05+((c-1)/5):0.05+((c-1)/15),["plotOptions","column","groupPadding"])}},mapSeriesSpacing:function(d){var c=parseFloat(d,10);if(!isNaN(c)){this.mapper.mapValue(0.2*Math.pow(c,0.25),["plotOptions","column","pointPadding"])}}});$.extend(true,Splunk.JSCharting.DEFAULT_HC_CONFIG,{plotOptions:{column:{pointPadding:0,groupPadding:0.05,shadow:false}}});Splunk.JSCharting.BarChart=$.klass(Splunk.JSCharting.PointBasedChart,{axesAreInverted:true,typeName:"bar-chart",pointCssSelector:(Splunk.JSCharting.hasSVG)?".highcharts-series rect":".highcharts-series shape",generateDefaultConfig:function($super){$super();$.extend(true,this.hcConfig,{chart:{type:"bar"}})},applyPropertyByName:function($super,d,f,e){$super(d,f,e);switch(d){case"chart.barSpacing":this.mapBarSpacing(f);break;case"chart.seriesSpacing":this.mapSeriesSpacing(f);break;default:}},mapBarSpacing:function(d){var c=parseFloat(d,10);if(!isNaN(c)){this.mapper.mapValue(0.05+((c-1)/20),["plotOptions","bar","groupPadding"])}},mapSeriesSpacing:function(d){var c=parseFloat(d,10);if(!isNaN(c)){this.mapper.mapValue(0.2*Math.pow(c,0.25),["plotOptions","bar","pointPadding"])}},configureEmptyChart:function($super){$super();$.extend(true,this.hcConfig,{yAxis:{labels:{align:"right",x:-5}}})}});$.extend(true,Splunk.JSCharting.DEFAULT_HC_CONFIG,{plotOptions:{bar:{pointPadding:0,groupPadding:0.05,shadow:false}}});Splunk.JSCharting.ScatterChart=$.klass(Splunk.JSCharting.PointBasedChart,{typeName:"scatter-chart",pointCssSelector:(Splunk.JSCharting.hasSVG)?".highcharts-series path":".highcharts-series shape",initialize:function($super,b){$super(b);this.mode="multiSeries";this.legendFieldNames=[]},getFieldList:function(){return this.legendFieldNames},generateDefaultConfig:function($super){$super();$.extend(true,this.hcConfig,{chart:{type:"scatter"}})},applyPropertyByName:function($super,d,f,e){$super(d,f,e);switch(d){case"chart.markerSize":this.mapMarkerSize(f);break;default:}},mapMarkerSize:function(d){var c=parseInt(d,10);if(!isNaN(c)){this.mapper.mapValue(Math.ceil(c*7/4),["plotOptions","scatter","marker","radius"])}},setMode:function(b){this.mode=b;if(b==="singleSeries"){$.extend(true,this.hcConfig,{legend:{enabled:false}})}},formatXAxis:function(j,h){var k=this.parseUtils.getXAxisProperties(j),f=(this.axesAreInverted)?"vertical":"horizontal",g=this.getAxisColorScheme();k.chartType=j.chart;k.axisLength=$(this.renderTo).width();this.xAxis=new Splunk.JSCharting.NumericAxis(k,h,f,g);this.hcConfig.xAxis=$.extend(true,this.xAxis.getConfig(),{startOnTick:true,endOnTick:true})},formatTooltip:function(m,n){var r=this.xAxis.getKey(),s=(n.xAxisType==="time"),p=n.fieldNames[0],k=n.fieldNames[1],o=this.xAxis.formatTooltipValue.bind(this.xAxis),q=this.yAxis.formatTooltipValue.bind(this.yAxis),l=this.getTooltipName.bind(this);if(this.mode==="multiSeries"){$.extend(true,this.hcConfig,{tooltip:{formatter:function(){var a=Splunk.JSCharting.ColorUtils.removeAlphaFromColor(this.series.color);return['<span style="color:#cccccc">',(s?"":r+": "),"</span>",'<span style="color:',a,'">',l(this,s),"</span> <br/>",'<span style="color:#cccccc">',p,": </span>",'<span style="color:#ffffff">',o(this,"x"),"</span> <br/>",'<span style="color:#cccccc">',k,": </span>",'<span style="color:#ffffff">',q(this,"y"),"</span>"].join("")}}})}else{$.extend(true,this.hcConfig,{tooltip:{formatter:function(){return['<span style="color:#cccccc">',r,": </span>",'<span style="color:#ffffff">',o(this,"x"),"</span> <br/>",'<span style="color:#cccccc">',p,": </span>",'<span style="color:#ffffff">',q(this,"y"),"</span>"].join("")}}})}},getTooltipName:function(e,g){if(g){var f=e.series.name,h=e.point._span||1;return Splunk.JSCharting.TimeUtils.formatIsoStringAsTooltip(f,h)}return e.series.name},formatLegend:function(){var f=this.xAxis.getKey(),d=(this.processedData.xAxisType==="time"),e=this.getLegendName.bind(this);$.extend(true,this.hcConfig,{legend:{labelFormatter:function(){return e(this,d)}}})},getLegendName:function(e,g){if(g){var f=e.name,h=this.processedData._spanSeries[0]||1;return Splunk.JSCharting.TimeUtils.formatIsoStringAsTooltip(f,h)}return e.name},onPointClick:function(j,h){var m=this.processedData.xAxisKey,n=this.processedData.xAxisType,l=(this.mode==="multiSeries")?this.processedData.fieldNames[0]:m,k=(this.mode==="multiSeries")?this.processedData.fieldNames[1]:this.processedData.fieldNames[0],o={fields:(this.mode==="multiSeries")?[m,l,k]:[l,k],data:{},domEvent:h};o.data[m]=(n=="time")?Splunk.util.getEpochTimeFromISO(j.series.name):j.series.name;o.data[k]=j.y;if(n=="time"){o.data._span=j._span}o.data[l]=j.x;this.dispatchEvent("chartClicked",o)},addDataToConfig:function(){var b=this.processedData.fieldNames;if(b.length<1||(b.length===1&&this.processedData.xAxisType==="time")){this.chartIsEmpty=true;return}this.hcConfig.series=[];this.legendFieldNames=[];if(b.length===1){this.setMode("singleSeries");this.addSingleSeriesData()}else{this.setMode("multiSeries");this.addMultiSeriesData()}},addMultiSeriesData:function(){var s,n,t,q,p,u,l=this.processedData.fieldNames,r=this.processedData.series,m={},o={};for(s=0;s<r[l[0]].length;s++){q=r[l[0]][s].rawY;t=r[l[1]][s].rawY;if(this.logYAxis){t=this.mathUtils.absLogBaseTen(t)}p=r[l[0]][s].name;u={x:q,y:t,rawY:r[l[1]][s].rawY};if(this.processedData.xAxisType=="time"){u._span=r[l[0]][s]._span}if(m[p]){m[p].push(u)}else{m[p]=[u]}}for(s=0;s<r[l[0]].length;s++){n=r[l[0]][s].name;if(!o[n]){this.hcConfig.series.push({name:n,data:m[n]});this.legendFieldNames.push(n);o[n]=true}}},addSingleSeriesData:function(){var m,l,k,j=this.processedData.fieldNames,g=this.processedData.series,h=this.processedData.xSeries;this.hcConfig.series.push({name:"undefined",data:[]});for(m=0;m<h.length;m++){l=this.mathUtils.parseFloat(h[m],10);if(!isNaN(l)){k={x:l,rawY:g[j[0]][m].rawY};if(this.logYAxis){k.y=this.mathUtils.absLogBaseTen(k.rawY)}else{k.y=k.rawY}this.hcConfig.series[0].data.push(k)}}this.legendFieldNames.push(this.hcObjectId+"_scatter")},addLegendClasses:function(){},addTooltipClasses:function($super){if(!this.hasSVG){$super();return}var o,k,n,l,m,h=$(".highcharts-tooltip",$(this.renderTo)),j=(this.hasSVG)?$("tspan",h):$("span > span",h);for(o=0;o<j.length;o+=3){l=j[o];if(j.length<o+2){break}m=j[o+1];k=(this.hasSVG)?l.textContent.split(":"):$(l).html().split(":");n=k[0];this.addClassToElement(l,"key");this.addClassToElement(l,n+"-key");this.addClassToElement(m,"value");this.addClassToElement(m,n+"-value")}},addTimeTooltipClasses:function($super){if(!this.hasSVG){$super();return}var o,k,n,l,m,h=$(".highcharts-tooltip",$(this.renderTo)),j=(this.hasSVG)?$("tspan",h):$("span > span",h);this.addClassToElement(j[1],"time-value");this.addClassToElement(j[1],"value");for(o=3;o<j.length;o+=3){l=j[o];if(j.length<o+2){break}m=j[o+1];k=(this.hasSVG)?l.textContent.split(":"):$(l).html().split(":");n=k[0];this.addClassToElement(l,"key");this.addClassToElement(l,n+"-key");this.addClassToElement(m,"value");this.addClassToElement(m,n+"-value")}}});$.extend(true,Splunk.JSCharting.DEFAULT_HC_CONFIG,{plotOptions:{scatter:{marker:{radius:7,symbol:"square"}}}});Splunk.JSCharting.PieChart=$.klass(Splunk.JSCharting.PointBasedChart,{typeName:"pie-chart",pointCssSelector:(Splunk.JSCharting.hasSVG)?".highcharts-point path":".highcharts-point shape",initialize:function($super,b){$super(b);this.collapseFieldName="other";this.collapsePercent=0.01;this.showPercent=false;this.useTotalCount=false;this.legendFieldNames=[]},getFieldList:function(){return this.legendFieldNames},generateDefaultConfig:function($super){$super();$.extend(true,this.hcConfig,{chart:{type:"pie"},xAxis:{lineWidth:0},yAxis:{lineWidth:0,title:{text:null}},plotOptions:{pie:{dataLabels:{hooks:{xPositionHook:this.labelXPositionHook.bind(this),connectorPositionHook:this.connectorPositionHook.bind(this)}},hooks:{plotRenderHook:this.plotRenderHook.bind(this),beforeLabelRender:this.beforeLabelRenderHoook.bind(this)}}}})},destroy:function($super){if(this.hcChart){this.removeLabelHoverEffects()}$super()},applyPropertyByName:function($super,e,h,f){var g={"secondaryAxis.scale":true,"axisY.scale":true,"primaryAxisTitle.text":true,"axisTitleX.text":true};if(e in g){return}$super(e,h,f);switch(e){case"chart.sliceCollapsingThreshold":this.mapSliceCollapsingThreshold(h);break;case"chart.sliceCollapsingLabel":this.collapseFieldName=h;break;case"chart.showLabels":this.mapper.mapValue((h==="true"),["plotOptions","pie","dataLabels","enabled"]);break;case"chart.showPercent":this.showPercent=(h==="true");break;case"secondaryAxisTitle.text":if(!f.axisTitleY){this.mapper.mapValue(((h||h==="")?h:null),["yAxis","title","text"])}break;case"axisTitleY.text":this.mapper.mapValue(((h||h==="")?h:null),["yAxis","title","text"]);break;default:}},performPropertyCleanup:function($super){$super();$.extend(true,this.hcConfig,{yAxis:{title:{style:{color:this.fontColor}}},plotOptions:{pie:{dataLabels:{color:this.fontColor,connectorColor:this.foregroundColorSoft}}}})},focusPoint:function(d,c){d.graphic.attr({fill:d.color,"stroke-width":0,stroke:d.color})},mapSliceCollapsingThreshold:function(d){var c=parseFloat(d,10);if(!isNaN(c)){c=(c>1)?1:c;this.collapsePercent=c}},applyFormatting:function(e,g){var h=(this.processedData.xAxisType==="time"),f=this.getLabel.bind(this);this.formatTooltip(e,g);$.extend(true,this.hcConfig,{plotOptions:{pie:{dataLabels:{formatter:function(){return f(this,h)}}}}})},onDrawFinished:function($super,d,c){if(this.hcConfig.plotOptions.pie.dataLabels.enabled!==false){this.addLabelHoverEffects(d)}$super(d,c)},addLabelHoverEffects:function(f){var e,d=this;$(f.series[0].data).each(function(b,a){e=a.dataLabel.element;$(e).bind("mouseover.splunk_jscharting",function(){d.onLabelMouseOver(a)});$(e).bind("mouseout.splunk_jscharting",function(){d.onLabelMouseOut(a)})})},removeLabelHoverEffects:function(){if(this.hcChart){var b=this;$(this.hcChart.series[0].data).each(function(a,d){labelElement=d.dataLabel.element;$(labelElement).unbind(".splunk_jscharting")})}},onPointMouseOver:function($super,b){$super(b);this.highlightLabel(b)},onPointMouseOut:function($super,b){$super(b);this.unHighlightLabel(b)},onLabelMouseOver:function(b){this.highlightPoint(b);this.highlightLabel(b)},onLabelMouseOut:function(b){this.unHighlightPoint(b);this.unHighlightLabel(b)},highlightLabel:function(f){if(!f||!f.series){return}var h,g,e=f.series;for(h=0;h<e.data.length;h++){g=e.data[h];if(!g.dataLabel){break}if(g!==f){g.dataLabel.attr("fill-opacity",this.fadedElementOpacity)}}},unHighlightLabel:function(f){if(!f||!f.series){return}var h,g,e=f.series;for(h=0;h<e.data.length;h++){g=e.data[h];if(!g.dataLabel){break}if(g!==f){g.dataLabel.attr("fill-opacity",1)}}},plotRenderHook:function(d){var c=d.chart;d.options.size=Math.min(c.plotHeight*0.75,c.plotWidth/3)},labelXPositionHook:function(l,m,h,g){var k=l.chart,j=m.distance;return(k.plotLeft+l.center[0]+(g?(h+j/2):(-h-j)))},connectorPositionHook:function(m){var l={x:m[1],y:m[2]},q={x:m[4],y:m[5]},p={x:m[7],y:m[8]};var n=(p.y-q.y)/(p.x-q.x),j={x:p.x+(l.y-p.y)/n,y:l.y};var k=(l.x>=j.x&&j.x<=p.x)||(l.x<=j.x&&j.x>=p.x),o=(k)?["M",l.x,l.y,"L",p.x,p.y]:["M",l.x,l.y,"L",j.x,j.y,"L",p.x,p.y];m.length=0;Array.prototype.push.apply(m,o)},beforeLabelRenderHoook:function(y){var x,q,o=y.options,A=o.dataLabels.distance,p=o.size,u=y.chart,v=u.renderer,s=new Splunk.JSCharting.FormattingHelper(v),z=11,t=9,r=(u.plotWidth-(p+2*A))/2,w=[];for(x=0;x<y.data.length;x++){w.push(y.data[x].rawName)}q=s.adjustLabels(w,r,t,z,"middle");for(x=0;x<y.data.length;x++){y.data[x].name=q.labels[x];if(y.data[x].dataLabel&&y.data[x].dataLabel.css){y.data[x].dataLabel.css({"font-size":q.fontSize+"px"})}}$.extend(true,o.dataLabels,{style:{"font-size":q.fontSize+"px"},y:q.fontSize/4});s.destroy()},getLabel:function(k,h){if(h){var g=k.point.name,j=k.point._span||1,f=Splunk.JSCharting.TimeUtils.formatIsoStringAsTooltip(g,j);return f||k.point.name}return k.point.name},formatTooltip:function(m,k){var j=k.xAxisKey,l=(k.xAxisType==="time"),g=this.getTooltipName.bind(this),h=this.useTotalCount;$.extend(true,this.hcConfig,{tooltip:{formatter:function(){var a=Splunk.JSCharting.ColorUtils.removeAlphaFromColor(this.point.color);return['<span style="color:#cccccc">',(l?"":j+": "),"</span>",'<span style="color:',a,'">',g(this,l),"</span> <br/>",'<span style="color:#cccccc">',this.series.name,": </span>",'<span style="color:#ffffff">',this.y,"</span> <br/>",'<span style="color:#cccccc">',((h)?"percent":this.series.name+"%"),": </span>",'<span style="color:#ffffff">',format_percent(this.percentage/100),"</span>"].join("")}}})},getTooltipName:function(e,g){if(g){var f=e.point.name,h=e.point._span||1;formattedTime=Splunk.JSCharting.TimeUtils.formatIsoStringAsTooltip(f,h);return formattedTime||e.point.name}return e.point.rawName},processData:function($super,f,d,e){if(false&&f.series._tc&&f.series._tc.length>0){this.useTotalCount=true;this.totalCount=parseInt(f.series._tc[0].rawY,10)}else{this.useTotalCount=false}$super(f,d,e)},addDataToConfig:function(){this.legendFieldNames=[];if(false&&this.useTotalCount){this.addDataWithTotalCount()}else{this.addDataWithCollapsing()}},addDataWithCollapsing:function(){var r,n,q,o,t=0,v=0,u=0,m=this.processedData.fieldNames,s=this.processedData.series,p=s[m[0]],w=[];for(r=0;r<p.length;r++){t+=p[r].rawY}for(r=0;r<p.length;r++){n=p[r];n.y=n.rawY;if(n.y>0){q=n.y/t;if(q<this.collapsePercent){u+=n.y;v++}else{n.rawName=n.name;if(this.showPercent){n.name+=", "+format_percent(q)}w.push(n);this.legendFieldNames.push(n.rawName)}}}if(v>0){w.push({name:this.collapseFieldName+" ("+v+")"+((this.showPercent)?", "+format_percent(u/t):""),rawName:this.collapseFieldName+" ("+v+")",y:u});this.legendFieldNames.push("__other")}this.hcConfig.series=[{name:m[0],data:w}]},addLegendClasses:function(){},addTooltipClasses:function($super){if(!this.hasSVG){$super();return}var o,k,n,l,m,h=$(".highcharts-tooltip",$(this.renderTo)),j=(this.hasSVG)?$("tspan",h):$("span > span",h);for(o=0;o<j.length;o+=3){l=j[o];if(j.length<o+2){break}m=j[o+1];k=(this.hasSVG)?l.textContent.split(":"):$(l).html().split(":");n=k[0];this.addClassToElement(l,"key");this.addClassToElement(l,n+"-key");this.addClassToElement(m,"value");this.addClassToElement(m,n+"-value")}},addTimeTooltipClasses:function($super){if(!this.hasSVG){$super();return}var o,k,n,l,m,h=$(".highcharts-tooltip",$(this.renderTo)),j=(this.hasSVG)?$("tspan",h):$("span > span",h);this.addClassToElement(j[1],"time-value");this.addClassToElement(j[1],"value");for(o=3;o<j.length;o+=3){l=j[o];if(j.length<o+2){break}m=j[o+1];k=(this.hasSVG)?l.textContent.split(":"):$(l).html().split(":");n=k[0];this.addClassToElement(l,"key");this.addClassToElement(l,n+"-key");this.addClassToElement(m,"value");this.addClassToElement(m,n+"-value")}}});$.extend(true,Splunk.JSCharting.DEFAULT_HC_CONFIG,{plotOptions:{pie:{borderWidth:0,shadow:false,dataLabels:{softConnector:false,style:{cursor:"default"}}}}});Splunk.JSCharting.HybridChart=$.klass(Splunk.JSCharting.PointBasedChart,{seriesTypeMap:{},defaultSeriesType:"column",applyPropertyByName:function($super,d,f,e){$super(d,f,e);switch(d){case"chart.seriesTypeMap":this.seriesTypeMap=this.parseUtils.stringToMap(f)||{};break;case"chart.defaultSeriesType":this.defaultSeriesType=f||this.defaultSeriesType;break;default:break}},constructSeriesObject:function($super,f,h,e){var g=$super(f,h,e);if(this.seriesTypeMap[f]){g.type=this.seriesTypeMap[f]}else{g.type=this.defaultSeriesType}return g}});Splunk.JSCharting.SplitSeriesChart=$.klass(Splunk.JSCharting.AbstractChart,{needsColorPalette:true,interChartSpacing:10,hiddenAxisConfig:{labels:{enabled:false},tickLength:0,lineWidth:0,title:{style:{color:this.fontColor}}},initialize:function($super,c,d){$super(c);this.seriesConstructor=d;this.innerConstructor=this.generateInnerConstructor(d);this.innerHeights=[];this.innerTops=[];this.innerWidth=0;this.innerLeft=0;this.innerCharts=[];this.bottomSpacing=0;this.yMin=Infinity;this.yMax=-Infinity},prepare:function($super,f,d,e){$super(f,d,e);this.data=f;this.fieldInfo=d;if(!this.chartIsEmpty){this.calculateYExtremes();this.bottomSpacing=this.guessBottomSpacing(f)}},setColors:function(b){this.hcConfig.colors=$.extend(true,[],b)},guessBottomSpacing:function(c){if(this.properties.chart!=="bar"&&c.xAxisType==="time"){var d=(c._spanSeries)?parseInt(c._spanSeries[0],10):1;return(d>=(24*60*60))?28:42}return 13},resize:function($super,c,d){$super(c,d);this.calculateInnerSizes();this.resizeInnerCharts()},generateDefaultConfig:function($super){$super();$.extend(true,this.hcConfig,{chart:{type:this.properties.chart},plotOptions:{line:{marker:{radius:(this.properties["chart.showMarkers"]==="true")?8:0}}}})},onDrawFinished:function($super,d,c){this.drawCallback=c;$super(d)},onDrawOrResize:function($super,b){this.calculateInnerSizes(b);if(this.innerCharts&&this.innerCharts.length>0){this.resizeInnerCharts()}else{this.insertInnerContainers(b);this.drawInnerCharts()}$super(b)},resizeInnerCharts:function(){var d,e,f=$(".sschart-inner-container",$(this.renderTo));for(d=0;d<f.length;d++){e=f.length-1-d;f.eq(d).css({left:this.innerLeft+"px",top:this.innerTops[e]+"px",width:this.innerWidth+"px",height:this.innerHeights[e]+"px"});this.innerCharts[d].resize(this.innerWidth,this.innerHeights[e])}},destroy:function($super){for(var b=0;b<this.innerCharts.length;b++){this.innerCharts[b].destroy()}this.innerCharts=[];$super();$(this.renderTo).empty()},addDataToConfig:function($super){this.fieldsToShow=[];$super();this.numSeries=this.fieldsToShow.length},calculateYExtremes:function(){var h,e,g,f;for(h=0;h<this.data.fieldNames.length;h++){g=this.data.fieldNames[h];for(e=0;e<this.data.series[g].length;e++){f=this.data.series[g][e];if(!isNaN(f.y)){this.yMin=Math.min(this.yMin,f.y);this.yMax=Math.max(this.yMax,f.y)}}}if(this.logYAxis){this.yMin=this.mathUtils.absLogBaseTen(this.yMin);this.yMax=this.mathUtils.absLogBaseTen(this.yMax)}},constructSeriesObject:function(e,f,d){this.fieldsToShow.push(e);return{name:e,data:[]}},applyFormatting:function(d,c){this.formatXAxis(d,c);this.formatYAxis(d,c);this.formatLegend()},addEventHandlers:function(d,c){this.addLegendHandlers(d);this.addRedrawHandlers()},formatXAxis:function($super,d,f){var e=null;if(d["axisTitleX.text"]!==undefined){e=d["axisTitleX.text"]}else{if(d["primaryAxisTitle.text"]!==undefined){e=d["primaryAxisTitle.text"]}else{e=this.processedData.xAxisKey}}$.extend(true,this.hcConfig,{xAxis:$.extend(true,this.hiddenAxisConfig,{title:{text:e,style:{color:this.fontColor}}})})},formatYAxis:function(d,f){var e=null;if(d["axisTitleY.text"]!==undefined){e=d["axisTitleY.text"]}else{if(d["secondaryAxisTitle.text"]!==undefined){e=d["secondaryAxisTitle.text"]}else{if(this.processedData.fieldNames.length===1){e=this.processedData.fieldNames[0]}}}$.extend(true,this.hcConfig,{yAxis:$.extend(true,this.hiddenAxisConfig,{title:{text:e,style:{color:this.fontColor}}})})},calculateInnerSizes:function(m){var n,j,h,m=m||this.hcChart,o=m.plotHeight-this.bottomSpacing,l=((o-(this.numSeries-1)*this.interChartSpacing)/this.numSeries),k=m.plotTop+o+this.interChartSpacing-l;this.innerWidth=m.plotWidth;this.innerLeft=m.plotLeft;this.innerHeights=[];this.innerTops=[];for(n=0;n<this.fieldsToShow.length;n++){j=(n===0)?(l+this.bottomSpacing-this.interChartSpacing):(l-this.interChartSpacing);this.innerHeights.push(j);h=(k-(n*j));this.innerTops.push(h)}},insertInnerContainers:function(c){for(var d=this.fieldsToShow.length-1;d>=0;d--){$("#"+c.container.id).append($('<div class="sschart-inner-container"></div>').css({position:"absolute",left:this.innerLeft+"px",top:this.innerTops[d]+"px",width:this.innerWidth+"px",height:this.innerHeights[d]+"px"}))}},drawInnerCharts:function(){var q,r,u,t,m,s=$(".sschart-inner-container",$(this.renderTo)),j=this.processedData.fieldNames,p=this.processedData.series,n=0,o=function(){n++;if(n===this.numSeries){setTimeout(this.onInnerChartsDrawn.bind(this),15)}}.bind(this);for(q=0;q<this.fieldsToShow.length;q++){u=$.extend(true,{},this.data);u.fieldNames=[j[q]];for(r=0;r<j.length;r++){if(r!==q){delete u.series[j[r]]}}t=$.extend(true,{},this.properties,{"legend.placement":"none"});m=new this.innerConstructor(s[q],q,(q===j.length-1));this.innerCharts.push(m);m.prepare(u,this.fieldInfo,t);m.setColors([this.hcConfig.colors[q]]);m.draw(o)}},addTestingMetadata:function(b){},onInnerChartsDrawn:function(){for(var f=0;f<this.innerCharts.length;f++){var e=this.innerCharts[f];e.addEventListener("chartClicked",function(a){this.dispatchEvent("chartClicked",a)}.bind(this))}var d={series:[]};for(var f=0;f<this.innerCharts.length;f++){d.series.push({data:this.innerCharts[f].hcChart.series[0].data})}if(this.drawCallback){this.drawCallback(d)}},onLegendMouseOver:function(b){this.highlightThisChild(b.index);this.highlightSeriesInLegend(b)},onLegendMouseOut:function(b){this.unHighlightThisChild(b.index);this.unHighlightSeriesInLegend(b)},highlightThisChild:function(d){var f,e;for(var f=0;f<this.innerCharts.length;f++){if(f!==d){e=this.innerCharts[f];e.fadeSeries(e.hcChart.series[0])}}},unHighlightThisChild:function(d){var f,e;for(var f=0;f<this.innerCharts.length;f++){if(f!==d){e=this.innerCharts[f];e.focusSeries(e.hcChart.series[0])}}},generateInnerConstructor:function(e){var f=this,d=(e===Splunk.JSCharting.BarChart);return $.klass(e,{initialize:function($super,c,b,a){$super(c);this.index=b;this.isBottom=a},generateDefaultConfig:function($super){$super();$.extend(true,this.hcConfig,{chart:{ignoreHiddenSeries:false,reflow:false}})},formatXAxis:function($super,b,a){$super(b,a);if(!this.isBottom&&!d){$.extend(true,this.hcConfig,{xAxis:f.hiddenAxisConfig})}$.extend(true,this.hcConfig,{xAxis:{title:{text:null}}})},formatYAxis:function($super,b,a){$super(b,a);if(!this.isBottom&&d){$.extend(true,this.hcConfig,{yAxis:f.hiddenAxisConfig})}$.extend(true,this.hcConfig,{yAxis:{title:{text:null}}})},addDataToConfig:function($super){$super();this.hcConfig.series.push({name:"placeholder",data:[f.yMin,f.yMax],showInLegend:false,visible:false})},onPointMouseOver:function($super,a){$super(a);f.highlightThisChild(this.index);f.highlightIndexInLegend(this.index)},onPointMouseOut:function($super,a){$super(a);f.unHighlightThisChild(this.index);f.unHighlightIndexInLegend(this.index)}})}});Splunk.JSCharting.AbstractAxis=$.klass({hasSVG:Splunk.JSCharting.hasSVG,initialize:function(h,g,e,f){this.properties=h;this.data=g;this.isVertical=(e==="vertical");this.hcAxis=false;this.foregroundColorSoft=f.foregroundColorSoft;this.foregroundColorSofter=f.foregroundColorSofter;this.fontColor=f.fontColor;this.extendsAxisRange=false;this.id="js-charting-axis-"+Splunk.JSCharting.AbstractAxis.idCounter;Splunk.JSCharting.AbstractAxis.idCounter++;this.mathUtils=Splunk.JSCharting.MathUtils;this.generateConfig();this.applyProperties();this.addRenderHooks()},getKey:function(){return this.data.xAxisKey},getType:function(){return this.type},getConfig:function(){return this.hcConfig},getExtremes:function(b){if(!this.hcAxis){if(!b){return undefined}this.hcAxis=this.getAxis(b)}return this.hcAxis.getExtremes()},getAxis:function(b){return b.get(this.id)},formatTooltipValue:function(d,c){},onDrawOrResize:function(c,d){this.hcAxis=c.get(this.id);this.postDrawCleanup(this.hcAxis,d,c)},generateConfig:function(){var b=this;if(this.isVertical){this.hcConfig=$.extend(true,{},Splunk.JSCharting.AbstractAxis.DEFAULT_VERT_CONFIG)}else{this.hcConfig=$.extend(true,{},Splunk.JSCharting.AbstractAxis.DEFAULT_HORIZ_CONFIG)}$.extend(true,this.hcConfig,{lineColor:this.foregroundColorSoft,gridLineColor:this.foregroundColorSofter,tickColor:this.foregroundColorSoft,minorTickColor:this.foregroundColorSoft,title:{style:{color:this.fontColor}},labels:{style:{color:this.fontColor}}});this.mapper=new Splunk.JSCharting.PropertyMapper(this.hcConfig);this.hcConfig.id=this.id;this.hcConfig.labels.formatter=function(){return b.formatLabel.call(b,this)}},applyProperties:function(){for(var b in this.properties){if(this.properties.hasOwnProperty(b)){this.applyPropertyByName(b,this.properties[b])}}this.postProcessProperties()},applyPropertyByName:function(e,d){switch(e){case"axisTitle.text":this.mapper.mapValue(((d||d==="")?d:null),["title","text"]);break;case"axisLabels.axisVisibility":this.mapper.mapValue(((d==="hide")?0:1),["lineWidth"]);break;case"axisLabels.majorTickSize":this.mapper.mapIfInt(d,["tickLength"]);break;case"axisLabels.majorTickVisibility":this.mapper.mapValue(((d==="hide")?0:1),["tickWidth"]);break;case"axisLabels.majorLabelVisibility":this.mapper.mapValue((d!=="hide"),["labels","enabled"]);break;case"axisLabels.majorUnit":this.mapper.mapIfInt(d,["tickInterval"]);break;case"axisLabels.minorTickSize":this.mapper.mapIfInt(d,["minTickLength"]);break;case"axisLabels.minorTickVisibility":var f=(d!=="hide");this.mapper.mapValue((f?1:0),["minorTickWidth"]);this.mapper.mapValue((f?"auto":null),["minorTickInterval"]);break;case"axisLabels.extendsAxisRange":this.extendsAxisRange=(d==="true");this.mapper.mapValue(this.extendsAxisRange,["endOnTick"]);break;case"gridLines.showMajorLines":this.mapper.mapValue(((d==="false")?0:1),["gridLineWidth"]);break;case"gridLines.showMinorLines":this.mapper.mapValue(((d==="true")?1:0),["minorGridLineWidth"]);break;default:break}},postProcessProperties:function(){},addRenderHooks:function(){},formatLabel:function(b){return b.value},postDrawCleanup:function(f,e,d){},getFirstTick:function(f){var e,d;for(e in f){if(f.hasOwnProperty(e)){if(!d||f[e].pos<d.pos){d=f[e]}}}return d},getLastTick:function(f){var d,e;for(d in f){if(f.hasOwnProperty(d)){if(!e||f[d].pos>e.pos){e=f[d]}}}return e},getTicksAsOrderedArray:function(f){var e,d=[];for(e in f){if(f.hasOwnProperty(e)){d.push(f[e])}}d.sort(function(a,b){return(a.pos-b.pos)});return d}});Splunk.JSCharting.AbstractAxis.idCounter=0;Splunk.JSCharting.AbstractAxis.DEFAULT_HORIZ_CONFIG={lineWidth:1,tickLength:25,tickWidth:1,minorTickLength:10,tickPlacement:"between",minorGridLineWidth:0,minPadding:0,maxPadding:0,showFirstLabel:true,showLastLabel:true,x:0,labels:{align:"left",x:3},title:{text:null,margin:20},min:null,max:null};Splunk.JSCharting.AbstractAxis.DEFAULT_VERT_CONFIG={title:{text:null},tickWidth:1,tickLength:25,minorTickLength:10,showFirstLabel:true,showLastLabel:true,lineWidth:1,minorGridLineWidth:0,minPadding:0,maxPadding:0,labels:{y:(this.hasSVG?11:13)},min:null,max:null};Splunk.JSCharting.NumericAxis=$.klass(Splunk.JSCharting.AbstractAxis,{type:"numeric",initialize:function($super,h,g,e,f){this.includeZero=false;this.logScale=false;this.userMin=-Infinity;this.userMax=Infinity;$super(h,g,e,f)},generateConfig:function($super){$super();this.mapper.mapObject({minPadding:0.01,maxPadding:0.01})},applyPropertyByName:function($super,d,f){$super(d,f);switch(d){case"axis.minimumNumber":var e=parseFloat(f,10);if(!isNaN(e)){this.userMin=e}break;case"axis.maximumNumber":var e=parseFloat(f,10);if(!isNaN(e)){this.userMax=e}break;case"axis.includeZero":this.includeZero=(f==="true");break;case"axisLabels.integerUnits":this.mapper.mapValue((f!=="true"),["allowDecimals"]);break;case"axis.scale":this.logScale=(f==="log");break;default:break}},postProcessProperties:function($super){$super();if(this.userMin>this.userMax){var b=this.userMin;this.userMin=this.userMax;this.userMax=b}this.adjustUserMin();this.adjustUserMax()},adjustUserMin:function(){var b=(!(isNaN(this.userMin))&&this.userMin!==-Infinity);if(this.includeZero&&b&&this.userMin>0){this.userMin=0}if(this.logScale&&b){this.userMin=this.mathUtils.absLogBaseTen(this.userMin)}if(b){this.mapper.mapObject({min:this.userMin,minPadding:0,startOnTick:false})}},adjustUserMax:function(){var b=(!(isNaN(this.userMax))&&this.userMax!==Infinity);if(this.includeZero&&b&&this.userMax<0){this.userMax=0}if(this.logScale&&b){this.userMax=this.mathUtils.absLogBaseTen(this.userMax)}if(b){this.mapper.mapObject({max:this.userMax,maxPadding:0,endOnTick:false})}},formatLabel:function(b){if(this.logScale){value=this.mathUtils.absPowerTen(b.value)}else{value=b.value}return this.formatNumber(value)},formatTooltipValue:function(d,f){if(this.logScale){var e={y:"rawY",x:"rawX"};return this.formatNumber(d.point[e[f]])}return this.formatNumber(d[f])},formatNumber:function(b){return format_decimal(b)},addRenderHooks:function(){$.extend(this.hcConfig,{hooks:{tickRenderStart:this.tickRenderStartHook.bind(this)}})},tickRenderStartHook:function(f,g,h){var e=Splunk.JSCharting.FormattingHelper(h.renderer);g.min=f.min||g.dataMin;g.max=f.max||g.dataMax;if(this.logScale){this.formatLogAxes(f,g)}else{if(this.hcConfig.tickInterval){this.checkMajorUnitFit(this.hcConfig.tickInterval,g,f,e,h)}}if(this.includeZero){this.enforceIncludeZero(f,g)}else{this.adjustAxisRange(f,g)}e.destroy()},formatLogAxes:function(h,g){var e=Math.ceil(g.min),f=(h.endOnTick)?Math.ceil(g.max):g.max;if(Math.abs(f-e)>=1){h.tickInterval=1}else{h.tickInterval=null}},checkMajorUnitFit:function(v,r,p,u,x){var A=Math.abs(r.max-r.min),z=(this.isVertical)?x.plotHeight:x.plotWidth,y=v*z/A,B=Math.max(Math.abs(r.min),Math.abs(r.max)),C=(this.isVertical)?2:5,q=parseInt((p.labels.style.fontSize.split("px"))[0],10),w=function(a){return(a*A/z)};if(this.isVertical){var s=u.predictTextHeight(B,q);if(y<(s+2*C)){p.tickInterval=Math.ceil(w((s+2*C),true))}}else{var t=u.predictTextWidth(B,q);if(y<(t+2*C)){p.tickInterval=Math.ceil(w((t+2*C),true))}}},enforceIncludeZero:function(d,c){if(c.min>0){d.min=0}else{if(c.max<0){d.max=0}}},adjustAxisRange:function(k,h){if(!h.min&&!h.max){k.min=0;k.max=100;return}if(h.min>h.dataMax&&h.min>0&&this.userMax===Infinity){k.max=(this.logScale)?h.min+2:h.min*2;return}if(h.max<h.dataMin&&h.max<0&&this.userMin===-Infinity){k.min=(this.logScale)?h.max-2:h.max*2;return}var f=Math.abs(h.max-h.min),j=f*k.minPadding,g=f*k.maxPadding;if(h.dataMin>=0&&h.dataMin<j&&this.userMin===-Infinity){k.minPadding=0;k.min=0}else{if(h.dataMax<=0&&h.dataMax>-g&&this.userMax===Infinity){k.maxPadding=0;k.max=0}}},postDrawCleanup:function($super,k,g,f){$super(k,g,f);var j=11,h=2;if(this.isVertical){this.checkFirstLabelFit(k,g,f,j)}else{this.checkLastLabelFit(k,g,f,j)}},checkLastLabelFit:function(n,h,o,l){var j=this.getLastTick(n.ticks);if(!j||!j.label){return}var k=5,m=(o.plotWidth-n.translate(j.pos))-k;if(m<=0||j.label.getBBox().width>m){j.label.hide()}else{j.label.show()}},checkFirstLabelFit:function(o,j,h,m){var n=this.getFirstTick(o.ticks);if(!n||!n.label){return}var k=2,l=o.translate(n.pos)-k;if(l<=0||n.label.getBBox().height>l){n.label.hide()}else{n.label.show()}}});Splunk.JSCharting.CategoryAxis=$.klass(Splunk.JSCharting.AbstractAxis,{type:"category",applyPropertyByName:function($super,d,c){$super(d,c);switch(d){case"axisLabels.hideCategories":if(c===true){this.mapper.mapValue(false,["labels","enabled"]);this.mapper.mapValue(0,["tickWidth"]);break}default:}},generateConfig:function($super){$super();this.chartIsLineBased=(this.properties.chartType in {line:1,area:1});this.mapper.mapObject({categories:this.data.categories,startOnTick:this.chartIsLineBased,tickmarkPlacement:(this.chartIsLineBased)?"on":"between",hooks:{tickLabelsRenderStart:this.tickLabelsRenderStartHook.bind(this)}});if(this.isVertical){this.mapper.mapObject({labels:{align:"right",x:-8}})}else{this.mapper.mapObject({labels:{align:"left"},max:(this.chartIsLineBased)?this.data.categories.length:null,endOnTick:this.chartIsLineBased,showLastLabel:false})}},tickLabelsRenderStartHook:function(l,r,o){if(!l.labels.enabled){return}var n=new Splunk.JSCharting.FormattingHelper(o.renderer);if(!l.originalCategories){l.originalCategories=$.extend(true,[],r)}if(this.isVertical){var t,s,m=Math.floor(o.chartWidth/6);t=this.fitLabelsToWidth(l,r,n,m);s=n.predictTextHeight("Test",t);l.labels.y=(s/3)}else{var u=5,q=o.plotWidth,p=(r.length>0)?(q/r.length):q,m=p-(2*u);this.fitLabelsToWidth(l,r,n,m);if(l.tickmarkPlacement==="between"){l.labels.align="left";l.labels.x=-(p/2)+u}else{l.labels.align="left";l.labels.x=u}}n.destroy()},formatTooltipValue:function(d,c){return d.point.name},fitLabelsToWidth:function(k,q,n,m){var r,o,s=11,p=9,l=n.adjustLabels(k.originalCategories,m,p,s,"middle");for(r=0;r<l.labels.length;r++){q[r]=l.labels[r]}k.labels.style["font-size"]=l.fontSize+"px";return l.fontSize}});Splunk.JSCharting.TimeAxis=$.klass(Splunk.JSCharting.CategoryAxis,{numLabelCutoff:6,type:"time",initialize:function($super,h,g,e,f){this.timeUtils=Splunk.JSCharting.TimeUtils;$super(h,g,e,f)},generateConfig:function($super){var e=this.data.xSeries,f=this.data._spanSeries,d=this.timeUtils.convertTimeToCategories(e,f,this.numLabelCutoff);this.data.categories=d.categories;this.rawLabels=d.rawLabels;$super();this.mapper.mapObject({hooks:{tickPositionsSet:this.tickPositionsSetHook.bind(this)}})},formatTooltipValue:function(e,g){var f=e.point.name,h=parseInt(e.point._span,10)||1;return this.timeUtils.formatIsoStringAsTooltip(f,h)},tickLabelsRenderStartHook:function(o,h,n){var k=(this.isVertical)?2:5,j=(this.isVertical)?n.plotHeight:n.plotWidth,l=(h.length>0)?(j/h.length):axisWidth;if(this.isVertical){var m=parseInt((o.labels.style.fontSize.split("px"))[0],10);o.labels.y=(l/2)+m+k}else{if(o.tickmarkPlacement==="on"){o.labels.align="left";o.labels.x=k}else{o.labels.align="left";o.labels.x=(l/2)+k}}if(!this.hasSVG){o.labels.style["white-space"]="nowrap";o.labels.style.width="auto"}},tickPositionsSetHook:function(m,h,g,k){if(!m.originalCategories){m.originalCategories=$.extend(true,[],h)}var l,j=m.originalCategories;g.length=0;for(l=0;l<j.length;l++){if(j[l]&&j[l]!==" "){if(m.tickmarkPlacement==="on"){g.push(l)}else{g.push(l-1);h[l-1]=j[l]}}}},postDrawCleanup:function($super,j,m,k){$super(j,m,k);if(!j.options.labels.enabled){return}var g,l=this.getTicksAsOrderedArray(j.ticks),h=l[l.length-1];this.resolveLabelCollisions(l,this.rawLabels,m,k);if(m.elementIsVisible(h.mark)){if(!this.lastLabelFits(h,j,k)){h.label.hide()}else{h.label.show()}}},lastLabelFits:function(h,m,g){if(!h.label){return}if(this.isVertical){var k,j=3;k=(g.plotTop+g.plotHeight-h.label.getBBox().y)-j;if(h.labelBBox.height>k){return false}}else{var l,j=5;l=(g.plotLeft+g.plotWidth-h.label.getBBox().x)-j;if(h.labelBBox.width>l){return false}}return true},resolveLabelCollisions:function(v,F,u,x){if(v.length<2){return}var D,B,C,s,E,G,w=10,H=5,z=false,t=this.data._spanSeries[0],A=(v.length>1)?(v[1].pos-v[0].pos):1,I=t*A,y=(this.isVertical)?function(a,b){return(b.y<=a.y+a.height+H)}:function(a,b){return(b.x<=a.x+a.width+w)};for(D=0;D<v.length-2;D++){B=u.getTickLabelBBox(v[D]);C=u.getTickLabelBBox(v[D+1]);if(y(B,C)){z=true;break}}if(z){for(D=1;D<v.length;D++){if(D%2===0){s=this.timeUtils.extractBdTime(F[D]);E=this.timeUtils.extractBdTime(F[D-2]);u.setElementText(v[D].label,this.timeUtils.formatBdTimeAsLabel(s,I,E))}else{v[D].label.hide();if(v[D].mark){v[D].mark.hide()}}}}else{for(D=1;D<v.length;D++){if(D%2===0){s=this.timeUtils.extractBdTime(F[D]);E=this.timeUtils.extractBdTime(F[D-1]);u.setElementText(v[D].label,this.timeUtils.formatBdTimeAsLabel(s,I,E))}else{v[D].label.show();if(v[D].mark){v[D].mark.show()}}}}}});Splunk.JSCharting.PropertyMapper=function(d){var c=this;c.mapIfInt=function(b,a){var f=parseInt(b,10);if(isNaN(f)){return}c.mapValue(f,a)};c.mapIfFloat=function(b,a){var f=parseFloat(b);if(isNaN(f)){return}c.mapValue(f,a)};c.mapValue=function(a,m){var k,l,j={},b=j;for(k=0;k<m.length-1;k++){l=b;l[m[k]]={};b=l[m[k]]}b[m[m.length-1]]=a;$.extend(true,d,j)};c.mapObject=function(a){$.extend(true,d,a)};return c};Splunk.JSCharting.FormattingHelper=function(f){var d=this,e=Splunk.JSCharting.hasSVG;d.getElementText=function(a){return(e)?a.textStr:$(a.element).html()};d.setElementText=function(a,b){a.added=true;a.attr({text:b})};d.elementIsVisible=function(a){if(e){return a.attr("visibility")!=="hidden"}return a.element.style.visibility!=="hidden"};d.getTickLabelBBox=function(a){var b=a.label.getBBox();if(!e){b.x=a.label.x;b.y=a.label.y}return b};d.ellipsize=function(c,y,b,t){if(c.length<=3){return c}if(!y||isNaN(parseFloat(y,10))){return"..."}if(!b||isNaN(parseFloat(b,10))){return c}if(d.predictTextWidth(c,b)<=y){return c}if(!d.ellipsisWidth){d.ellipsisWidth=d.predictTextWidth("...",b)}switch(t){case"start":var a=d.reverseString(c),u=d.trimStringToWidth(a,(y-d.ellipsisWidth),b);return"..."+d.reverseString(u);case"end":return d.trimStringToWidth(c,(y-d.ellipsisWidth),b)+"...";default:var s=c.substr(0,Math.ceil(c.length/2)),q=c.substr(Math.floor(c.length/2)),x=(y-d.ellipsisWidth)/2,v=d.reverseString(q),r=d.trimStringToWidth(s,x,b),w=d.trimStringToWidth(v,x,b);return r+"..."+d.reverseString(w)}};d.trimStringToWidth=function(a,j,b){var k=function(g,m){var h;while(m>g+1){h=Math.floor((g+m)/2);if(d.predictTextWidth(a.substr(0,h),b)>j){m=h}else{g=h}}return g},c=k(0,a.length);return a.substr(0,c)};d.reverseString=function(a){return a.split("").reverse().join("")};d.predictTextWidth=function(a,b){if(!b||!a){return 0}var c=(d.getTextBBox(a,b));return(c)?c.width:0};d.predictTextHeight=function(a,b){if(!b||!a){return 0}var c=(d.getTextBBox(a,b));return(c)?c.height:0};d.getTextBBox=function(a,b){if(isNaN(parseFloat(b,10))){return undefined}if(d.textPredicter){d.textPredicter.destroy()}d.textPredicter=f.text(a,0,0).attr({visibility:"hidden"}).css({fontSize:b+"px"}).add();return d.textPredicter.getBBox()};d.adjustLabels=function(v,u,r,w,s){var q,a,t,p=$.extend(true,[],v),b="",c=false;for(q=0;q<p.length;q++){if(p[q]&&p[q].length>b.length){b=p[q]}}for(a=w;a>r;a--){c=(d.predictTextWidth(b,a)<=u);if(c){break}}if(!c){for(q=0;q<p.length;q++){p[q]=d.ellipsize(p[q],u,a,s)}}return{labels:p,fontSize:a,areEllipsized:!c,longestWidth:d.predictTextWidth(b,a)}};d.bBoxesOverlap=function(v,w,q,r){var q=q||0,r=r||0,b=v.x-q,s=w.x-q,y=v.x+v.width+2*q,x=w.x+w.width+2*q,c=v.y-r,t=w.y-r,u=v.y+v.height+2*r,a=w.y+w.height+2*r;return((b<x)&&(y>s)&&(c<a)&&(u>t))};d.destroy=function(){if(d.textPredicter){d.textPredicter.destroy();d.textPredicter=false}};return d};Splunk.JSCharting.ListColorPalette=function(e,f){var d=this,e=e||Splunk.JSCharting.ListColorPalette.DEFAULT_COLORS,f=(f)?true:false;d.getColor=function(c,n,m){var l,a,b,o=e.length;if(o==0){return 0}if(n<0){n=0}if(!f){return e[n%o]}if(m<1){m=1}if(n>m){n=m}l=(m==1)?0:(o-1)*(n/(m-1));a=Math.floor(l);b=Math.min(a+1,o-1);l-=a;return d.interpolateColors(e[a],e[b],l)};d.interpolateColors=function(b,p,w){var u=(b>>16)&255,y=(b>>8)&255,s=b&255,v=(p>>16)&255,a=(p>>8)&255,t=p&255,c=u+Math.round((v-u)*w),r=y+Math.round((a-y)*w),x=s+Math.round((t-s)*w);return((c<<16)|(r<<8)|x)}};Splunk.JSCharting.ListColorPalette.DEFAULT_COLORS=[7059400,16434717,14179901,9793174,16224556,10142268,10062933,14518192,5536175,14723387,7047472,10503512,10999007,16571767,15244939,12560576,16432512,12769930,12761753,15448016,10006479,15518601,10926211,13012891,4288121,9860881,8534053,5849690,9721626,6059044,6050867,8737130,3295593,8807715,4215325,6302005];Splunk.JSCharting.ListColorPalette.DEFAULT_COLORS_CSS=["#6BB7C8","#FAC61D","#D85E3D","#956E96","#F7912C","#9AC23C","#998C55","#DD87B0","#5479AF","#E0A93B","#6B8930","#A04558","#A7D4DF","#FCDD77","#E89E8B","#BFA8C0","#FABD80","#C2DA8A","#C2BA99","#EBB7D0","#98AFCF","#ECCB89","#A6B883","#C68F9B","#416E79","#967711","#823825","#59425A","#94571A","#5C7424","#5C5433","#85516A","#324969","#866523","#40521D","#602935"];Splunk.JSCharting.AbstractGauge=$.klass(Splunk.JSCharting.AbstractVisualization,{DEFAULT_COLORS:[6924359,14009403,10892589],needsColorPalette:false,maxTicksPerRange:10,initialize:function($super,b){$super(b);this.gaugeIsRendered=false;this.elements={};this.colors=this.DEFAULT_COLORS;this.ranges=false;this.rangesCameFromXML=false;this.showMajorTicks=true;this.showMinorTicks=true;this.showLabels=true;this.showValue=true;this.showRangeBand=true;this.usePercentageRange=false;this.usePercentageValue=false;this.isShiny=true;this.propertiesAreStale=false;this.pendingData=false;this.pendingFieldInfo=false;$(window).resize(function(){var d=$(this.renderTo).width(),a=$(this.renderTo).height();if((d&&d!==this.chartWidth)||(a&&a!==this.chartHeight)){clearTimeout(this.windowResizeTimeout);this.windowResizeTimeout=setTimeout(function(){this.onWindowResized(d,a)}.bind(this),100)}}.bind(this))},prepare:function(f,d,e){this.properties=e;this.applyProperties(e);this.processData(f,d,e);this.colorPalette=new Splunk.JSCharting.ListColorPalette(this.colors,true);this.propertiesAreStale=true},draw:function(h){var k=true;if(!this.propertiesAreStale&&this.pendingData&&this.pendingFieldInfo){var f=this.value,g=this.ranges;this.processData(this.pendingData,this.pendingFieldInfo,this.properties);if(this.parseUtils.arraysAreEquivalent(g,this.ranges)){this.updateValue(f,this.value);k=false}this.pendingData=false;this.pendingFieldInfo=false}if(k){this.destroy();this.renderer=new Highcharts.Renderer(this.renderTo,this.chartWidth,this.chartHeight);this.formatter=new Splunk.JSCharting.FormattingHelper(this.renderer);$(this.renderTo).css("backgroundColor",this.backgroundColor);this.renderGauge();this.nudgeChart();this.gaugeIsRendered=true;$(this.renderTo).addClass("highcharts-container").attr("chart-type",this.typeName);this.propertiesAreStale=false}if(h){var j=this.getChartObject();h(j)}},setData:function(c,d){this.pendingData=c;this.pendingFieldInfo=d},onWindowResized:function(c,d){if(this.gaugeIsRendered){this.resize(c,d)}},resize:function(c,d){this.chartWidth=c;this.chartHeight=d;this.destroy();this.renderer=new Highcharts.Renderer(this.renderTo,this.chartWidth,this.chartHeight);this.formatter=new Splunk.JSCharting.FormattingHelper(this.renderer);this.renderGauge();this.nudgeChart();this.gaugeIsRendered=true},destroy:function(){this.stopWobble();$(this.renderTo).stop();for(var b in this.elements){if(this.elements.hasOwnProperty(b)){this.elements[b].destroy()}}this.elements={};$(this.renderTo).empty();$(this.renderTo).css("backgroundColor","");this.gaugeIsRendered=false},getChartObject:function(){return{series:[{data:[{y:this.value,onMouseOver:function(){}}]}]}},applyPropertyByName:function($super,d,f,e){$super(d,f,e);switch(d){case"gaugeColors":this.mapGaugeColors(f);break;case"chart.rangeValues":this.mapRangeValues(f);break;case"chart.majorUnit":this.majorUnit=parseInt(f,10);break;case"chart.showMajorTicks":this.showMajorTicks=(f==="true");break;case"chart.showMinorTicks":this.showMinorTicks=(f==="true");break;case"chart.showLabels":this.showLabels=(f==="true");break;case"chart.showValue":this.showValue=(f==="true");break;case"chart.showRangeBand":this.showRangeBand=(f==="true");break;case"chart.usePercentageRange":this.usePercentageRange=(f==="true");break;case"chart.usePercentageValue":this.usePercentageValue=(f==="true");break;case"chart.style":this.isShiny=(f!=="minimal");break;default:}},mapGaugeColors:function(c){if(!c){return}var d=this.colorStringToHexArray(c);if(d&&d.length>0){this.colors=d}},mapRangeValues:function(j){var e,g,k;try{g=JSON.parse(j)}catch(h){return}if(!g||g.length<2){return}for(e=0;e<g.length;e++){k=this.mathUtils.parseFloat(g[e]);if(isNaN(k)){return}g[e]=k}this.ranges=g;this.rangesCameFromXML=true},processData:function(u,w,q){if(!u||!u.series||!u.xSeries){this.value=0;if(!this.rangesCameFromXML){this.ranges=[0,30,70,100]}return}var t,s,o,n,p,m=u.fieldNames,r=u.xSeries,v=[];if(!this.rangesCameFromXML){s=-Infinity;for(t=0;t<m.length;t++){o=m[t];if(u.series[o].length>0){n=u.series[o][0].rawY;if(!isNaN(n)&&n>s){v.push(n);s=n}}}if(v.length<2){v=[0,30,70,100]}this.ranges=v}p=(u.xAxisType==="time")?NaN:parseFloat(r[0]);if(isNaN(p)){p=(!this.rangesCameFromXML)?v[0]:0}this.value=p},updateValue:function(d,f){if(d===f){return}if(this.shouldAnimateTransition(d,f)){this.stopWobble();this.animateTransition(d,f,this.drawIndicator.bind(this),this.onAnimationFinished.bind(this))}if(this.showValue){var e=this.formatValue(f);this.updateValueDisplay(e)}},shouldAnimateTransition:function(d,c){return(this.normalizedTranslateValue(d)!==this.normalizedTranslateValue(c))},drawTicks:function(){var n,j,k,o=this.calculateTickValues(this.ranges[0],this.ranges[this.ranges.length-1],this.maxTicksPerRange);for(n=0;n<o.length;n++){j=this.translateValue(o[n]);if(this.showMajorTicks){this.elements["tickMark_"+o[n]]=this.drawMajorTick(j)}if(this.showLabels){k=this.formatTickLabel(o[n]);this.elements["tickLabel_"+o[n]]=this.drawMajorTickLabel(j,k)}}if(this.showLabels){o=this.removeTicksIfOverlap(o)}if(this.showMinorTicks){var m=o[1]-o[0],l=m/this.minorsPerMajor,h=(this.usePercentageRange)?this.ranges[0]:o[0]-Math.floor((o[0]-this.ranges[0])/l)*l;for(n=h;n<=this.ranges[this.ranges.length-1];n+=l){if(!this.showMajorTicks||$.inArray(n,o)<0){j=this.translateValue(n);this.elements["minorTickMark_"+n]=this.drawMinorTick(j)}}}},removeTicksIfOverlap:function(b){while(b.length>2&&this.tickLabelsOverlap(b)){b=this.removeEveryOtherTick(b)}return b},tickLabelsOverlap:function(k){var j,l,g,m=3,h=1;for(j=0;j<k.length-1;j++){l=this.elements["tickLabel_"+k[j]];g=this.elements["tickLabel_"+k[j+1]];if(this.formatter.bBoxesOverlap(l.getBBox(),g.getBBox(),m,h)){return true}}return false},removeEveryOtherTick:function(d){var f,e=[];for(f=0;f<d.length;f++){if(f%2===0){e.push(d[f])}else{this.elements["tickMark_"+d[f]].destroy();this.elements["tickLabel_"+d[f]].destroy();delete this.elements["tickMark_"+d[f]];delete this.elements["tickLabel_"+d[f]]}}return e},animateTransition:function(n,o,h,j){var m=o-n,k=500,l={duration:k,step:function(b,a){h(n+b);this.nudgeChart()}.bind(this)};if(j){l.complete=function(){j(o)}}$(this.renderTo).stop(true,true).css({"animation-progress":0}).animate({"animation-progress":m},l)},onAnimationFinished:function(b){this.checkOutOfRange(b)},checkOutOfRange:function(g){var h,e,f;if(g<this.ranges[0]){h=this.ranges[this.ranges.length-1]-this.ranges[0];f=h*0.005;e=this.ranges[0]+f;this.wobble(e,f,this.drawIndicator)}else{if(g>this.ranges[this.ranges.length-1]){h=this.ranges[this.ranges.length-1]-this.ranges[0];f=h*0.005;e=this.ranges[this.ranges.length-1]-f;this.wobble(e,f,this.drawIndicator)}}},translateValue:function(b){},normalizedTranslateValue:function(b){},formatValue:function(b){return(this.usePercentageValue)?this.formatPercent(((b-this.ranges[0])/(this.ranges[this.ranges.length-1]-this.ranges[0]))):this.formatNumber(b)},formatTickLabel:function(b){return(this.usePercentageRange)?this.formatPercent(((b-this.ranges[0])/(this.ranges[this.ranges.length-1]-this.ranges[0]))):this.formatNumber(b)},formatNumber:function(d){var e=parseFloat(d),f=Math.abs(e);if(f>=1000000000||(f!==0&&f<0.001)){return format_scientific(e,"#.###E0")}return format_decimal(e)},formatPercent:function(b){return format_percent(b)},wobble:function(g,j,k){var f=this,h=0;this.wobbleInterval=setInterval(function(){var a=g+(h%3-1)*j;k.call(f,a);f.nudgeChart();h=(h+1)%3},75)},stopWobble:function(){clearInterval(this.wobbleInterval)},nudgeChart:function(){if(this.hasSVG){return}if(this.elements.nudgeElement){this.elements.nudgeElement.destroy()}this.elements.nudgeElement=this.renderer.rect(0,0,0,0).add()},predictTextWidth:function(c,d){return this.formatter.predictTextWidth(c,d)},calculateTickValues:function(t,p,l){var o,s,m=p-t,u=m/(l-1),r=this.mathUtils.nearestPowerOfTen(u),n=r,q=[];if(this.usePercentageRange){n=(this.majorUnit&&!isNaN(this.majorUnit))?this.majorUnit:10;for(o=0;o<=100;o+=n){q.push(t+(o/100)*m)}}else{if(this.majorUnit&&!isNaN(this.majorUnit)){n=this.majorUnit}else{if(m/n>l){n*=2}if(m/n>l){n*=(5/2)}if(m/n>l){n*=2}}s=(this.usePercentageRange)?t:(t>=0)?0:(t-t%n);for(o=s;o<=p;o+=n){if(o>=t){q.push(parseFloat(o.toFixed(14)))}}}return q},colorStringToHexArray:function(j){var k,g,f,h=j.length;if(j.charAt(0)!=="["||j.charAt(h-1)!=="]"){return false}j=j.substr(1,h-2);g=Splunk.util.stringToFieldList(j);if(!g){return false}for(k=0;k<g.length;k++){f=parseInt(g[k],16);if(isNaN(f)){return false}g[k]=f}return g},getColorByIndex:function(b){return this.colorUtils.colorFromHex(this.colorPalette.getColor(null,b,this.ranges.length-1))},roundWithMin:function(c,d){return Math.max(Math.round(c),d)},roundWithMinMax:function(g,h,f){var e=Math.round(g);if(e<h){return h}if(e>f){return f}return e}});Splunk.JSCharting.RadialGauge=$.klass(Splunk.JSCharting.AbstractGauge,{typeName:"radialGauge-chart",initialize:function($super,b){$super(b);this.chartHeight=(this.chartWidth<this.chartHeight)?this.chartWidth:this.chartHeight;this.verticalPadding=10;this.minorsPerMajor=10;this.tickWidth=1;this.showMinorTicks=false},updateValueDisplay:function(b){this.elements.valueDisplay.attr({text:b})},resize:function($super,c,d){d=(c<d)?c:d;$super(c,d)},applyPropertyByName:function($super,e,h,f){var g;$super(e,h,f);switch(e){case"chart.rangeStartAngle":g=parseInt(h,10);if(!isNaN(g)){this.startAngle=this.degToRad(g+90)}break;case"chart.rangeArcAngle":g=parseInt(h,10);if(!isNaN(g)){this.arcAngle=this.degToRad(g)}break;default:}},renderGauge:function(){this.borderWidth=this.roundWithMin(this.chartHeight/60,3);this.tickOffset=this.roundWithMin(this.chartHeight/100,3);this.tickLabelOffset=this.borderWidth;this.tickFontSize=this.roundWithMin(this.chartHeight/25,10);if(!this.startAngle){this.startAngle=this.degToRad(45+90)}if(!this.arcAngle){this.arcAngle=this.degToRad(270)}this.valueFontSize=this.roundWithMin(this.chartHeight/15,15);if(this.isShiny){this.needleTailLength=this.roundWithMin(this.chartHeight/15,10);this.needleTailWidth=this.roundWithMin(this.chartHeight/50,6);this.knobWidth=this.roundWithMin(this.chartHeight/30,7)}else{this.needleWidth=this.roundWithMin(this.chartHeight/60,3)}if(!this.isShiny){this.bandOffset=0;this.bandThickness=this.roundWithMin(this.chartHeight/30,7)}else{this.bandOffset=this.borderWidth;this.bandThickness=this.roundWithMin(this.chartHeight/40,4)}this.tickColor=(!this.isShiny)?this.foregroundColor:"silver";this.tickFontColor=(!this.isShiny)?this.fontColor:"silver";this.valueColor=(!this.isShiny)?this.fontColor:"#b8b167";this.tickLength=this.roundWithMin(this.chartHeight/20,4);this.minorTickLength=this.tickLength/2;this.radius=(this.chartHeight-2*(this.verticalPadding+this.borderWidth))/2;this.valueHeight=this.chartHeight-((this.radius/4)+this.verticalPadding+this.borderWidth);this.needleLength=(!this.isShiny)?this.radius-(this.bandThickness)/2:this.radius;this.tickStart=this.radius-this.bandOffset-this.bandThickness-this.tickOffset;this.tickEnd=this.tickStart-this.tickLength;this.tickLabelPosition=this.tickEnd-this.tickLabelOffset;this.minorTickEnd=this.tickStart-this.minorTickLength;if(this.isShiny){this.elements.border=this.renderer.circle(this.chartWidth/2,this.chartHeight/2,this.radius+this.borderWidth).attr({fill:"#edede7",stroke:"silver","stroke-width":1}).add();this.elements.background=this.renderer.circle(this.chartWidth/2,this.chartHeight/2,this.radius).attr({fill:"#000000"}).add()}if(this.showRangeBand){this.drawColorBand()}this.drawTicks();this.drawIndicator(this.value);if(this.showValue){this.drawValueDisplay()}this.checkOutOfRange(this.value)},drawColorBand:function(){var k,f,g,j=this.radius-this.bandOffset,h=j-this.bandThickness;for(k=0;k<this.ranges.length-1;k++){f=this.translateValue(this.ranges[k]);g=this.translateValue(this.ranges[k+1]);this.elements["colorBand"+k]=this.renderer.arc(this.chartWidth/2,this.chartHeight/2,j,h,f,g).attr({fill:this.getColorByIndex(k)}).add()}},drawMajorTick:function(c){var d=this.renderer.path(["M",(this.chartWidth/2)+this.tickStart*Math.cos(c),(this.chartHeight/2)+this.tickStart*Math.sin(c),"L",(this.chartWidth/2)+this.tickEnd*Math.cos(c),(this.chartHeight/2)+this.tickEnd*Math.sin(c)]).attr({stroke:this.tickColor,"stroke-width":this.tickWidth}).add();return d},drawMajorTickLabel:function(l,m){var j=Math.sin(l),k=this.predictTextWidth(m,this.tickFontSize),o=(l<(1.5*Math.PI))?"left":"right",p=(l<(1.5*Math.PI))?(-k/2)*j*j:(k/2)*j*j,n=(this.tickFontSize/4)*j,q=this.renderer.text(m,(this.chartWidth/2)+(this.tickLabelPosition)*Math.cos(l)+p,(this.chartHeight/2)+(this.tickLabelPosition-4)*j+(this.tickFontSize/4)-n).attr({align:o}).css({color:this.tickFontColor,fontSize:this.tickFontSize+"px"}).add();return q},drawMinorTick:function(c){var d=this.renderer.path(["M",(this.chartWidth/2)+this.tickStart*Math.cos(c),(this.chartHeight/2)+this.tickStart*Math.sin(c),"L",(this.chartWidth/2)+this.minorTickEnd*Math.cos(c),(this.chartHeight/2)+this.minorTickEnd*Math.sin(c)]).attr({stroke:this.tickColor,"stroke-width":this.tickWidth}).add();return d},drawIndicator:function(u){var o,s,m,p,r,t,q=this.normalizedTranslateValue(u),l=Math.cos(q),n=Math.sin(q);if(!this.isShiny){o=["M",(this.chartWidth/2),(this.chartHeight/2),"L",(this.chartWidth/2)+l*this.needleLength,(this.chartHeight/2)+n*this.needleLength];s=this.foregroundColor;m=this.needleWidth}else{o=["M",(this.chartWidth/2)-this.needleTailLength*l,(this.chartHeight/2)-this.needleTailLength*n,"L",(this.chartWidth/2)-this.needleTailLength*l+this.needleTailWidth*n,(this.chartHeight/2)-this.needleTailLength*n-this.needleTailWidth*l,(this.chartWidth/2)+this.needleLength*l,(this.chartHeight/2)+this.needleLength*n,(this.chartWidth/2)-this.needleTailLength*l-this.needleTailWidth*n,(this.chartHeight/2)-this.needleTailLength*n+this.needleTailWidth*l,(this.chartWidth/2)-this.needleTailLength*l,(this.chartHeight/2)-this.needleTailLength*n];p={linearGradient:[(this.chartWidth/2)-this.needleTailLength*l,(this.chartHeight/2)-this.needleTailLength*n,(this.chartWidth/2)-this.needleTailLength*l-this.needleTailWidth*n,(this.chartHeight/2)-this.needleTailLength*n+this.needleTailWidth*l],stops:[[0,"#999999"],[0.2,"#cccccc"]]};r=["M",(this.chartWidth/2)-(this.needleTailLength-2)*l,(this.chartHeight/2)-(this.needleTailLength-2)*n,"L",(this.chartWidth/2)+(this.needleLength-(this.bandOffset/2))*l,(this.chartHeight/2)+(this.needleLength-(this.bandOffset/2))*n];t={linearGradient:[(this.chartWidth/2)+this.knobWidth*n,(this.chartHeight/2)-this.knobWidth*l,(this.chartWidth/2)-this.knobWidth*n,(this.chartHeight/2)+this.knobWidth*l],stops:[[0,"silver"],[0.5,"black"],[1,"silver"]]}}if(this.isShiny){if(this.elements.centerKnob){this.elements.centerKnob.destroy()}this.elements.centerKnob=this.renderer.circle(this.chartWidth/2,this.chartHeight/2,this.knobWidth).attr({fill:t}).add()}if(this.elements.needle){this.elements.needle.destroy()}this.elements.needle=this.renderer.path(o).attr({fill:p||"",stroke:s||"","stroke-width":m||""}).add();if(this.isShiny){if(this.elements.needleRidge){this.elements.needleRidge.destroy()}this.elements.needleRidge=this.renderer.path(r).attr({stroke:"#cccccc","stroke-width":1}).add()}},drawValueDisplay:function(){var b=this.formatValue(this.value);this.elements.valueDisplay=this.renderer.text(b,this.chartWidth/2,this.valueHeight).css({color:this.valueColor,fontSize:this.valueFontSize+"px",fontWeight:"bold"}).attr({align:"center"}).add()},normalizedTranslateValue:function(b){if(b<this.ranges[0]){return this.translateValue(this.ranges[0])}if(b>this.ranges[this.ranges.length-1]){return this.translateValue(this.ranges[this.ranges.length-1])}return this.translateValue(b)},translateValue:function(f){var e=this.ranges[this.ranges.length-1]-this.ranges[0],d=f-this.ranges[0];return this.startAngle+((d/e)*this.arcAngle)},degToRad:function(b){return(b*Math.PI)/180}});Splunk.JSCharting.AbstractFillerGauge=$.klass(Splunk.JSCharting.AbstractGauge,{typeName:"fillerGauge-chart",initialize:function($super,b){$super(b);this.minorsPerMajor=5;this.minorTickWidth=1},onAnimationFinished:function(b){},renderGauge:function(){this.tickColor=this.foregroundColor;this.tickFontColor=this.fontColor;this.defaultValueColor=(this.isShiny)?"black":this.fontColor;this.drawBackground();this.drawTicks();this.drawIndicator(this.value)},updateValue:function($super,f,g){var h=this.mathUtils.getDecimalPrecision(f,3),e=this.mathUtils.getDecimalPrecision(g,3);this.valueAnimationPrecision=Math.max(h,e);$super(f,g)},getDisplayValue:function(d){var c=Math.pow(10,this.valueAnimationPrecision);return((d!==this.value)?(Math.round(d*c)/c):d)},updateValueDisplay:function(b){},shouldAnimateTransition:function(d,c){return true},getFillColor:function(c){var d;for(d=0;d<this.ranges.length-2;d++){if(c<this.ranges[d+1]){break}}return this.getColorByIndex(d)},getValueColor:function(j){var k=this.colorUtils.hexFromColor(j),m=128,g="black",h="white",l=this.colorUtils.getLuminance(k);return(l<m)?h:g}});Splunk.JSCharting.VerticalFillerGauge=$.klass(Splunk.JSCharting.AbstractFillerGauge,{initialize:function($super,b){$super(b);this.tickWidth=1},renderGauge:function($super){this.tickOffset=this.roundWithMin(this.chartHeight/100,3);this.tickLength=this.roundWithMin(this.chartHeight/20,4);this.tickLabelOffset=this.roundWithMin(this.chartHeight/60,3);this.tickFontSize=this.roundWithMin(this.chartHeight/20,10);this.minorTickLength=this.tickLength/2;this.backgroundCornerRad=this.roundWithMin(this.chartHeight/60,3);this.valueBottomPadding=this.roundWithMin(this.chartHeight/30,5);this.valueFontSize=this.roundWithMin(this.chartHeight/20,12);$super()},drawBackground:function(){this.verticalPadding=10+this.tickFontSize/2;this.backgroundWidth=this.roundWithMin(this.chartHeight/4,50);this.backgroundHeight=this.chartHeight-(2*this.verticalPadding);var b=this.determineMaxValueWidth(this.ranges,this.valueFontSize)+10;this.backgroundWidth=Math.max(this.backgroundWidth,b);if(this.isShiny){this.elements.background=this.renderer.rect((this.chartWidth-this.backgroundWidth)/2,this.verticalPadding,this.backgroundWidth,this.backgroundHeight,this.backgroundCornerRad).attr({fill:"#edede7",stroke:"silver","stroke-width":1}).add()}this.tickStartX=(this.chartWidth+this.backgroundWidth)/2+this.tickOffset;this.tickEndX=this.tickStartX+this.tickLength;this.tickLabelStartX=this.tickEndX+this.tickLabelOffset},determineMaxValueWidth:function(g,h){if(this.usePercentageValue){return this.predictTextWidth("100.00%",h)}var k,f,j=0;for(k=0;k<g.length;k++){f=""+g[k];if(k===0||k===g.length-1){f+="0"}j=Math.max(j,this.predictTextWidth(f,h))}return j},drawMajorTick:function(d){var e=this.verticalPadding+this.backgroundHeight-d;var f=this.renderer.path(["M",this.tickStartX,e,"L",this.tickEndX,e]).attr({stroke:this.tickColor,"stroke-width":this.tickWidth}).add();return f},drawMajorTickLabel:function(e,g){var f=this.verticalPadding+this.backgroundHeight-e;var h=this.renderer.text(g,this.tickLabelStartX,f+(this.tickFontSize/4)).attr({align:"left"}).css({color:this.tickFontColor,fontSize:this.tickFontSize+"px"}).add();return h},drawMinorTick:function(d){var e=this.verticalPadding+this.backgroundHeight-d;var f=this.renderer.path(["M",this.tickStartX,e,"L",this.tickStartX+this.minorTickLength,e]).attr({stroke:this.tickColor,"stroke-width":this.minorTickWidth}).add();return f},drawIndicator:function(k){var h=this.getFillColor(k),j=this.normalizedTranslateValue(k),f,g;if(j>0){j=Math.max(j,this.backgroundCornerRad);f=this.verticalPadding+this.backgroundHeight-j;if(!this.isShiny){g=["M",(this.chartWidth-this.backgroundWidth)/2,this.chartHeight-this.verticalPadding,"L",(this.chartWidth+this.backgroundWidth)/2,this.chartHeight-this.verticalPadding,(this.chartWidth+this.backgroundWidth)/2,f,(this.chartWidth-this.backgroundWidth)/2,f,(this.chartWidth-this.backgroundWidth)/2,this.chartHeight-this.verticalPadding]}else{g=["M",(this.chartWidth-this.backgroundWidth-2)/2,this.chartHeight-this.verticalPadding-this.backgroundCornerRad,"C",(this.chartWidth-this.backgroundWidth-2)/2,this.chartHeight-this.verticalPadding-this.backgroundCornerRad,(this.chartWidth-this.backgroundWidth-2)/2,this.chartHeight-this.verticalPadding,(this.chartWidth-this.backgroundWidth-2)/2+this.backgroundCornerRad,this.chartHeight-this.verticalPadding,"L",(this.chartWidth+this.backgroundWidth-2)/2-this.backgroundCornerRad,this.chartHeight-this.verticalPadding,"C",(this.chartWidth+this.backgroundWidth-2)/2-this.backgroundCornerRad,this.chartHeight-this.verticalPadding,(this.chartWidth+this.backgroundWidth-2)/2,this.chartHeight-this.verticalPadding,(this.chartWidth+this.backgroundWidth-2)/2,this.chartHeight-this.verticalPadding-this.backgroundCornerRad,"L",(this.chartWidth+this.backgroundWidth-2)/2,f,(this.chartWidth-this.backgroundWidth-2)/2,f,(this.chartWidth-this.backgroundWidth-2)/2,this.chartHeight-this.verticalPadding-this.backgroundCornerRad]}}else{g=[]}if(this.elements.fill){this.elements.fill.destroy()}this.elements.fill=this.renderer.path(g).attr({fill:h}).add();if(this.showValue){this.drawValueDisplay(k,h)}},drawValueDisplay:function(r,s){var k=this.getDisplayValue(r),o=this.normalizedTranslateValue(r),m=this.verticalPadding+this.backgroundHeight-o,n=this.valueFontSize+this.valueBottomPadding,q=this.getValueColor(s),l,p=this.formatValue(k);if(o>=n){l=m+n-this.valueBottomPadding}else{l=m-this.valueBottomPadding;q=this.defaultValueColor}if(this.elements.valueDisplay){this.elements.valueDisplay.attr({text:p,y:l}).css({color:q,fontSize:this.valueFontSize+"px",fontWeight:"bold"}).toFront()}else{this.elements.valueDisplay=this.renderer.text(p,this.chartWidth/2,l).css({color:q,fontSize:this.valueFontSize+"px",fontWeight:"bold"}).attr({align:"center"}).add()}},normalizedTranslateValue:function(b){if(b<this.ranges[0]){return 0}if(b>this.ranges[this.ranges.length-1]){return this.translateValue(this.ranges[this.ranges.length-1])+5}return this.translateValue(b)},translateValue:function(f){var e=this.ranges[this.ranges.length-1]-this.ranges[0],d=f-this.ranges[0];return Math.round((d/e)*this.backgroundHeight)}});Splunk.JSCharting.HorizontalFillerGauge=$.klass(Splunk.JSCharting.AbstractFillerGauge,{initialize:function($super,b){$super(b);this.horizontalPadding=20;this.tickOffset=5;this.tickLength=15;this.tickWidth=1;this.tickLabelOffset=5;this.minorTickLength=Math.floor(this.tickLength/2)},renderGauge:function($super){this.tickFontSize=this.roundWithMinMax(this.chartWidth/50,10,20);this.backgroundCornerRad=this.roundWithMinMax(this.chartWidth/120,3,5);this.valueFontSize=this.roundWithMinMax(this.chartWidth/40,15,25);this.backgroundHeight=this.valueFontSize*3;this.valueBottomPadding=this.roundWithMinMax(this.chartWidth/100,5,10);$super()},drawBackground:function(){var d=this.calculateTickValues(this.ranges[0],this.ranges[this.ranges.length-1],this.maxTicksPerRange),f=d[d.length-1],e=this.predictTextWidth(this.formatValue(f),this.tickFontSize);this.horizontalPadding=Math.max(this.horizontalPadding,e);this.backgroundWidth=this.chartWidth-(2*this.horizontalPadding);if(this.isShiny){this.elements.background=this.renderer.rect(this.horizontalPadding,(this.chartHeight-this.backgroundHeight)/2,this.backgroundWidth,this.backgroundHeight,this.backgroundCornerRad).attr({fill:"#edede7",stroke:"silver","stroke-width":1}).add()}this.tickStartY=(this.chartHeight+this.backgroundHeight)/2+this.tickOffset,this.tickEndY=this.tickStartY+this.tickLength,this.tickLabelStartY=this.tickEndY+this.tickLabelOffset},drawMajorTick:function(f){var d=this.horizontalPadding+f;var e=this.renderer.path(["M",d,this.tickStartY,"L",d,this.tickEndY]).attr({stroke:this.tickColor,"stroke-width":this.tickWidth}).add();return e},drawMajorTickLabel:function(g,h){var e=this.horizontalPadding+g;var f=this.renderer.text(h,e,this.tickLabelStartY+this.tickFontSize).attr({align:"center"}).css({color:this.tickFontColor,fontSize:this.tickFontSize+"px"}).add();return f},drawMinorTick:function(f){var d=this.horizontalPadding+f;var e=this.renderer.path(["M",d,this.tickStartY,"L",d,this.tickStartY+this.minorTickLength]).attr({stroke:this.tickColor,"stroke-width":this.minorTickWidth}).add();return e},drawIndicator:function(j){var h=this.getFillColor(j),k=this.normalizedTranslateValue(j),f,g;if(k>0){k=Math.max(k,this.backgroundCornerRad);f=this.horizontalPadding+k;if(!this.isShiny){g=["M",this.horizontalPadding,(this.chartHeight-this.backgroundHeight)/2,"L",f,(this.chartHeight-this.backgroundHeight)/2,f,(this.chartHeight+this.backgroundHeight)/2,this.horizontalPadding,(this.chartHeight+this.backgroundHeight)/2,this.horizontalPadding,(this.chartHeight-this.backgroundHeight)/2]}else{g=["M",this.horizontalPadding+this.backgroundCornerRad,(this.chartHeight-this.backgroundHeight-2)/2,"C",this.horizontalPadding+this.backgroundCornerRad,(this.chartHeight-this.backgroundHeight-2)/2,this.horizontalPadding,(this.chartHeight-this.backgroundHeight-2)/2,this.horizontalPadding,(this.chartHeight-this.backgroundHeight-2)/2+this.backgroundCornerRad,"L",this.horizontalPadding,(this.chartHeight+this.backgroundHeight)/2-this.backgroundCornerRad,"C",this.horizontalPadding,(this.chartHeight+this.backgroundHeight)/2-this.backgroundCornerRad,this.horizontalPadding,(this.chartHeight+this.backgroundHeight)/2,this.horizontalPadding+this.backgroundCornerRad,(this.chartHeight+this.backgroundHeight)/2,"L",f,(this.chartHeight+this.backgroundHeight)/2,f,(this.chartHeight-this.backgroundHeight-2)/2,this.horizontalPadding+this.backgroundCornerRad,(this.chartHeight-this.backgroundHeight-2)/2]}}else{g=[]}if(this.elements.fill){this.elements.fill.destroy()}this.elements.fill=this.renderer.path(g).attr({fill:h}).add();if(this.showValue){this.drawValueDisplay(j,h,k)}},drawValueDisplay:function(p,r,s){var k=this.getDisplayValue(p),l=this.horizontalPadding+s,n=this.getValueColor(r),q,m=this.formatValue(k),o=this.predictTextWidth(m,this.valueFontSize)+this.valueBottomPadding;if(s>=o){q=l-o}else{q=l+this.valueBottomPadding;n=this.defaultValueColor}if(this.elements.valueDisplay){this.elements.valueDisplay.attr({text:m,x:q}).css({color:n,fontSize:this.valueFontSize+"px",fontWeight:"bold"}).toFront()}else{this.elements.valueDisplay=this.renderer.text(m,q,(this.chartHeight/2)+this.valueFontSize/4).css({color:n,fontSize:this.valueFontSize+"px",fontWeight:"bold"}).attr({align:"left"}).add()}},normalizedTranslateValue:function(b){if(b<this.ranges[0]){return 0}if(b>this.ranges[this.ranges.length-1]){return this.translateValue(this.ranges[this.ranges.length-1])}return this.translateValue(b)},translateValue:function(f){var e=this.ranges[this.ranges.length-1]-this.ranges[0],d=f-this.ranges[0];return Math.round((d/e)*this.backgroundWidth)}});Splunk.JSCharting.AbstractMarkerGauge=$.klass(Splunk.JSCharting.AbstractGauge,{typeName:"markerGauge-chart",initialize:function($super,b){$super(b);this.bandCornerRad=0;this.tickLabelPaddingRight=10;this.minorsPerMajor=5;this.minorTickWidth=1;this.tickWidth=1;this.showValue=false},renderGauge:function(){this.tickColor=(this.isShiny)?"black":this.foregroundColor;this.tickFontColor=(this.isShiny)?"black":this.fontColor;this.valueOffset=(this.isShiny)?this.markerSideWidth+10:this.valueFontSize;this.drawBackground();if(this.showRangeBand){this.drawBand()}this.drawTicks();this.drawIndicator(this.value);this.checkOutOfRange(this.value)},updateValueDisplay:function(b){}});Splunk.JSCharting.VerticalMarkerGauge=$.klass(Splunk.JSCharting.AbstractMarkerGauge,{initialize:function($super,b){$super(b);this.verticalPadding=10},renderGauge:function($super){this.markerWindowHeight=this.roundWithMin(this.chartHeight/7,20);this.markerSideWidth=this.markerWindowHeight/2;this.markerSideCornerRad=this.markerSideWidth/3;this.bandOffsetBottom=5+this.markerWindowHeight/2;this.bandOffsetTop=5+this.markerWindowHeight/2;this.tickOffset=this.roundWithMin(this.chartHeight/100,3);this.tickLength=this.roundWithMin(this.chartHeight/20,4);this.tickLabelOffset=this.roundWithMin(this.chartHeight/60,3);this.tickFontSize=this.roundWithMin(this.chartHeight/20,10);this.minorTickLength=this.tickLength/2;this.backgroundCornerRad=this.roundWithMin(this.chartHeight/60,3);this.valueFontSize=this.roundWithMin(this.chartHeight/15,15);this.bandOffsetX=(!this.isShiny)?0:this.roundWithMin(this.chartHeight/60,3);$super()},drawBackground:function(){this.backgroundWidth=this.roundWithMin(this.chartHeight/4,50);var f=this.calculateTickValues(this.ranges[0],this.ranges[this.ranges.length-1],this.maxTicksPerRange);this.backgroundHeight=this.chartHeight-(2*this.verticalPadding);this.bandHeight=this.backgroundHeight-(this.bandOffsetBottom+this.bandOffsetTop);this.bandWidth=(!this.isShiny)?30:10;var h,g,e=f[f.length-1];h=this.predictTextWidth(this.formatValue(e),this.tickFontSize);g=this.bandOffsetX+this.bandWidth+this.tickOffset+this.tickLength+this.tickLabelOffset+h+this.tickLabelPaddingRight;this.backgroundWidth=Math.max(this.backgroundWidth,g);if(this.isShiny){this.elements.background=this.renderer.rect((this.chartWidth-this.backgroundWidth)/2,this.verticalPadding,this.backgroundWidth,this.backgroundHeight,this.backgroundCornerRad).attr({fill:"#edede7",stroke:"silver","stroke-width":1}).add()}this.tickStartX=(this.chartWidth-this.backgroundWidth)/2+(this.bandOffsetX+this.bandWidth)+this.tickOffset;this.tickEndX=this.tickStartX+this.tickLength;this.tickLabelStartX=this.tickEndX+this.tickLabelOffset},drawBand:function(){var f,g,k,h=((this.chartWidth-this.backgroundWidth)/2)+this.bandOffsetX,j=this.chartHeight-this.verticalPadding-this.bandOffsetBottom;for(f=0;f<this.ranges.length-1;f++){g=this.translateValue(this.ranges[f]);k=this.translateValue(this.ranges[f+1]);this.elements["colorBand"+f]=this.renderer.rect(h,j-k,this.bandWidth,k-g,this.bandCornerRad).attr({fill:this.getColorByIndex(f)}).add()}},drawMajorTick:function(d){var e=this.verticalPadding+this.backgroundHeight-(this.bandOffsetBottom+d);var f=this.renderer.path(["M",this.tickStartX,e,"L",this.tickEndX,e]).attr({stroke:this.tickColor,"stroke-width":this.tickWidth}).add();return f},drawMajorTickLabel:function(e,g){var f=this.verticalPadding+this.backgroundHeight-(this.bandOffsetBottom+e);var h=this.renderer.text(g,this.tickLabelStartX,f+(this.tickFontSize/4)).attr({align:"left"}).css({color:this.tickFontColor,fontSize:this.tickFontSize+"px"}).add();return h},drawMinorTick:function(d){var e=this.verticalPadding+this.backgroundHeight-(this.bandOffsetBottom+d);var f=this.renderer.path(["M",this.tickStartX,e,"L",this.tickStartX+this.minorTickLength,e]).attr({stroke:this.tickColor,"stroke-width":this.minorTickWidth}).add();return f},drawIndicator:function(u){var n=this.normalizedTranslateValue(u),s=this.verticalPadding+this.backgroundHeight-(this.bandOffsetBottom+n),r=(!this.isShiny)?(this.chartWidth-this.backgroundWidth)/2-10:(this.chartWidth-this.backgroundWidth)/2,q=(!this.isShiny)?r+this.bandWidth+20:r+this.backgroundWidth,w=this.foregroundColor,m=3,o=["M",r,s,"L",q,s];if(this.isShiny){var p=["M",r,s-this.markerWindowHeight/2,"L",r-(this.markerSideWidth-this.markerSideCornerRad),s-this.markerWindowHeight/2,"C",r-(this.markerSideWidth-this.markerSideCornerRad),s-this.markerWindowHeight/2,r-this.markerSideWidth,s-this.markerWindowHeight/2,r-this.markerSideWidth,s-(this.markerWindowHeight/2)+this.markerSideCornerRad,"L",r-this.markerSideWidth,s+(this.markerWindowHeight/2)-this.markerSideCornerRad,"C",r-this.markerSideWidth,s+(this.markerWindowHeight/2)-this.markerSideCornerRad,r-this.markerSideWidth,s+(this.markerWindowHeight/2),r-(this.markerSideWidth-this.markerSideCornerRad),s+(this.markerWindowHeight/2),"L",r,s+this.markerWindowHeight/2,r,s-this.markerWindowHeight/2],v=["M",q,s-this.markerWindowHeight/2,"L",q+(this.markerSideWidth-this.markerSideCornerRad),s-this.markerWindowHeight/2,"C",q+(this.markerSideWidth-this.markerSideCornerRad),s-this.markerWindowHeight/2,q+this.markerSideWidth,s-this.markerWindowHeight/2,q+this.markerSideWidth,s-(this.markerWindowHeight/2)+this.markerSideCornerRad,"L",q+this.markerSideWidth,s+(this.markerWindowHeight/2)-this.markerSideCornerRad,"C",q+this.markerSideWidth,s+(this.markerWindowHeight/2)-this.markerSideCornerRad,q+this.markerSideWidth,s+(this.markerWindowHeight/2),q+(this.markerSideWidth-this.markerSideCornerRad),s+(this.markerWindowHeight/2),"L",q,s+this.markerWindowHeight/2,q,s-this.markerWindowHeight/2],t=["M",r,s-this.markerWindowHeight/2,"L",q,s-this.markerWindowHeight/2,q,s+this.markerWindowHeight/2,r,s+this.markerWindowHeight/2,r,s-this.markerWindowHeight/2,"M",r,s+1,"L",q,s+1];w="red";m=1}if(this.isShiny){if(this.elements.markerLHS){this.elements.markerLHS.destroy()}this.elements.markerLHS=this.renderer.path(p).attr({fill:"#cccccc"}).add();if(this.elements.markerRHS){this.elements.markerRHS.destroy()}this.elements.markerRHS=this.renderer.path(v).attr({fill:"#cccccc"}).add();if(this.elements.markerWindow){this.elements.markerWindow.destroy()}this.elements.markerWindow=this.renderer.rect(r,s-this.markerWindowHeight/2,this.backgroundWidth,this.markerWindowHeight,0).attr({fill:"rgba(255, 255, 255, 0.3)"}).add();if(this.elements.markerBorder){this.elements.markerBorder.destroy()}this.elements.markerBorder=this.renderer.path(t).attr({stroke:"white","stroke-width":2}).add()}if(this.elements.markerLine){this.elements.markerLine.destroy()}this.elements.markerLine=this.renderer.path(o).attr({stroke:w,"stroke-width":m}).add();if(this.showValue){this.drawValueDisplay(u)}},drawValueDisplay:function(g){var f=this.formatValue(g),h=this.normalizedTranslateValue(g),e=this.verticalPadding+this.backgroundHeight-this.bandOffsetBottom-h;if(this.elements.valueDisplay){this.elements.valueDisplay.attr({text:f,y:e+this.valueFontSize/4})}else{this.elements.valueDisplay=this.renderer.text(f,(this.chartWidth-this.backgroundWidth)/2-this.valueOffset,e+this.valueFontSize/4).css({color:"black",fontSize:this.valueFontSize+"px",fontWeight:"bold"}).attr({align:"right"}).add()}},normalizedTranslateValue:function(b){if(b<this.ranges[0]){return 0}if(b>this.ranges[this.ranges.length-1]){return this.translateValue(this.ranges[this.ranges.length-1])}return this.translateValue(b)},translateValue:function(f){var e=this.ranges[this.ranges.length-1]-this.ranges[0],d=f-this.ranges[0];return Math.round((d/e)*this.bandHeight)}});Splunk.JSCharting.HorizontalMarkerGauge=$.klass(Splunk.JSCharting.AbstractMarkerGauge,{initialize:function($super,b){$super(b);this.horizontalPadding=20;this.tickOffset=5;this.tickLength=15;this.tickWidth=1;this.tickLabelOffset=5;this.minorTickLength=Math.floor(this.tickLength/2);this.bandHeight=(!this.isShiny)?35:15},renderGauge:function($super){this.markerWindowHeight=this.roundWithMinMax(this.chartWidth/30,30,80);this.markerSideWidth=this.markerWindowHeight/2;this.markerSideCornerRad=this.markerSideWidth/3;this.bandOffsetBottom=5+this.markerWindowHeight/2;this.bandOffsetTop=5+this.markerWindowHeight/2;this.tickFontSize=this.roundWithMinMax(this.chartWidth/50,10,20);this.backgroundCornerRad=this.roundWithMinMax(this.chartWidth/120,3,5);this.valueFontSize=this.roundWithMinMax(this.chartWidth/40,15,25);this.valueOffset=this.markerSideWidth+10;this.tickLabelPadding=this.tickFontSize/2;this.bandOffsetX=(!this.isShiny)?0:this.tickLabelPadding;this.backgroundHeight=this.bandOffsetX+this.bandHeight+this.tickOffset+this.tickLength+ +this.tickLabelOffset+this.tickFontSize+this.tickLabelPadding;$super()},drawBackground:function(d){var d=this.calculateTickValues(this.ranges[0],this.ranges[this.ranges.length-1],this.maxTicksPerRange),f=d[d.length-1],e=this.predictTextWidth(this.formatValue(f),this.tickFontSize);this.bandOffsetBottom=Math.max(this.bandOffsetBottom,e);this.bandOffsetTop=Math.max(this.bandOffsetTop,e);this.backgroundWidth=this.chartWidth-(2*this.horizontalPadding);this.bandWidth=this.backgroundWidth-(this.bandOffsetBottom+this.bandOffsetTop);if(this.isShiny){this.elements.background=this.renderer.rect(this.horizontalPadding,(this.chartHeight-this.backgroundHeight)/2,this.backgroundWidth,this.backgroundHeight,this.backgroundCornerRad).attr({fill:"#edede7",stroke:"silver","stroke-width":1}).add()}},drawBand:function(){var h,g,j,f=this.horizontalPadding+this.bandOffsetBottom,k=((this.chartHeight-this.backgroundHeight)/2)+this.bandOffsetX;for(h=0;h<this.ranges.length-1;h++){g=this.translateValue(this.ranges[h]);j=this.translateValue(this.ranges[h+1]);this.elements["colorBand"+h]=this.renderer.rect(f+g,k,j-g,this.bandHeight,this.bandCornerRad).attr({fill:this.getColorByIndex(h)}).add()}this.tickStartY=(this.chartHeight-this.backgroundHeight)/2+(this.bandOffsetX+this.bandHeight)+this.tickOffset;this.tickEndY=this.tickStartY+this.tickLength;this.tickLabelStartY=this.tickEndY+this.tickLabelOffset},drawMajorTick:function(f){var d=this.horizontalPadding+this.bandOffsetBottom+f;var e=this.renderer.path(["M",d,this.tickStartY,"L",d,this.tickEndY]).attr({stroke:this.tickColor,"stroke-width":this.tickWidth}).add();return e},drawMajorTickLabel:function(g,h){var e=this.horizontalPadding+this.bandOffsetBottom+g;var f=this.renderer.text(h,e,this.tickLabelStartY+this.tickFontSize).attr({align:"center"}).css({color:this.tickFontColor,fontSize:this.tickFontSize+"px"}).add();return f},drawMinorTick:function(f){var d=this.horizontalPadding+this.bandOffsetBottom+f;var e=this.renderer.path(["M",d,this.tickStartY,"L",d,this.tickStartY+this.minorTickLength]).attr({stroke:this.tickColor,"stroke-width":this.minorTickWidth}).add();return e},drawIndicator:function(u){var t=this.normalizedTranslateValue(u),r=(!this.isShiny)?(this.chartHeight-this.backgroundHeight)/2-10:(this.chartHeight-this.backgroundHeight)/2,q=(!this.isShiny)?r+this.bandHeight+20:r+this.backgroundHeight,p=this.horizontalPadding+this.bandOffsetBottom+t,m=3,w=this.foregroundColor,n=["M",p,r,"L",p,q];if(this.isShiny){var o=["M",p-this.markerWindowHeight/2,r,"L",p-this.markerWindowHeight/2,r-(this.markerSideWidth-this.markerSideCornerRad),"C",p-this.markerWindowHeight/2,r-(this.markerSideWidth-this.markerSideCornerRad),p-this.markerWindowHeight/2,r-this.markerSideWidth,p-(this.markerWindowHeight/2)+this.markerSideCornerRad,r-this.markerSideWidth,"L",p+(this.markerWindowHeight/2)-this.markerSideCornerRad,r-this.markerSideWidth,"C",p+(this.markerWindowHeight/2)-this.markerSideCornerRad,r-this.markerSideWidth,p+(this.markerWindowHeight/2),r-this.markerSideWidth,p+(this.markerWindowHeight/2),r-(this.markerSideWidth-this.markerSideCornerRad),"L",p+this.markerWindowHeight/2,r,p-this.markerWindowHeight,r],v=["M",p-this.markerWindowHeight/2,q,"L",p-this.markerWindowHeight/2,q+(this.markerSideWidth-this.markerSideCornerRad),"C",p-this.markerWindowHeight/2,q+(this.markerSideWidth-this.markerSideCornerRad),p-this.markerWindowHeight/2,q+this.markerSideWidth,p-(this.markerWindowHeight/2)+this.markerSideCornerRad,q+this.markerSideWidth,"L",p+(this.markerWindowHeight/2)-this.markerSideCornerRad,q+this.markerSideWidth,"C",p+(this.markerWindowHeight/2)-this.markerSideCornerRad,q+this.markerSideWidth,p+(this.markerWindowHeight/2),q+this.markerSideWidth,p+(this.markerWindowHeight/2),q+(this.markerSideWidth-this.markerSideCornerRad),"L",p+this.markerWindowHeight/2,q,p-this.markerWindowHeight,q],s=["M",p-this.markerWindowHeight/2,r,"L",p-this.markerWindowHeight/2,q,p+this.markerWindowHeight/2,q,p+this.markerWindowHeight/2,r,p-this.markerWindowHeight/2,r,"M",p-1,r,"L",p-1,q];w="red";m=1;if(this.elements.markerLHS){this.elements.markerLHS.destroy()}this.elements.markerLHS=this.renderer.path(o).attr({fill:"#cccccc"}).add();if(this.elements.markerRHS){this.elements.markerRHS.destroy()}this.elements.markerRHS=this.renderer.path(v).attr({fill:"#cccccc"}).add();if(this.elements.markerWindow){this.elements.markerWindow.destroy()}this.elements.markerWindow=this.renderer.rect(p-this.markerWindowHeight/2,r,this.markerWindowHeight,this.backgroundHeight,0).attr({fill:"rgba(255, 255, 255, 0.3)"}).add();if(this.elements.markerBorder){this.elements.markerBorder.destroy()}this.elements.markerBorder=this.renderer.path(s).attr({stroke:"white","stroke-width":2}).add()}if(this.elements.markerLine){this.elements.markerLine.destroy()}this.elements.markerLine=this.renderer.path(n).attr({stroke:w,"stroke-width":m}).add();if(this.showValue){this.drawValueDisplay(u)}},drawValueDisplay:function(g){var f=this.formatValue(g),e=this.normalizedTranslateValue(g),h=this.horizontalPadding+this.bandOffsetBottom+e;if(this.elements.valueDisplay){this.elements.valueDisplay.attr({text:f,x:h})}else{this.elements.valueDisplay=this.renderer.text(f,h,(this.chartHeight-this.backgroundHeight)/2-this.valueOffset).css({color:"black",fontSize:this.valueFontSize+"px",fontWeight:"bold"}).attr({align:"center"}).add()}},normalizedTranslateValue:function(b){if(b<this.ranges[0]){return 0}if(b>this.ranges[this.ranges.length-1]){return this.translateValue(this.ranges[this.ranges.length-1])}return this.translateValue(b)},translateValue:function(f){var e=this.ranges[this.ranges.length-1]-this.ranges[0],d=f-this.ranges[0];return Math.round((d/e)*this.bandWidth)}});Splunk.JSCharting.MathUtils={logBaseTen:function(c){var d=Math.log(c)/Math.LN10;return(Math.round(d*10000)/10000)},absLogBaseTen:function(f){if(typeof f!=="number"){return NaN}var d=(f<0),e;if(d){f=-f}if(f<10){f+=(10-f)/10}e=this.logBaseTen(f);return(d)?-e:e},absPowerTen:function(f){if(typeof f!=="number"){return NaN}var d=(f<0),e;if(d){f=-f}e=Math.pow(10,f);if(e<10){e=10*(e-1)/(10-1)}e=(d)?-e:e;return(Math.round(e*1000)/1000)},nearestPowerOfTen:function(h){if(typeof h!=="number"){return NaN}var e=h<0,h=(e)?-h:h,g=this.logBaseTen(h),f=Math.pow(10,Math.floor(g));return(e)?-f:f},parseFloat:function(b){if(/^( )*(0x|-0x)/.test(b)){return parseInt(b,16)}if(!(/^[-+]?[0-9]*[.]?[0-9]*$/.test(b)||(/^[-+]?[0-9][.]?[0-9]*e[-+]?[1-9][0-9]*$/).test(b))){return NaN}return parseFloat(b)},getDecimalPrecision:function(f,e){var d=0,e=e||Infinity;while(d<e&&f.toFixed(d)!==f.toString()){d+=1}return d}};Splunk.JSCharting.TimeUtils={secsPerMin:60,secsPerHour:60*60,secsPerDay:24*60*60,bdYear:1,bdMonth:2,bdDay:3,bdHour:4,bdMinute:5,bdSecond:6,convertTimeToCategories:function(O,C,J){var y,A,z,L,G,H,N=[0,0,0,0,0,0],D=(C)?C[0]:1,I=D*O.length,B=[],j=[],F=function(b,d,c){for(y=b.length-1;y>=0;y--){if((I/(b[y]*d))>=(J+1)){continue}break}var a=this.findClipIndex(O,c,{mod:b[y]});return{start:a,step:Math.floor((b[y]*d)/D)}}.bind(this),w=function(b,c){for(y=b.length-1;y>=0;y--){if((O.length/b[y])>=(J+1)){continue}break}if(c===this.bdDay){return{start:0,step:b[y]}}else{testIndex=((D*b[y])<12)?this.bdDay:this.bdMonth;var a=this.findClipIndex(O,testIndex,{value:/01/});return{start:a,step:b[y]}}}.bind(this);if(O.length<=J){z={start:0,step:1}}else{if(D<this.secsPerMin&&I<this.secsPerMin*J){var E=[60,30,15,10,5,2,1];z=F(E,1,this.bdSecond)}else{if(D<this.secsPerHour&&I<this.secsPerHour*J){var M=[60,30,15,10,5,2,1];z=F(M,this.secsPerMin,this.bdMinute)}else{if(D<23*this.secsPerHour&&I<this.secsPerDay*J){var x=[24,12,8,6,4,2,1];z=F(x,this.secsPerHour,this.bdHour)}else{if(D<27*this.secsPerDay){var K=[14,7,4,2,1];if(D<23*this.secsPerHour){if(I<14*this.secsPerDay*J){return this.formatCategoriesByFiltering(K,this.secsPerDay,this.bdDay,I,O,J)}else{H=[240,120,96,72,48,24,12,6,4,2,1];return this.formatCategoriesByFiltering(H,30*this.secsPerDay,this.bdMonth,I,O,J)}}z=w(K,this.bdDay)}else{H=[240,120,96,72,48,24,12,6,4,2,1];z=w(H,this.bdMonth)}}}}}if(z.start>z.step){z.start=0;if((z.step*D)>=(23*this.secsPerHour)){D=60}}for(y=0;y<O.length;y++){if(y>=z.start&&(y-z.start)%z.step==0){L=this.extractBdTime(O[y]);G=this.formatBdTimeAsLabel(L,z.step*D,N);B.push(G);N=L;j.push(O[y])}else{B.push(" ")}}return{categories:B,rawLabels:j}},formatCategoriesByFiltering:function(J,G,D,H,O,I){var y,z,A,M,k,j=-1,K=[0,0,0,0,0,0],F=-1,B=[],x=[],C=function(a){for(A=D+1;A<a.length;A++){if(A===3){if(a[A]!=="01"){return false}}else{if(parseInt(a[A],10)){return false}}}return true};for(y=0;y<J.length-1;y++){M=J[y+1]*G;if(!((H/M)<I)){break}}for(z=0;z<O.length;z++){k=this.extractBdTime(O[z]);if(C(k)){if(k[D]!==j){if(F>-1){F++}j=k[D]}if(F===-1||F%J[y]===0){label=this.formatBdTimeAsLabel(k,G*J[y],K);B.push(label);K=k;F=0;x.push(O[z])}else{B.push(" ")}}else{B.push(" ")}}if(x.length<3){x=[];var N=Math.floor(B.length/I)||1,L=(G*J[y]),E=(L>=(23*this.secsPerHour))?60:L;for(z=0;z<B.length;z+=N){k=this.extractBdTime(O[z]);label=this.formatBdTimeAsLabel(k,E,K);B[z]=label;K=k;x.push(O[z])}}return{categories:B,rawLabels:x}},findClipIndex:function(m,k,o){var p,q,l,j=function(d,b,e){var a=parseInt(d[b],10);if((a%e)!=0){return false}for(var c=b+1;c<=this.bdSecond;c++){if(c==this.bdDay){if(d[c]!=="01"){return false}}else{if(parseInt(d[c],10)!=0){return false}}}return true}.bind(this),n=function(a,c,b){return b.test(a[c])};for(p=0;p<m.length;p++){q=false;l=this.extractBdTime(m[p]);if(o.mod){q=j(l,k,o.mod)}if(q&&o.value){q=n(l,k,o.value)}if(q){return p}}return 0},formatBdTimeAsLabel:function(l,t,q){var n=Splunk.JSCharting.i18nUtils,m=this.bdTimeToDateObject(l),s=(t<28*this.secsPerDay),p=(t<(23*this.secsPerHour)||((l[this.bdHour]!="00"&&l[this.bdMinute]!="00")||(q[this.bdHour]!="00"&&q[this.bdMinute]!="00"))),o=(t<60),r=(o)?"medium":"short",u=(s)?"ccc MMM d":"MMMM";if(t>364*this.secsPerDay){return n.format_date(m,"YYYY")}if(l[this.bdMonth]===q[this.bdMonth]&&l[this.bdDay]===q[this.bdDay]){return format_time(m,r)}if(l[this.bdYear]!==q[this.bdYear]){u+="<br/>YYYY"}return(p)?format_time(m,r)+"<br/>"+n.format_date(m,u):n.format_date(m,u)},formatIsoStringAsTooltip:function(g,h){var j=Splunk.JSCharting.i18nUtils,f=this.extractBdTime(g),k;if(!f){return false}k=this.bdTimeToDateObject(f);if(h>=86400){return j.format_date(k)}else{if(h>=60){return format_datetime(k,"medium","short")}}return format_datetime(k)},extractBdTime:function(b){if(!this.bdTimeRegex){this.bdTimeRegex=/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2})\.\d+[+-]{1}\d{2}:\d{2}$/}return this.bdTimeRegex.exec(b)},bdTimeToDateObject:function(n){var m=parseInt(n[this.bdYear],10),l=parseInt(n[this.bdMonth],10)-1,h=parseInt(n[this.bdDay],10),j=parseInt(n[this.bdHour],10),k=parseInt(n[this.bdMinute],10),o=parseInt(n[this.bdSecond],10);return new Date(m,l,h,j,k,o)}};Splunk.JSCharting.ColorUtils={colorFromHex:function(k,g){if(typeof k!=="number"){k=parseInt(k,16)}if(isNaN(k)||k<0||k>16777215){return undefined}var h=(k&16711680)>>16,j=(k&65280)>>8,b=k&255;return((g===undefined)?("rgb("+h+","+j+","+b+")"):("rgba("+h+","+j+","+b+","+g+")"))},hexFromColor:function(c){var d=Splunk.util.normalizeColor(c);return(d)?parseInt(d.replace("#","0x"),16):0},addAlphaToColor:function(e,f){var d=(typeof e==="number")?e:this.hexFromColor(e);return this.colorFromHex(d,f)},removeAlphaFromColor:function(c){if(!this.rgbaRegex){this.rgbaRegex=/^rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,[\s\d.]+\)\s*$/}var d=this.rgbaRegex.exec(c);if(!d){return c}return("rgb("+d[1]+", "+d[2]+", "+d[3]+")")},getLuminance:function(h){if(typeof h!=="number"){h=parseInt(h,16)}if(isNaN(h)||h<0||h>16777215){return undefined}var f=(h&16711680)>>16,g=(h&65280)>>8,b=h&255;return Math.round(0.2126*f+0.7152*g+0.0722*b)}};Splunk.JSCharting.ParsingUtils={getXAxisProperties:function(k){var f,h,g={},j=this.filterPropsByRegex(k,/(axisX|primaryAxis|axisLabelsX|axisTitleX|gridLinesX)/);for(f in j){if(j.hasOwnProperty(f)){if(!this.xAxisKeyIsTrumped(f,k)){h=f.replace(/(axisX|primaryAxis)/,"axis");h=h.replace(/axisLabelsX/,"axisLabels");h=h.replace(/axisTitleX/,"axisTitle");h=h.replace(/gridLinesX/,"gridLines");g[h]=j[f]}}}return g},xAxisKeyIsTrumped:function(c,d){if(!(/primaryAxis/.test(c))){return false}if(/primaryAxisTitle/.test(c)){return d[c.replace(/primaryAxisTitle/,"axisTitleX")]}return d[c.replace(/primaryAxis/,"axisX")]},getYAxisProperties:function(k){var f,h,g={},j=this.filterPropsByRegex(k,/(axisY|secondaryAxis|axisLabelsY|axisTitleY|gridLinesY)/);for(f in j){if(j.hasOwnProperty(f)){if(!this.yAxisKeyIsTrumped(f,k)){h=f.replace(/(axisY|secondaryAxis)/,"axis");h=h.replace(/axisLabelsY/,"axisLabels");h=h.replace(/axisTitleY/,"axisTitle");h=h.replace(/gridLinesY/,"gridLines");g[h]=j[f]}}}return g},yAxisKeyIsTrumped:function(c,d){if(!(/secondaryAxis/.test(c))){return false}if(/secondaryAxisTitle/.test(c)){return d[c.replace(/secondaryAxisTitle/,"axisTitleY")]}return d[c.replace(/secondaryAxis/,"axisY")]},filterPropsByRegex:function(h,g){if(!(g instanceof RegExp)){return h}var e,f={};for(e in h){if(h.hasOwnProperty(e)&&g.test(e)){f[e]=h[e]}}return f},stringToMap:function(j){var g,h,k,l={},m=j.length;if(j.charAt(0)!=="{"||j.charAt(m-1)!=="}"){return false}j=j.substr(1,m-2);h=j.split(",");for(g=0;g<h.length;g++){k=h[g].split(":");l[k[0]]=k[1]}return l},arraysAreEquivalent:function(f,d){if(!(f instanceof Array)||!(d instanceof Array)){return false}if(f===d){return true}if(f.length!==d.length){return false}for(var e=0;e<f.length;e++){if(f[e]!==d[e]){return false}}return true}};Splunk.JSCharting.i18nUtils={CUSTOM_LOCALE_FORMATS:{ja_JP:[["d","d\u65e5"],["YYYY","YYYY\u5e74"]],ko_KR:[["d","d\uc77c"],["YYYY","YYYY\ub144"]],zh_CN:[["d","d\u65e5"],["YYYY","YYYY\u5e74"]],zh_TW:[["d","d\u65e5"],["YYYY","YYYY\u5e74"]]},DAY_FIRST_FORMATS:[["MMM d","d MMM"]],format_date:function(f,h){var k,g=locale_name();if(h&&locale_uses_day_before_month()){var j=this.DAY_FIRST_FORMATS;for(k=0;k<j.length;k++){h=h.replace(j[k][0],j[k][1])}}if(h&&g in this.CUSTOM_LOCALE_FORMATS){var j=this.CUSTOM_LOCALE_FORMATS[g];for(k=0;k<j.length;k++){h=h.replace(j[k][0],j[k][1])}}return format_date(f,h)}};