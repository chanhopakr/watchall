jg_namespace("jgatt.geom",function(){this.Point=jg_extend(Object,function(d,c){this.x=0;this.y=0;this.constructor=function(b,a){this.x=(b!==undefined)?b:0;this.y=(a!==undefined)?a:0};this.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y)};this.hasNaN=function(){return(isNaN(this.x)||isNaN(this.y))};this.hasInfinity=function(){return((this.x==Infinity)||(this.x==-Infinity)||(this.y==Infinity)||(this.y==-Infinity))};this.hasPositiveInfinity=function(){return((this.x==Infinity)||(this.y==Infinity))};this.hasNegativeInfinity=function(){return((this.x==-Infinity)||(this.y==-Infinity))};this.isFinite=function(){return(((this.x-this.x)===0)&&((this.y-this.y)===0))};this.clone=function(){return new d(this.x,this.y)};this.equals=function(a){return((this.x===a.x)&&(this.y===a.y))};this.toString=function(){return"(x="+this.x+", y="+this.y+")"}})});jg_namespace("jgatt.geom",function(){var b=jg_import("jgatt.geom.Point");this.Matrix=jg_extend(Object,function(a,d){this.a=1;this.b=0;this.c=0;this.d=1;this.tx=0;this.ty=0;this.constructor=function(l,o,c,k,m,p){this.a=(l!==undefined)?l:1;this.b=(o!==undefined)?o:0;this.c=(c!==undefined)?c:0;this.d=(k!==undefined)?k:1;this.tx=(m!==undefined)?m:0;this.ty=(p!==undefined)?p:0};this.transformPoint=function(g){var h=this.a*g.x+this.c*g.y+this.tx;var c=this.b*g.x+this.d*g.y+this.ty;return new b(h,c)};this.translate=function(f,c){this.tx+=f;this.ty+=c};this.scale=function(c,f){this.a*=c;this.b*=f;this.c*=c;this.d*=f;this.tx*=c;this.ty*=f};this.rotate=function(u){var p=Math.cos(u);var v=Math.sin(u);var c=this.a;var o=this.b;var q=this.c;var r=this.d;var s=this.tx;var t=this.ty;this.a=c*p-o*v;this.b=o*p+c*v;this.c=q*p-r*v;this.d=r*p+q*v;this.tx=s*p-t*v;this.ty=t*p+s*v};this.concat=function(s){var z=s.a;var t=s.b;var v=s.c;var B=s.d;var x=s.tx;var c=s.ty;var A=this.a;var u=this.b;var w=this.c;var C=this.d;var y=this.tx;var r=this.ty;this.a=z*A+v*u;this.b=t*A+B*u;this.c=z*w+v*C;this.d=t*w+B*C;this.tx=z*y+v*r+x;this.ty=t*y+B*r+c};this.invert=function(){var m=this.determinant();var o=this.a/m;var q=this.b/m;var c=this.c/m;var l=this.d/m;var p=this.tx;var r=this.ty;this.a=l;this.b=-q;this.c=-c;this.d=o;this.tx=c*r-l*p;this.ty=q*p-o*r};this.identity=function(){this.a=1;this.b=0;this.c=0;this.d=1;this.tx=0;this.ty=0};this.determinant=function(){return(this.a*this.d)-(this.b*this.c)};this.hasInverse=function(){var c=Math.abs(this.determinant());return((c>0)&&(c<Infinity))};this.hasNaN=function(){return(isNaN(this.a)||isNaN(this.b)||isNaN(this.c)||isNaN(this.d)||isNaN(this.tx)||isNaN(this.ty))};this.hasInfinity=function(){return((this.a==Infinity)||(this.a==-Infinity)||(this.b==Infinity)||(this.b==-Infinity)||(this.c==Infinity)||(this.c==-Infinity)||(this.d==Infinity)||(this.d==-Infinity)||(this.tx==Infinity)||(this.tx==-Infinity)||(this.ty==Infinity)||(this.ty==-Infinity))};this.hasPositiveInfinity=function(){return((this.a==Infinity)||(this.b==Infinity)||(this.c==Infinity)||(this.d==Infinity)||(this.tx==Infinity)||(this.ty==Infinity))};this.hasNegativeInfinity=function(){return((this.a==-Infinity)||(this.b==-Infinity)||(this.c==-Infinity)||(this.d==-Infinity)||(this.tx==-Infinity)||(this.ty==-Infinity))};this.isFinite=function(){return(((this.a-this.a)===0)&&((this.b-this.b)===0)&&((this.c-this.c)===0)&&((this.d-this.d)===0)&&((this.tx-this.tx)===0)&&((this.ty-this.ty)===0))};this.isIdentity=function(){return((this.a==1)&&(this.b==0)&&(this.c==0)&&(this.d==1)&&(this.tx==0)&&(this.ty==0))};this.clone=function(){return new a(this.a,this.b,this.c,this.d,this.tx,this.ty)};this.equals=function(c){return((this.a===c.a)&&(this.b===c.b)&&(this.c===c.c)&&(this.d===c.d)&&(this.tx===c.tx)&&(this.ty===c.ty))};this.toString=function(){return"(a="+this.a+", b="+this.b+", c="+this.c+", d="+this.d+", tx="+this.tx+", ty="+this.ty+")"}})});jg_namespace("jgatt.geom",function(){this.Rectangle=jg_extend(Object,function(d,c){this.x=0;this.y=0;this.width=0;this.height=0;this.constructor=function(g,a,b,h){this.x=(g!==undefined)?g:0;this.y=(a!==undefined)?a:0;this.width=(b!==undefined)?b:0;this.height=(h!==undefined)?h:0};this.hasNaN=function(){return(isNaN(this.x)||isNaN(this.y)||isNaN(this.width)||isNaN(this.height))};this.hasInfinity=function(){return((this.x==Infinity)||(this.x==-Infinity)||(this.y==Infinity)||(this.y==-Infinity)||(this.width==Infinity)||(this.width==-Infinity)||(this.height==Infinity)||(this.height==-Infinity))};this.hasPositiveInfinity=function(){return((this.x==Infinity)||(this.y==Infinity)||(this.width==Infinity)||(this.height==Infinity))};this.hasNegativeInfinity=function(){return((this.x==-Infinity)||(this.y==-Infinity)||(this.width==-Infinity)||(this.height==-Infinity))};this.isFinite=function(){return(((this.x-this.x)===0)&&((this.y-this.y)===0)&&((this.width-this.width)===0)&&((this.height-this.height)===0))};this.clone=function(){return new d(this.x,this.y,this.width,this.height)};this.equals=function(a){return((this.x===a.x)&&(this.y===a.y)&&(this.width===a.width)&&(this.height===a.height))};this.toString=function(){return"(x="+this.x+", y="+this.y+", width="+this.width+", height="+this.height+")"}})});jg_namespace("jgatt.graphics",function(){this.ColorUtils=jg_static(function(b){b.toRGB=function(a){var d={};d.r=(a>>16)&255;d.g=(a>>8)&255;d.b=a&255;return d};b.fromRGB=function(a){return((a.r<<16)|(a.g<<8)|a.b)};b.brightness=function(a,g){var h=b.toRGB(a);var c;if(g<0){g=-g;c=0}else{c=255}if(g>1){g=1}h.r+=Math.round((c-h.r)*g);h.g+=Math.round((c-h.g)*g);h.b+=Math.round((c-h.b)*g);return b.fromRGB(h)}})});jg_namespace("jgatt.graphics",function(){var d=jg_import("jgatt.geom.Matrix");var c=jg_import("jgatt.geom.Point");this.Graphics=jg_extend(Object,function(b,a){this._width=1;this._height=1;this._strokeStyle=null;this._strokeCommands=null;this._fillCommands=null;this._drawingStack=null;this._drawingStackIndex=0;this._penX=0;this._penY=0;this._element=null;this._canvas=null;this._context=null;this.constructor=function(g,h){this._width=((g>1)&&(g<Infinity))?Math.floor(g):1;this._height=((h>1)&&(h<Infinity))?Math.floor(h):1;this._strokeStyle={thickness:1,caps:"none",joints:"miter",miterLimit:10,pixelHinting:true};this._drawingStack=[]};this.appendTo=function(h){if(!h){throw new Error("Parameter element must be non-null.")}if(h===this._element){return true}this.remove();var j=document.createElement("canvas");if(!j){return false}if(typeof j.getContext!=="function"){return false}var i=j.getContext("2d");if(!i){return false}j.style.position="absolute";j.width=this._width;j.height=this._height;h.appendChild(j);this._element=h;this._canvas=j;this._context=i;this._draw(true);return true};this.remove=function(){if(!this._element){return false}var h=this._context;h.clearRect(0,0,h.canvas.width,h.canvas.height);h.beginPath();var i=this._canvas;var j=i.parentNode;if(j){j.removeChild(i)}this._element=null;this._canvas=null;this._context=null;return true};this.setSize=function(h,j){h=((h>1)&&(h<Infinity))?Math.floor(h):1;j=((j>1)&&(j<Infinity))?Math.floor(j):1;if((h===this._width)&&(j===this._height)){return}this._width=h;this._height=j;var i=this._canvas;if(!i){return}i.width=h;i.height=j;this._draw(true)};this.setStrokeStyle=function(l,j,o,m,k){if((j!=null)&&(j!=="none")&&(j!=="round")&&(j!=="square")){throw new Error('Parameter caps must be one of "none", "round", or "square".')}if((o!=null)&&(o!=="miter")&&(o!=="round")&&(o!=="bevel")){throw new Error('Parameter joints must be one of "miter", "round", or "bevel".')}l*=1;l=((l>0)&&(l<Infinity))?l:1;j=j?j:"none";o=o?o:"miter";m*=1;m=((m>0)&&(m<Infinity))?m:10;k=(k!=false);this._strokeStyle={thickness:l,caps:j,joints:o,miterLimit:m,pixelHinting:k}};this.beginSolidStroke=function(i,h){this.endStroke();i=!isNaN(i)?Math.min(Math.max(Math.floor(i),0),16777215):0;h=!isNaN(h)?Math.min(Math.max(h,0),1):1;var j=this._strokeCommands=[];j.push({name:"solidStroke",strokeStyle:this._strokeStyle,color:i,alpha:h});j.push({name:"moveTo",x:this._penX,y:this._penY})};this.beginGradientStroke=function(t,C,B,x,s,w){if(t==null){throw new Error("Parameter type must be non-null.")}if((t!=="linear")&&(t!=="radial")){throw new Error('Parameter type must be one of "linear" or "radial".')}if(C==null){throw new Error("Parameter colors must be non-null.")}if(!(C instanceof Array)){throw new Error("Parameter colors must be an array.")}if(B==null){throw new Error("Parameter alphas must be non-null.")}if(!(B instanceof Array)){throw new Error("Parameter alphas must be an array.")}if(x==null){throw new Error("Parameter ratios must be non-null.")}if(!(x instanceof Array)){throw new Error("Parameter ratios must be an array.")}if((s!=null)&&!(s instanceof d)){throw new Error("Parameter matrix must be an instance of jgatt.geom.Matrix.")}this.endStroke();var i=Math.min(C.length,B.length,x.length);C=C.slice(0,i);B=B.slice(0,i);x=x.slice(0,i);var z;var A;var u;for(var y=0;y<i;y++){z=C[y];C[y]=!isNaN(z)?Math.min(Math.max(Math.floor(z),0),16777215):0;A=B[y];B[y]=!isNaN(A)?Math.min(Math.max(A,0),1):1;u=x[y];x[y]=!isNaN(u)?Math.min(Math.max(u,0),1):0}if(s){s=new d(s.a*1,s.b*1,s.c*1,s.d*1,s.tx*1,s.ty*1);if((s.tx-s.tx)!==0){s.tx=0}if((s.ty-s.ty)!==0){s.ty=0}if(!s.hasInverse()){s=null}}w=!isNaN(w)?Math.min(Math.max(w,-1),1):0;var v=this._strokeCommands=[];v.push({name:"gradientStroke",strokeStyle:this._strokeStyle,type:t,colors:C,alphas:B,ratios:x,matrix:s,focalPointRatio:w});v.push({name:"moveTo",x:this._penX,y:this._penY})};this.beginImageStroke=function(h,j,i){};this.endStroke=function(){if(!this._strokeCommands){return}this._drawingStack.push(this._strokeCommands);this._strokeCommands=null;this._draw()};this.beginSolidFill=function(j,h){this.endFill();j=!isNaN(j)?Math.min(Math.max(Math.floor(j),0),16777215):0;h=!isNaN(h)?Math.min(Math.max(h,0),1):1;var i=this._fillCommands=[];i.push({name:"solidFill",color:j,alpha:h});i.push({name:"moveTo",x:this._penX,y:this._penY})};this.beginGradientFill=function(u,C,B,x,t,w){if(u==null){throw new Error("Parameter type must be non-null.")}if((u!=="linear")&&(u!=="radial")){throw new Error('Parameter type must be one of "linear" or "radial".')}if(C==null){throw new Error("Parameter colors must be non-null.")}if(!(C instanceof Array)){throw new Error("Parameter colors must be an array.")}if(B==null){throw new Error("Parameter alphas must be non-null.")}if(!(B instanceof Array)){throw new Error("Parameter alphas must be an array.")}if(x==null){throw new Error("Parameter ratios must be non-null.")}if(!(x instanceof Array)){throw new Error("Parameter ratios must be an array.")}if((t!=null)&&!(t instanceof d)){throw new Error("Parameter matrix must be an instance of jgatt.geom.Matrix.")}this.endFill();var i=Math.min(C.length,B.length,x.length);C=C.slice(0,i);B=B.slice(0,i);x=x.slice(0,i);var z;var A;var v;for(var y=0;y<i;y++){z=C[y];C[y]=!isNaN(z)?Math.min(Math.max(Math.floor(z),0),16777215):0;A=B[y];B[y]=!isNaN(A)?Math.min(Math.max(A,0),1):1;v=x[y];x[y]=!isNaN(v)?Math.min(Math.max(v,0),1):0}if(t){t=new d(t.a*1,t.b*1,t.c*1,t.d*1,t.tx*1,t.ty*1);if((t.tx-t.tx)!==0){t.tx=0}if((t.ty-t.ty)!==0){t.ty=0}if(!t.hasInverse()){t=null}}w=!isNaN(w)?Math.min(Math.max(w,-1),1):0;var s=this._fillCommands=[];s.push({name:"gradientFill",type:u,colors:C,alphas:B,ratios:x,matrix:t,focalPointRatio:w});s.push({name:"moveTo",x:this._penX,y:this._penY})};this.beginImageFill=function(h,j,i){};this.endFill=function(){if(!this._fillCommands){return}this._drawingStack.push(this._fillCommands);this._fillCommands=null;this._draw()};this.moveTo=function(j,h){j*=1;if((j-j)!==0){j=0}h*=1;if((h-h)!==0){h=0}this._penX=j;this._penY=h;var i={name:"moveTo",x:j,y:h};if(this._strokeCommands){this._strokeCommands.push(i)}if(this._fillCommands){this._fillCommands.push(i)}};this.lineTo=function(j,h){j*=1;if((j-j)!==0){j=0}h*=1;if((h-h)!==0){h=0}this._penX=j;this._penY=h;var i={name:"lineTo",x:j,y:h};if(this._strokeCommands){this._strokeCommands.push(i)}if(this._fillCommands){this._fillCommands.push(i)}};this.curveTo=function(l,m,o,j){l*=1;if((l-l)!==0){l=0}m*=1;if((m-m)!==0){m=0}o*=1;if((o-o)!==0){o=0}j*=1;if((j-j)!==0){j=0}this._penX=o;this._penY=j;var k={name:"curveTo",controlX:l,controlY:m,anchorX:o,anchorY:j};if(this._strokeCommands){this._strokeCommands.push(k)}if(this._fillCommands){this._fillCommands.push(k)}};this.clear=function(){this._strokeCommands=null;this._fillCommands=null;this._drawingStack=[];this._draw(true)};this._draw=function(i){var o=this._context;if(!o){return}if(i==true){this._drawingStackIndex=0;o.clearRect(0,0,o.canvas.width,o.canvas.height);o.beginPath()}var l=this._drawingStack;var m=l.length;var q;var p;for(p=this._drawingStackIndex;p<m;p++){q=l[p];switch(q[0].name){case"solidStroke":case"gradientStroke":this._drawStroke(q);break;case"solidFill":case"gradientFill":this._drawFill(q);break}}this._drawingStackIndex=p};this._drawStroke=function(J){var R=this._context;if(!R){return}var Q=J.length;var P=J[0];var C=P.strokeStyle;var M=C.pixelHinting?(C.thickness%2)/2:0;var H=false;var K;var i;var T;var U;var S;var L;var G;var N;var F;var E;var O;var I;var D;var B;R.beginPath();for(B=1;B<Q;B++){P=J[B];if(P.name==="moveTo"){if(H&&(K===T)&&(i===U)){R.closePath()}H=false;K=P.x;i=P.y;R.moveTo(K+M,i+M)}else{if(P.name==="lineTo"){H=true;T=P.x;U=P.y;R.lineTo(T+M,U+M)}else{if(P.name==="curveTo"){H=true;T=P.anchorX;U=P.anchorY;R.quadraticCurveTo(P.controlX+M,P.controlY+M,T+M,U+M)}}}}if(H&&(K===T)&&(i===U)){R.closePath()}R.save();R.lineWidth=C.thickness;R.lineCap=(C.caps==="none")?"butt":C.caps;R.lineJoin=C.joints;R.miterLimit=C.miterLimit;P=J[0];if(P.name==="solidStroke"){E=P.color;O=P.alpha;R.strokeStyle="rgba("+((E>>16)&255)+", "+((E>>8)&255)+", "+(E&255)+", "+O+")"}else{if(P.name==="gradientStroke"){if(P.type==="radial"){S=R.createRadialGradient(0.5+0.49*P.focalPointRatio,0.5,0,0.5,0.5,0.5)}else{S=R.createLinearGradient(0,0,1,0)}G=P.colors;N=P.alphas;F=P.ratios;L=G.length;for(B=0;B<L;B++){E=G[B];O=N[B];I=F[B];S.addColorStop(I,"rgba("+((E>>16)&255)+", "+((E>>8)&255)+", "+(E&255)+", "+O+")")}D=P.matrix;if(D){R.setTransform(D.a,D.b,D.c,D.d,D.tx,D.ty)}R.strokeStyle=S}}R.stroke();R.restore();R.beginPath()};this._drawFill=function(B){var C=this._context;if(!C){return}var v=B.length;var y;var G;var F;var E;var D;var w;var z;var A;var u;var i;var x;C.beginPath();for(x=1;x<v;x++){y=B[x];if(y.name==="moveTo"){C.moveTo(y.x,y.y)}else{if(y.name==="lineTo"){C.lineTo(y.x,y.y)}else{if(y.name==="curveTo"){C.quadraticCurveTo(y.controlX,y.controlY,y.anchorX,y.anchorY)}}}}C.save();y=B[0];if(y.name==="solidFill"){z=y.color;A=y.alpha;C.fillStyle="rgba("+((z>>16)&255)+", "+((z>>8)&255)+", "+(z&255)+", "+A+")"}else{if(y.name==="gradientFill"){if(y.type==="radial"){G=C.createRadialGradient(0.5+0.49*y.focalPointRatio,0.5,0,0.5,0.5,0.5)}else{G=C.createLinearGradient(0,0,1,0)}E=y.colors;D=y.alphas;w=y.ratios;F=E.length;for(x=0;x<F;x++){z=E[x];A=D[x];u=w[x];G.addColorStop(u,"rgba("+((z>>16)&255)+", "+((z>>8)&255)+", "+(z&255)+", "+A+")")}i=y.matrix;if(i){C.setTransform(i.a,i.b,i.c,i.d,i.tx,i.ty)}C.fillStyle=G}}C.fill();C.restore();C.beginPath()}})});jg_namespace("jgatt.graphics",function(){this.IBrush=jg_extend(Object,function(d,c){this.beginBrush=function(b,f,a){};this.endBrush=function(){};this.moveTo=function(b,a){};this.lineTo=function(b,a){};this.curveTo=function(b,g,h,a){}})});jg_namespace("jgatt.graphics",function(){var f=jg_import("jgatt.geom.Matrix");var g=jg_import("jgatt.geom.Point");var h=jg_import("jgatt.graphics.Graphics");var e=jg_import("jgatt.graphics.IBrush");this.AbstractBrush=jg_extend(e,function(b,a){this._commands=null;this._graphics=null;this._matrix=null;this._bounds=null;this.beginBrush=function(i,p,s){if(!i){throw new Error("Parameter graphics must be non-null.")}if(!(i instanceof h)){throw new Error("Parameter graphics must be an instance of jgatt.graphics.Graphics.")}if((p!=null)&&!(p instanceof f)){throw new Error("Parameter matrix must be an instance of jgatt.geom.Matrix.")}if((s!=null)&&!(s instanceof Array)){throw new Error("Parameter bounds must be an array.")}this.endBrush();this._commands=[];this._graphics=i;this._matrix=p?p.clone():null;if(s){var q=this._bounds=[];var c=s.length;var r;for(var d=0;d<c;d++){r=s[d];if(r instanceof g){q.push(r.clone())}}}};this.endBrush=function(){if(!this._graphics){return}this.draw(this._commands,this._graphics,this._matrix,this._bounds);this._commands=null;this._graphics=null;this._matrix=null;this._bounds=null};this.moveTo=function(d,c){if(!this._graphics){return}this._commands.push({name:"moveTo",x:d,y:c})};this.lineTo=function(d,c){if(!this._graphics){return}this._commands.push({name:"lineTo",x:d,y:c})};this.curveTo=function(d,k,l,c){if(!this._graphics){return}this._commands.push({name:"curveTo",controlX:d,controlY:k,anchorX:l,anchorY:c})};this.draw=function(l,d,k,c){}})});jg_namespace("jgatt.graphics",function(){var e=jg_import("jgatt.geom.Matrix");var f=jg_import("jgatt.geom.Point");var d=jg_import("jgatt.graphics.AbstractBrush");this.AbstractTileBrush=jg_extend(d,function(b,a){this._stretchMode="fill";this._alignmentX=0.5;this._alignmentY=0.5;this._tileTransform=null;this._renderTransform=null;this._fitToDrawing=false;this.constructor=function(q,m,o,c,p,l){a.constructor.call(this);switch(q){case"none":case"fill":case"uniform":case"uniformToFill":case"uniformToWidth":case"uniformToHeight":q+="";break;default:q="fill";break}this._stretchMode=q;this._alignmentX=((m!=null)&&!isNaN(m))?(m*1):0.5;this._alignmentY=((o!=null)&&!isNaN(o))?(o*1):0.5;this._tileTransform=(c instanceof e)?c.clone():null;this._renderTransform=(p instanceof e)?p.clone():null;this._fitToDrawing=(l==true)};this.getStretchMode=function(){return this._stretchMode};this.setStretchMode=function(c){switch(c){case"none":case"fill":case"uniform":case"uniformToFill":case"uniformToWidth":case"uniformToHeight":c+="";break;default:c="fill";break}this._stretchMode=c};this.getAlignmentX=function(){return this._alignmentX};this.setAlignmentX=function(c){this._alignmentX=((c!=null)&&!isNaN(c))?(c*1):this._alignmentX};this.getAlignmentY=function(){return this._alignmentY};this.setAlignmentY=function(c){this._alignmentY=((c!=null)&&!isNaN(c))?(c*1):this._alignmentY};this.getTileTransform=function(){return this._tileTransform?this._tileTransform.clone():null};this.setTileTransform=function(c){this._tileTransform=(c instanceof e)?c.clone():null};this.getRenderTransform=function(){return this._renderTransform?this._renderTransform.clone():null};this.setRenderTransform=function(c){this._renderTransform=(c instanceof e)?c.clone():null};this.getFitToDrawing=function(){return this._fitToDrawing};this.setFitToDrawing=function(c){this._fitToDrawing=(c==true)};this.computeTileMatrix=function(aq,aa,ah,ae,ag){var W;var ai=this._tileTransform;if(ai){W=ai.clone();var am=new f(0,0);var an=new f(aq,0);var ao=new f(aq,aa);var ap=new f(0,aa);am=W.transformPoint(am);an=W.transformPoint(an);ao=W.transformPoint(ao);ap=W.transformPoint(ap);var aj=Math.min(am.x,an.x,ao.x,ap.x);var Q=Math.max(am.x,an.x,ao.x,ap.x);var U=Math.min(am.y,an.y,ao.y,ap.y);var ac=Math.max(am.y,an.y,ao.y,ap.y);aq=Q-aj;aa=ac-U;W.translate(-aj,-U)}else{W=new e()}var Y;if(ah&&ah.hasInverse()){Y=ah.clone();Y.invert()}var O=Infinity;var T=Infinity;var V=-Infinity;var X=-Infinity;var N;var af;if(ae&&!this._fitToDrawing){var c=ae.length;for(af=0;af<c;af++){N=ae[af];if(Y){N=Y.transformPoint(N)}O=Math.min(N.x,O);T=Math.min(N.y,T);V=Math.max(N.x,V);X=Math.max(N.y,X)}}else{var ak=ag.length;var al;for(af=0;af<ak;af++){al=ag[af];if(al.name=="moveTo"){N=new f(al.x,al.y)}else{if(al.name=="lineTo"){N=new f(al.x,al.y)}else{if(al.name=="curveTo"){N=new f(al.anchorX,al.anchorY)}else{continue}}}if(Y){N=Y.transformPoint(N)}O=Math.min(N.x,O);T=Math.min(N.y,T);V=Math.max(N.x,V);X=Math.max(N.y,X)}}if(O==Infinity){O=T=V=X=0}var P=V-O;var S=X-T;var i;var R;var Z;var ab;switch(this._stretchMode){case"none":Z=(P-aq)*this._alignmentX;ab=(S-aa)*this._alignmentY;W.translate(Z,ab);break;case"uniform":i=(aq>0)?(P/aq):1;R=(aa>0)?(S/aa):1;i=R=Math.min(i,R);Z=(P-aq*i)*this._alignmentX;ab=(S-aa*R)*this._alignmentY;W.scale(i,R);W.translate(Z,ab);break;case"uniformToFill":i=(aq>0)?(P/aq):1;R=(aa>0)?(S/aa):1;i=R=Math.max(i,R);Z=(P-aq*i)*this._alignmentX;ab=(S-aa*R)*this._alignmentY;W.scale(i,R);W.translate(Z,ab);break;case"uniformToWidth":i=R=(aq>0)?(P/aq):1;Z=(P-aq*i)*this._alignmentX;ab=(S-aa*R)*this._alignmentY;W.scale(i,R);W.translate(Z,ab);break;case"uniformToHeight":i=R=(aa>0)?(S/aa):1;Z=(P-aq*i)*this._alignmentX;ab=(S-aa*R)*this._alignmentY;W.scale(i,R);W.translate(Z,ab);break;default:i=(aq>0)?(P/aq):1;R=(aa>0)?(S/aa):1;W.scale(i,R);break}var ad=this._renderTransform;if(ad){W.concat(ad)}W.translate(O,T);if(ah){W.concat(ah)}return W}})});jg_namespace("jgatt.graphics",function(){var d=jg_import("jgatt.geom.Matrix");var c=jg_import("jgatt.graphics.AbstractTileBrush");this.GradientFillBrush=jg_extend(c,function(b,a){this._type="linear";this._colors=null;this._alphas=null;this._ratios=null;this._focalPointRatio=0;this._gradientWidth=100;this._gradientHeight=100;this.constructor=function(l,m,o,k,j){a.constructor.call(this);this._type=((l=="linear")||(l=="radial"))?(l+""):"linear";this._colors=(m instanceof Array)?m.concat():[];this._alphas=(o instanceof Array)?o.concat():[];this._ratios=(k instanceof Array)?k.concat():[];this._focalPointRatio=((j!=null)&&!isNaN(j))?Math.min(Math.max(j,-1),1):0;this._gradientWidth=100;this._gradientHeight=100};this.getType=function(){return this._type};this.setType=function(f){this._type=((f=="linear")||(f=="radial"))?(f+""):this._type};this.getColors=function(){return this._colors.concat()};this.setColors=function(f){this._colors=(f instanceof Array)?f.concat():[]};this.getAlphas=function(){return this._alphas.concat()};this.setAlphas=function(f){this._alphas=(f instanceof Array)?f.concat():[]};this.getRatios=function(){return this._ratios.concat()};this.setRatios=function(f){this._ratios=(f instanceof Array)?f.concat():[]};this.getFocalPointRatio=function(){return this._focalPointRatio};this.setFocalPointRatio=function(f){this._focalPointRatio=((f!=null)&&!isNaN(f))?Math.min(Math.max(f,-1),1):this._focalPointRatio};this.getGradientWidth=function(){return this._gradientWidth};this.setGradientWidth=function(f){this._gradientWidth=((f>0)&&(f<Infinity))?(f*1):this._gradientWidth};this.getGradientHeight=function(){return this._gradientHeight};this.setGradientHeight=function(f){this._gradientHeight=((f>0)&&(f<Infinity))?(f*1):this._gradientHeight};this.draw=function(x,r,i,y){var q=this._gradientWidth;var v=this._gradientHeight;var t=new d(q,0,0,v);t.concat(this.computeTileMatrix(q,v,i,y,x));r.beginGradientFill(this._type,this._colors,this._alphas,this._ratios,t,this._focalPointRatio);var s=x.length;var w;for(var u=0;u<s;u++){w=x[u];if(w.name=="moveTo"){r.moveTo(w.x,w.y)}else{if(w.name=="lineTo"){r.lineTo(w.x,w.y)}else{if(w.name=="curveTo"){r.curveTo(w.controlX,w.controlY,w.anchorX,w.anchorY)}}}}r.endFill()}})});jg_namespace("jgatt.motion",function(){this.ITween=jg_extend(Object,function(d,c){this.beginTween=function(){};this.endTween=function(){};this.updateTween=function(a){}})});jg_namespace("jgatt.motion.easers",function(){this.IEaser=jg_extend(Object,function(c,d){this.ease=function(a){}})});jg_namespace("jgatt.motion",function(){var d=jg_import("jgatt.motion.ITween");var c=jg_import("jgatt.motion.easers.IEaser");this.AbstractTween=jg_extend(d,function(b,a){this._easer=null;this._isRunning=false;this.constructor=function(f){if((f!=null)&&!(f instanceof c)){throw new Error("Parameter easer must be an instance of jgatt.motion.easers.IEaser")}this._easer=f?f:null};this.getEaser=function(){return this._easer};this.setEaser=function(f){if((f!=null)&&!(f instanceof c)){throw new Error("Parameter easer must be an instance of jgatt.motion.easers.IEaser")}this._easer=f?f:null;this.endTween()};this.beginTween=function(){this.endTween();if(!this.beginTweenOverride()){return false}this._isRunning=true;return true};this.endTween=function(){if(!this._isRunning){return false}this.endTweenOverride();this._isRunning=false;return true};this.updateTween=function(h){if(!this._isRunning){return false}var g=this._easer;if(g){h=g.ease(h)}if(!this.updateTweenOverride(h)){return false}return true};this.beginTweenOverride=function(){return false};this.endTweenOverride=function(){};this.updateTweenOverride=function(f){return false}})});jg_namespace("jgatt.motion",function(){var b=jg_import("jgatt.motion.AbstractTween");this.GroupTween=jg_extend(b,function(a,d){this._tweens=null;this._runningTweens=null;this.constructor=function(c,f){d.constructor.call(this,f);if((c!=null)&&!(c instanceof Array)){throw new Error("Parameter tweens must be an array.")}this._tweens=c?c.concat():[]};this.getTweens=function(){return this._tweens.concat()};this.setTweens=function(c){if((c!=null)&&!(c instanceof Array)){throw new Error("Parameter tweens must be an array.")}this._tweens=c?c.concat():[];this.endTween()};this.beginTweenOverride=function(){var i=[];var c=this._tweens;var j;for(var k=0,l=c.length;k<l;k++){j=c[k];if(j.beginTween()){i.push(j)}}if(i.length==0){return false}this._runningTweens=i;return true};this.endTweenOverride=function(){var c=this._runningTweens;for(var g=0,h=c.length;g<h;g++){c[g].endTween()}this._runningTweens=null};this.updateTweenOverride=function(l){var i=this._runningTweens;var c=i.length;var j;for(var k=0;k<c;k++){j=i[k];if(!j.updateTween(l)){j.endTween();i.splice(k,1);k--;c--}}return(i.length>0)}})});jg_namespace("jgatt.motion.interpolators",function(){this.IInterpolator=jg_extend(Object,function(c,d){this.interpolate=function(a,b,f){}})});jg_namespace("jgatt.utils",function(){this.NumberUtils=jg_static(function(b){b.EPSILON=(function(){var a=1;var d=1;while((1+d)>1){a=d;d/=2}return a})();b.PRECISION=(function(){var d=0;var a=9;while((a%10)==9){d++;a=a*10+9}return d})();b.parseNumber=function(a){if(a==null){return NaN}switch(typeof a){case"number":return a;case"string":return a?Number(a):NaN;case"boolean":return a?1:0}return NaN};b.toPrecision=function(d,a){a=(a!==undefined)?a:0;if(a<1){a=b.PRECISION+a}if(a<1){a=1}else{if(a>21){a=21}}return Number(d.toPrecision(a))};b.toFixed=function(d,a){a=(a!==undefined)?a:0;if(a<0){a=0}else{if(a>20){a=20}}return Number(d.toFixed(a))};b.roundTo=function(d,a){a=(a!==undefined)?a:1;return b.toPrecision(Math.round(d/a)*a,-1)};b.minMax=function(e,f,a){if(e<f){e=f}if(e>a){e=a}return e};b.maxMin=function(e,a,f){if(e>a){e=a}if(e<f){e=f}return e};b.interpolate=function(f,a,e){return f*(1-e)+a*e};b.approxZero=function(d,a){if(d==0){return true}a=(a!==undefined)?a:NaN;if(isNaN(a)){a=b.EPSILON}return(d<0)?(-d<a):(d<a)};b.approxOne=function(d,a){if(d==1){return true}d-=1;a=(a!==undefined)?a:NaN;if(isNaN(a)){a=b.EPSILON}return(d<0)?(-d<a):(d<a)};b.approxEqual=function(e,f,a){if(e==f){return true}e-=f;a=(a!==undefined)?a:NaN;if(isNaN(a)){a=b.EPSILON}return(n<0)?(-n<a):(n<a)};b.approxLessThan=function(e,f,a){return((e<f)&&!b.approxEqual(e,f,a))};b.approxLessThanOrEqual=function(e,f,a){return((e<f)||b.approxEqual(e,f,a))};b.approxGreaterThan=function(e,f,a){return((e>f)&&!b.approxEqual(e,f,a))};b.approxGreaterThanOrEqual=function(e,f,a){return((e>f)||b.approxEqual(e,f,a))}})});jg_namespace("jgatt.motion.interpolators",function(){var c=jg_import("jgatt.motion.interpolators.IInterpolator");var d=jg_import("jgatt.utils.NumberUtils");this.NumberInterpolator=jg_extend(c,function(a,b){this.snap=0;this.constructor=function(f){this.snap=(f!==undefined)?f:0};this.interpolate=function(m,o,q){var p=Number(m);var r=Number(o);var l=d.interpolate(p,r,q);var s=this.snap;if(s>0){l=Math.round(l/s)*s}return l}})});jg_namespace("jgatt.utils",function(){this.Dictionary=jg_extend(Object,function(j,h){var g="__jgatt_utils_Dictionary_hash";var i=0;var f=function(b){switch(typeof b){case"number":case"boolean":return b+"";case"string":return'"'+b+'"';default:if(b===undefined){return"undefined"}if(b===null){return"null"}var a=b[g];if(!a){a=b[g]="#"+(++i)}return a}};this._kvs=null;this._size=0;this.constructor=function(){this._kvs={}};this.size=function(){return this._size};this.get=function(c){var a=f(c);var b=this._kvs[a];if(!b){return undefined}return b.v};this.set=function(d,b){var a=f(d);var c=this._kvs[a];if(!c){this._kvs[a]={k:d,v:b};this._size++;return b}c.v=b;return b};this.del=function(c){var a=f(c);var b=this._kvs[a];if(!b){return undefined}delete this._kvs[a];this._size--;return b.v};this.has=function(c){var a=f(c);var b=this._kvs[a];return(b!=null)};this.keys=function(){var b=[];var c=this._kvs;for(var a in c){if(c.hasOwnProperty(a)){b.push(c[a].k)}}return b};this.values=function(){var b=[];var c=this._kvs;for(var a in c){if(c.hasOwnProperty(a)){b.push(c[a].v)}}return b}})});jg_namespace("jgatt.motion",function(){var f=jg_import("jgatt.motion.AbstractTween");var h=jg_import("jgatt.motion.interpolators.IInterpolator");var g=jg_import("jgatt.motion.interpolators.NumberInterpolator");var e=jg_import("jgatt.utils.Dictionary");this.MethodTween=jg_extend(f,function(c,b){var a=new g();var d=new e();this._target=null;this._getter=null;this._setter=null;this._startValue=null;this._endValue=null;this._interpolator=null;this._runningTarget=null;this._runningGetter=null;this._runningSetter=null;this._runningStartValue=null;this._runningEndValue=null;this._runningInterpolator=null;this.constructor=function(q,t,v,s,u,r,w){b.constructor.call(this,r);if((t!=null)&&(typeof t!=="function")){throw new Error("Parameter getter must be a function.")}if((v!=null)&&(typeof v!=="function")){throw new Error("Parameter setter must be a function.")}if((w!=null)&&!(w instanceof h)){throw new Error("Parameter interpolator must be an instance of jgatt.motion.interpolators.IInterpolator.")}this._target=(q!=null)?q:null;this._getter=t?t:null;this._setter=v?v:null;this._startValue=(s!=null)?s:null;this._endValue=(u!=null)?u:null;this._interpolator=w?w:null};this.getTarget=function(){return this._target};this.setTarget=function(j){this._target=(j!=null)?j:null;this.endTween()};this.getGetter=function(){return this._getter};this.setGetter=function(j){if((j!=null)&&(typeof j!=="function")){throw new Error("Parameter getter must be a function.")}this._getter=j?j:null;this.endTween()};this.getSetter=function(){return this._setter};this.setSetter=function(j){if((j!=null)&&(typeof j!=="function")){throw new Error("Parameter setter must be a function.")}this._setter=j?j:null;this.endTween()};this.getStartValue=function(){return this._startValue};this.setStartValue=function(j){this._startValue=(j!=null)?j:null;this.endTween()};this.getEndValue=function(){return this._endValue};this.setEndValue=function(j){this._endValue=(j!=null)?j:null;this.endTween()};this.getInterpolator=function(){return this._interpolator};this.setInterpolator=function(j){if((j!=null)&&!(j instanceof h)){throw new Error("Parameter interpolator must be an instance of jgatt.motion.interpolators.IInterpolator.")}this._interpolator=j?j:null;this.endTween()};this.beginTweenOverride=function(){var x=this._target;if(x==null){return false}var t=this._getter;if(t==null){return false}var y=this._setter;if(y==null){return false}var s=this._endValue;if(s==null){return false}var A=this._startValue;if(A==null){try{A=t.call(x)}catch(w){return false}}var u=this._interpolator;if(!u){u=a}this._runningTarget=x;this._runningGetter=t;this._runningSetter=y;this._runningStartValue=A;this._runningEndValue=s;this._runningInterpolator=u;var v=d.get(x);if(!v){v=d.set(x,new e())}var z=v.get(y);v.set(y,this);if(z){z.endTween()}return true};this.endTweenOverride=function(){var o=this._runningTarget;var l=this._runningSetter;this._runningTarget=null;this._runningGetter=null;this._runningSetter=null;this._runningStartValue=null;this._runningEndValue=null;this._runningInterpolator=null;var m=d.get(o);if(m.get(l)!=this){return}m.del(l);if(m.size()>0){return}d.del(o)};this.updateTweenOverride=function(o){var m=this._runningInterpolator.interpolate(this._runningStartValue,this._runningEndValue,o);try{this._runningSetter.call(this._runningTarget,m)}catch(l){return false}return true}})});jg_namespace("jgatt.motion",function(){var d=jg_import("jgatt.motion.ITween");var c=jg_import("jgatt.utils.Dictionary");this.TweenRunner=jg_static(function(b){var i=new c();var a=0;var h=0;var j=function(){var f=(new Date()).getTime()/1000;var r=f-h;if(r<0){r=0}else{if(r>0.1){r=0.1}}h=f;var s=i.values();var e;var l;for(var t=0,g=s.length;t<g;t++){e=s[t];e.time+=r;l=e.time/e.duration;if(l>1){l=1}if(!e.tween.updateTween(l)){l=1}if(l==1){b.stop(e.tween)}}};b.start=function(f,e){if(f==null){throw new Error("Parameter tween must be non-null.")}if(!(f instanceof d)){throw new Error("Parameter tween must be an instance of jgatt.motion.ITween.")}b.stop(f);if(!f.beginTween()){return false}if(!f.updateTween(0)){f.endTween()}else{if(e>0){var g=i.set(f,{tween:f,duration:e,time:0});if(i.size()==1){a=setInterval(j,1000/30);h=(new Date()).getTime()/1000}}else{f.updateTween(1);f.endTween()}}return true};b.stop=function(e){if(e==null){throw new Error("Parameter tween must be non-null.")}if(!(e instanceof d)){throw new Error("Parameter tween must be an instance of jgatt.motion.ITween.")}var f=i.get(e);if(!f){return false}i.del(e);if(i.size()==0){clearInterval(a)}e.endTween();return true}})});jg_namespace("jgatt.motion.easers",function(){var b=jg_import("jgatt.motion.easers.IEaser");this.AbstractEaser=jg_extend(b,function(d,a){this.direction=1;this.constructor=function(c){this.direction=(c!==undefined)?c:1};this.ease=function(c){if(this.direction>0){return this.easeOverride(c)}else{if(this.direction<0){return 1-this.easeOverride(1-c)}}if(c<0.5){return this.easeOverride(c*2)/2}return 0.5+(1-this.easeOverride(2-c*2))/2};this.easeOverride=function(c){return c}})});jg_namespace("jgatt.motion.easers",function(){var b=jg_import("jgatt.motion.easers.AbstractEaser");this.CubicEaser=jg_extend(b,function(d,a){this.constructor=function(c){a.constructor.call(this,c)};this.easeOverride=function(c){return c*c*c}})});jg_namespace("jgatt.motion.easers",function(){this.EaseDirection=jg_static(function(b){b.IN=1;b.OUT=-1;b.IN_OUT=0})});jg_namespace("jgatt.graphics",function(){var c=jg_import("jgatt.geom.Point");var d=jg_import("jgatt.graphics.IBrush");this.DrawingUtils=jg_static(function(a){a.arcTo=function(Q,i,z,D,E,M,L){if(Q==null){throw new Error("Parameter brush must be non-null.")}if(!(Q instanceof d)){throw new Error("Parameter brush must be an instance of jgatt.graphics.IBrush.")}if(E>360){E=360}else{if(E<-360){E=-360}}if(L===undefined){L=M}var F=Math.ceil(Math.abs(E)/45);var G=E/F;var J=(G/180)*Math.PI;var N=Math.cos(J/2);var b=(D/180)*Math.PI;var K;var H=i-Math.cos(b)*M;var I=z-Math.sin(b)*L;var A;var B;var O;var P;var C;for(C=0;C<F;C++){b+=J;K=b-(J/2);A=H+Math.cos(b)*M;B=I+Math.sin(b)*L;O=H+Math.cos(K)*(M/N);P=I+Math.sin(K)*(L/N);Q.curveTo(O,P,A,B)}return new c(A,B)};a.drawRectangle=function(m,p,b,k,q){if(m==null){throw new Error("Parameter brush must be non-null.")}if(!(m instanceof d)){throw new Error("Parameter brush must be an instance of jgatt.graphics.IBrush.")}var o=p+k;var l=b+q;m.moveTo(p,b);m.lineTo(o,b);m.lineTo(o,l);m.lineTo(p,l);m.lineTo(p,b)};a.drawEllipse=function(k,l,b,i,j){if(k==null){throw new Error("Parameter brush must be non-null.")}if(!(k instanceof d)){throw new Error("Parameter brush must be an instance of jgatt.graphics.IBrush.")}l+=i;k.moveTo(l,b);a.arcTo(k,l,b,0,360,i,j)}})});jg_namespace("jgatt.graphics",function(){var b=jg_import("jgatt.graphics.AbstractBrush");this.SolidFillBrush=jg_extend(b,function(d,a){this._color=0;this._alpha=1;this.constructor=function(f,c){a.constructor.call(this);this._color=((f!=null)&&!isNaN(f))?Math.min(Math.max(Math.floor(f),0),16777215):0;this._alpha=((c!=null)&&!isNaN(c))?Math.min(Math.max(c,0),1):1};this.getColor=function(){return this._color};this.setColor=function(c){this._color=((c!=null)&&!isNaN(c))?Math.min(Math.max(Math.floor(c),0),16777215):this._color};this.getAlpha=function(){return this._alpha};this.setAlpha=function(c){this._alpha=((c!=null)&&!isNaN(c))?Math.min(Math.max(c,0),1):this._alpha};this.draw=function(q,o,p,i){o.beginSolidFill(this._color,this._alpha);var l=q.length;var c;for(var m=0;m<l;m++){c=q[m];if(c.name=="moveTo"){o.moveTo(c.x,c.y)}else{if(c.name=="lineTo"){o.lineTo(c.x,c.y)}else{if(c.name=="curveTo"){o.curveTo(c.controlX,c.controlY,c.anchorX,c.anchorY)}}}}o.endFill()}})});jg_namespace("jgatt.graphics",function(){var b=jg_import("jgatt.graphics.AbstractBrush");this.SolidStrokeBrush=jg_extend(b,function(d,a){this._color=0;this._alpha=1;this._thickness=1;this._caps="none";this._joints="miter";this._miterLimit=10;this._pixelHinting=true;this.constructor=function(o,c,m,k,q,p,l){a.constructor.call(this);this._color=((o!=null)&&!isNaN(o))?Math.min(Math.max(Math.floor(o),0),16777215):0;this._alpha=((c!=null)&&!isNaN(c))?Math.min(Math.max(c,0),1):1;this._thickness=((m>0)&&(m<Infinity))?(m*1):1;this._caps=((k=="none")||(k=="round")||(k=="square"))?(k+""):"none";this._joints=((q=="miter")||(q=="round")||(q=="bevel"))?(q+""):"miter";this._miterLimit=((p>0)&&(p<Infinity))?(p*1):10;this._pixelHinting=(l!=false)};this.getColor=function(){return this._color};this.setColor=function(c){this._color=((c!=null)&&!isNaN(c))?Math.min(Math.max(Math.floor(c),0),16777215):this._color};this.getAlpha=function(){return this._alpha};this.setAlpha=function(c){this._alpha=((c!=null)&&!isNaN(c))?Math.min(Math.max(c,0),1):this._alpha};this.getThickness=function(){return this._thickness};this.setThickness=function(c){this._thickness=((c>0)&&(c<Infinity))?(c*1):this._thickness};this.getCaps=function(){return this._caps};this.setCaps=function(c){this._caps=((c=="none")||(c=="round")||(c=="square"))?(c+""):this._caps};this.getJoints=function(){return this._joints};this.setJoints=function(c){this._joints=((c=="miter")||(c=="round")||(c=="bevel"))?(c+""):this._joints};this.getMiterLimit=function(){return this._miterLimit};this.setMiterLimit=function(c){this._miterLimit=((c>0)&&(c<Infinity))?(c*1):this._miterLimit};this.getPixelHinting=function(){return this._pixelHinting};this.setPixelHinting=function(c){this._pixelHinting=(c!=false)};this.draw=function(q,o,p,i){o.setStrokeStyle(this._thickness,this._caps,this._joints,this._miterLimit,this._pixelHinting);o.beginSolidStroke(this._color,this._alpha);var l=q.length;var c;for(var m=0;m<l;m++){c=q[m];if(c.name=="moveTo"){o.moveTo(c.x,c.y)}else{if(c.name=="lineTo"){o.lineTo(c.x,c.y)}else{if(c.name=="curveTo"){o.curveTo(c.controlX,c.controlY,c.anchorX,c.anchorY)}}}}o.endStroke()}})});jg_namespace("jgatt.utils",function(){this.StringUtils=jg_static(function(b){b.escapeHTML=function(a){if(a==null){return a}a=String(a);return a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}})});jg_namespace("splunk.charting",function(){var b=jg_import("jgatt.utils.NumberUtils");this.LogScale=jg_extend(Object,function(a,d){this._base=0;this._baseMultiplier=0;this.constructor=function(c){this.setBase((c!==undefined)?c:10)};this.getBase=function(){return this._base};this.setBase=function(c){this._base=c;this._baseMultiplier=Math.log(this._base)};this.valueToScale=function(g){if(this._base<=1){return 0}var c=0;var h=(g<0);if(h){g=-g}if(g<this._base){g+=(this._base-g)/this._base}c=Math.log(g)/this._baseMultiplier;c=b.toPrecision(c,-1);if(h){c=-c}return c};this.scaleToValue=function(c){if(this._base<=1){return 0}var g=0;var h=(c<0);if(h){c=-c}g=Math.exp(c*this._baseMultiplier);if(g<this._base){g=this._base*(g-1)/(this._base-1)}g=b.toPrecision(g,-1);if(h){g=-g}return g}})});jg_namespace("splunk.charting",function(){this.MEventDispatcher=jg_static(function(){this.isEventDispatcher=true;this._eventListeners=null;this.addEventListener=function(g,j){if(g==null){throw new Error("Parameter eventName must be non-null.")}if(typeof g!=="string"){throw new Error("Parameter eventName must be a string.")}if(j==null){throw new Error("Parameter listener must be non-null.")}if(typeof j!=="function"){throw new Error("Parameter listener must be a function.")}var i=this._eventListeners;if(!i){i=this._eventListeners={}}var k=i[g];if(!k){k=i[g]=[]}for(var l=0,h=k.length;l<h;l++){if(k[l]===j){return}}k.push(j)};this.removeEventListener=function(g,j){if(g==null){throw new Error("Parameter eventName must be non-null.")}if(typeof g!=="string"){throw new Error("Parameter eventName must be a string.")}if(j==null){throw new Error("Parameter listener must be non-null.")}if(typeof j!=="function"){throw new Error("Parameter listener must be a function.")}var i=this._eventListeners;if(!i){return}var k=i[g];if(!k){return}for(var l=0,h=k.length;l<h;l++){if(k[l]===j){k.splice(l,1);return}}};this.hasEventListener=function(e){if(e==null){throw new Error("Parameter eventName must be non-null.")}if(typeof e!=="string"){throw new Error("Parameter eventName must be a string.")}var f=this._eventListeners;if(!f){return false}var d=f[e];if(!d){return false}return(d.length>0)};this.dispatchEvent=function(g){if(g==null){throw new Error("Parameter eventName must be non-null.")}if(typeof g!=="string"){throw new Error("Parameter eventName must be a string.")}var i=this._eventListeners;if(!i){return}var k=i[g];if(!k){return}var l,h;var j=[];for(l=1,h=arguments.length;l<h;l++){j.push(arguments[l])}k=k.concat();for(l=0,h=k.length;l<h;l++){k[l].apply(null,j)}}})});jg_namespace("splunk.charting",function(){var f=jg_import("jgatt.geom.Point");var d=jg_import("jgatt.graphics.Graphics");var e=jg_import("splunk.charting.MEventDispatcher");this.VisualObject=jg_extend(Object,function(a,b){b=jg_mixin(this,e,b);this.element=null;this.graphics=null;this._x=0;this._y=0;this._width=0;this._height=0;this._passes=null;this._invalidPasses=null;this._validateDelegate=null;this._validateTimeout=0;this._isValidating=false;this._parentElement=null;this.constructor=function(c){b.constructor.call(this);this._passes=(c instanceof Array)?c.concat():["render"];this._invalidPasses={};this._validateDelegate=jg_delegate(this,"validate");this.element=document.createElement("div");$(this.element).addClass("VisualObject");$(this.element).css({position:"absolute",left:"0px",top:"0px"});this.graphics=new d(this._width,this._height);this.graphics.appendTo(this.element)};this.getX=function(){return this._x};this.setX=function(c){c=((c>-Infinity)&&(c<Infinity))?Number(c):0;this._x=c;$(this.element).css({left:c+"px"})};this.getY=function(){return this._y};this.setY=function(c){c=((c>-Infinity)&&(c<Infinity))?Number(c):0;this._y=c;$(this.element).css({top:c+"px"})};this.getWidth=function(){return this._width};this.setWidth=function(c){c=((c>0)&&(c<Infinity))?Number(c):0;if(c===this._width){return}this._width=c;this.invalidate("render")};this.getHeight=function(){return this._height};this.setHeight=function(c){c=((c>0)&&(c<Infinity))?Number(c):0;if(c===this._height){return}this._height=c;this.invalidate("render")};this.invalidate=function(c){if(!c){throw new Error("Parameter pass must be non-null.")}if(this._invalidPasses[c]){return}this._invalidPasses[c]=true;if(!this._validateTimeout){this._validateTimeout=setTimeout(this._validateDelegate,1)}this.dispatchEvent("invalidated",c)};this.validate=function(c){if(!this._validateTimeout||this._isValidating){return}try{if(typeof c!=="string"){c=null}if(c==null){this._isValidating=true}var i=this._passes;var l=i?i.length:0;var o;for(var m=0;m<l;m++){o=i[m];if(!this.isValid(o)){this[o].call(this);this.setValid(o)}if((c!=null)&&(c==o)){return}}}finally{if(c==null){clearTimeout(this._validateTimeout);this._validateTimeout=0;this._isValidating=false}}};this.setValid=function(c){if(!c){throw new Error("Parameter pass must be non-null.")}if(!this._invalidPasses[c]){return}delete this._invalidPasses[c];this.dispatchEvent("validated",c)};this.isValid=function(c){if(!c){throw new Error("Parameter pass must be non-null.")}return !this._invalidPasses[c]};this.appendTo=function(c){if(c==null){c=$(".TimelineContainer")[0]}if(!c){throw new Error("Parameter parentElement must be non-null.")}if(c instanceof a){c=c.element}if(c===this._parentElement){return true}this.remove();c.appendChild(this.element);this._parentElement=c;this.invalidate("render");this.appendToOverride(this.element);this.validate()};this.appendToOverride=function(c){};this.remove=function(){if(!this._parentElement){return false}this.removeOverride(this.element);var c=this.element.parentNode;if(c){c.removeChild(this.element)}this._parentElement=null;return true};this.removeOverride=function(c){};this.render=function(){if(this.isValid("render")){return}this.graphics.setSize(this._width,this._height);this.renderOverride(this._width,this._height);this.setValid("render")};this.renderOverride=function(c,h){};this.localToGlobal=function(h){if(h==null){throw new Error("Parameter point must be non-null.")}if(!(h instanceof f)){throw new Error("Parameter point must be of type jgatt.geom.Point.")}var c=$(this.element).offset();return new f(h.x+c.left,h.y+c.top)};this.globalToLocal=function(h){if(h==null){throw new Error("Parameter point must be non-null.")}if(!(h instanceof f)){throw new Error("Parameter point must be of type jgatt.geom.Point.")}var c=$(this.element).offset();return new f(h.x-c.left,h.y-c.top)}})});jg_namespace("splunk.charting",function(){var x=jg_import("jgatt.geom.Point");var p=jg_import("jgatt.geom.Rectangle");var w=jg_import("jgatt.graphics.DrawingUtils");var z=jg_import("jgatt.graphics.Graphics");var r=jg_import("jgatt.graphics.IBrush");var s=jg_import("jgatt.graphics.SolidFillBrush");var q=jg_import("jgatt.utils.ArrayUtils");var t=jg_import("jgatt.utils.IComparator");var v=jg_import("jgatt.utils.NumberUtils");var B=jg_import("splunk.charting.LogScale");var C=jg_import("splunk.charting.VisualObject");var u=jg_import("splunk.time.DateTime");this.Histogram=jg_extend(C,function(a,b){this._data=null;this._brush=null;this._minimumX=null;this._maximumX=null;this._minimumY=null;this._maximumY=null;this._scaleY=null;this._containedMinimumX=0;this._containedMaximumX=0;this._containedMinimumY=0;this._containedMaximumY=100;this._actualMinimumX=0;this._actualMaximumX=0;this._actualMinimumY=0;this._actualMaximumY=100;this._actualRangeX=0;this._actualRangeY=100;this._actualScaleY=null;this._valueDatasX=null;this._valueDatasY=null;this._renderDatas=null;this._sortComparator=null;this._searchComparator=null;this.constructor=function(){b.constructor.call(this,["processData","updateRangeX","updateRangeY","render"]);$(this.element).addClass("Histogram");var c=new u();c=c.toUTC();c.setMinutes(0);c.setSeconds(0);this._containedMinimumX=c.getTime();this._containedMaximumX=c.getTime()+3600;this._actualMinimumX=this._containedMinimumX;this._actualMaximumX=this._containedMaximumX;this._actualRangeX=this._actualMaximumX-this._actualMinimumX;this._valueDatasX=[];this._valueDatasY=[];this._renderDatas=[];this._sortComparator=new A();this._searchComparator=new y()};this.getData=function(){return this._data};this.setData=function(c){this._data=c;this.invalidate("processData")};this.getBrush=function(){return this._brush};this.setBrush=function(c){if((c!=null)&&!(c instanceof r)){throw new Error("Parameter brush must be of type jgatt.graphics.IBrush.")}this._brush=c;this.invalidate("render")};this.getMinimumX=function(){return this._minimumX};this.setMinimumX=function(c){c=((c!=null)&&(c>-Infinity)&&(c<Infinity))?Number(c):null;if(c===this._minimumX){return}this._minimumX=c;this.invalidate("updateRangeX")};this.getMaximumX=function(){return this._maximumX};this.setMaximumX=function(c){c=((c!=null)&&(c>-Infinity)&&(c<Infinity))?Number(c):null;if(c===this._maximumX){return}this._maximumX=c;this.invalidate("updateRangeX")};this.getMinimumY=function(){return this.valueToAbsoluteY(this._minimumY)};this.setMinimumY=function(c){c=((c!=null)&&(c>-Infinity)&&(c<Infinity))?this.absoluteToValueY(Number(c)):null;if(c===this._minimumY){return}this._minimumY=c;this.invalidate("updateRangeY")};this.getMaximumY=function(){return this.valueToAbsoluteY(this._maximumY)};this.setMaximumY=function(c){c=((c!=null)&&(c>-Infinity)&&(c<Infinity))?this.absoluteToValueY(Number(c)):null;if(c===this._maximumY){return}this._maximumY=c;this.invalidate("updateRangeY")};this.getScaleY=function(){return this._scaleY};this.setScaleY=function(c){if((c!=null)&&!(c instanceof B)){throw new Error("Parameter scaleY must be of type splunk.charting.LogScale.")}this._scaleY=c;this.invalidate("processData")};this.getContainedMinimumX=function(){this.validate("updateRangeX");return this._containedMinimumX};this.getContainedMaximumX=function(){this.validate("updateRangeX");return this._containedMaximumX};this.getContainedMinimumY=function(){this.validate("updateRangeY");return this._containedMinimumY};this.getContainedMaximumY=function(){this.validate("updateRangeY");return this._containedMaximumY};this.getActualMinimumX=function(){this.validate("updateRangeX");return this._actualMinimumX};this.getActualMaximumX=function(){this.validate("updateRangeX");return this._actualMaximumX};this.getActualMinimumY=function(){this.validate("updateRangeY");return this._actualMinimumY};this.getActualMaximumY=function(){this.validate("updateRangeY");return this._actualMaximumY};this.processData=function(){if(this.isValid("processData")){return}this.invalidate("updateRangeX");this.invalidate("updateRangeY");var f=this._valueDatasX=[];var g=this._valueDatasY=[];var l=this._renderDatas=[];var m=this._data;var e=m?m.length:0;if(e>0){var o;var c;var d;var i;var j={value:0,absolute:this.valueToAbsoluteY(0)};var h;var k;g.push(j);for(k=0;k<e;k++){o=m[k];c={value:o.x1,absolute:this.valueToAbsoluteX(o.x1)};d={value:o.x2,absolute:this.valueToAbsoluteX(o.x2)};i={value:o.y,absolute:this.valueToAbsoluteY(o.y)};if((c.absolute>-Infinity)&&(c.absolute<Infinity)&&(d.absolute>-Infinity)&&(d.absolute<Infinity)&&(i.absolute>-Infinity)&&(i.absolute<Infinity)){h={valueDataX1:c,valueDataX2:d,valueDataY1:i,valueDataY2:j};h.data={x1:c.value,x2:d.value,y:i.value};h.bounds=null;f.push(c);f.push(d);g.push(i);l.push(h)}}}this.setValid("processData")};this.updateRangeX=function(){if(this.isValid("updateRangeX")){return}this.invalidate("render");var d=this._valueDatasX;var g=d.length;var c;var j=Infinity;var m=-Infinity;var i;for(i=0;i<g;i++){c=d[i];if(c.absolute<j){j=c.absolute}if(c.absolute>m){m=c.absolute}}if(j==Infinity){var l=new u();l=l.toUTC();l.setMinutes(0);l.setSeconds(0);j=l.getTime();m=l.getTime()+3600}var e=((j!=this._containedMinimumX)||(m!=this._containedMaximumX));this._containedMinimumX=j;this._containedMaximumX=m;if(this._minimumX!=null){j=this._minimumX}if(this._maximumX!=null){m=this._maximumX}if(j>m){var f=j;j=m;m=f}var k=m-j;for(i=0;i<g;i++){c=d[i];c.relative=(k>0)?(c.absolute-j)/k:0}q.sort(this._renderDatas,this._sortComparator);var h=((j!=this._actualMinimumX)||(m!=this._actualMaximumX));this._actualMinimumX=j;this._actualMaximumX=m;this._actualRangeX=k;this.setValid("updateRangeX");if(e){this.dispatchEvent("containedRangeXChanged")}if(h){this.dispatchEvent("rangeXChanged")}};this.updateRangeY=function(){if(this.isValid("updateRangeY")){return}this.invalidate("render");var m=this._valueDatasY;var e=m.length;var g;var o=Infinity;var d=-Infinity;var k;for(k=0;k<e;k++){g=m[k];if(g.absolute<o){o=g.absolute}if(g.absolute>d){d=g.absolute}}if(o==Infinity){o=this.valueToAbsoluteY(0);d=this.valueToAbsoluteY(100)}else{var l=50;var K=o;var h=d;var J;var j;for(k=0;k<2;k++){J=this._computeAutoUnits(h-K);if(J<=0){break}if((h-K)>=1){J=Math.max(Math.round(J),1)}j=1+Math.floor((h-K)/J);J*=Math.ceil(j/l);K=Math.ceil(o/J)*J;if(K!=o){K-=J}h=Math.ceil(d/J)*J}o=K;d=h}var f=((o!=this._containedMinimumY)||(d!=this._containedMaximumY));this._containedMinimumY=o;this._containedMaximumY=d;if(this._minimumY!=null){o=this.valueToAbsoluteY(this._minimumY)}if(this._maximumY!=null){d=this.valueToAbsoluteY(this._maximumY)}if(o>d){var I=o;o=d;d=I}var H=d-o;for(k=0;k<e;k++){g=m[k];g.relative=(H>0)?(g.absolute-o)/H:0}var c=this._scaleY;var i=((o!=this._actualMinimumY)||(d!=this._actualMaximumY)||(c!=this._actualScaleY));this._actualMinimumY=o;this._actualMaximumY=d;this._actualRangeY=H;this._actualScaleY=c;this.setValid("updateRangeY");if(f){this.dispatchEvent("containedRangeYChanged")}if(i){this.dispatchEvent("rangeYChanged")}};this.renderOverride=function(R,j){var e=this._valueDatasX;var h=this._valueDatasY;var ac=this._renderDatas;var W=e.length;var Y=h.length;var l=ac.length;var o;var S;var g;var m;var ae;var k;for(k=0;k<W;k++){o=e[k];o.pixel=Math.round(R*o.relative)}for(k=0;k<Y;k++){g=h[k];g.pixel=Math.round(j*(1-g.relative))}var ad=(h.length>0)?h[0]:null;var U=ad?ad.pixel:j;var T=[new x(0,0),new x(R,0),new x(R,U),new x(0,U)];var aa=[new x(0,U),new x(R,U),new x(R,j),new x(0,j)];var V;var f;var i;var X;var Z;var c;var ab=this._brush?this._brush:new s(0,1);var d=this.graphics;d.clear();for(k=0;k<l;k++){ae=ac[k];o=ae.valueDataX1;S=ae.valueDataX2;g=ae.valueDataY1;m=ae.valueDataY2;if((Math.max(o.relative,S.relative)<0)||(Math.min(o.relative,S.relative)>1)||(Math.max(g.relative,m.relative)<0)||(Math.min(g.relative,m.relative)>1)){continue}f=o.pixel;i=S.pixel;X=g.pixel;Z=m.pixel;if(f<i){f++}else{i++}if(f==i){if(o.relative<S.relative){i++}else{if(o.relative>S.relative){i--}}}if(X==Z){if(g.relative<m.relative){X++}else{if(g.relative>m.relative){X--}}}if(f>i){c=f;f=i;i=c}ae.bounds=new p(f,X,i-f,0);V=(X<=Z)?T:aa;ab.beginBrush(d,null,V);w.drawRectangle(ab,f,X,i-f,Z-X);ab.endBrush()}};this.valueToAbsoluteX=function(c){if(c==null){return NaN}if(c instanceof u){return c.getTime()}if(c instanceof Date){return(c.getTime()/1000)}if(typeof c==="string"){if(!c){return NaN}var d=Number(c);if(!isNaN(d)){return((d>-Infinity)&&(d<Infinity))?d:NaN}var e=new u(c);return e.getTime()}if(typeof c==="number"){return((c>-Infinity)&&(c<Infinity))?c:NaN}return NaN};this.absoluteToValueX=function(c){if((c>-Infinity)&&(c<Infinity)){return(new u(c)).toUTC()}return null};this.absoluteToRelativeX=function(c){return(c-this._actualMinimumX)/this._actualRangeX};this.relativeToAbsoluteX=function(c){return this._actualMinimumX+this._actualRangeX*c};this.valueToAbsoluteY=function(c){var d=this._scaleY;if(d){return d.valueToScale(v.parseNumber(c))}return v.parseNumber(c)};this.absoluteToValueY=function(c){if((c>-Infinity)&&(c<Infinity)){var d=this._scaleY;if(d){return d.scaleToValue(Number(c))}return Number(c)}return NaN};this.absoluteToRelativeY=function(c){return(c-this._actualMinimumY)/this._actualRangeY};this.relativeToAbsoluteY=function(c){return this._actualMinimumY+this._actualRangeY*c};this.getDataUnderPoint=function(f,c){this.validate("render");if((c<0)||(c>this.getHeight())){return null}var e=q.binarySearch(this._renderDatas,f/this.getWidth(),this._searchComparator);if(e<0){return null}var d=this._renderDatas[e];return{data:d.data,bounds:d.bounds}};this._computeAutoUnits=function(f){if(f<=0){return 0}var g=f/10;var e=0;if(g>0){var c=g.toExponential(20);var d=c.indexOf("e");if(d>=0){g=Number(c.substring(0,d));e=Number(c.substring(d+1,c.length))}}g=Math.ceil(g);if(g>5){g=10}else{if(g>2){g=5}}return g*Math.pow(10,e)}});var A=jg_extend(t,function(a,b){this.compare=function(e,f){var d=e.valueDataX1.relative;var c=f.valueDataX1.relative;if(d<c){return -1}if(d>c){return 1}return 0}});var y=jg_extend(t,function(a,b){this.compare=function(f,c){var d=c.valueDataX1.relative;var e=c.valueDataX2.relative;if(f<d){return -1}if(f>=e){return 1}return 0}})});jg_namespace("splunk.charting",function(){var E=jg_import("jgatt.geom.Matrix");var v=jg_import("jgatt.geom.Point");var u=jg_import("jgatt.graphics.DrawingUtils");var y=jg_import("jgatt.graphics.GradientFillBrush");var w=jg_import("jgatt.graphics.Graphics");var r=jg_import("jgatt.graphics.SolidFillBrush");var D=jg_import("jgatt.graphics.SolidStrokeBrush");var x=jg_import("jgatt.motion.MethodTween");var B=jg_import("jgatt.motion.TweenRunner");var z=jg_import("jgatt.motion.easers.CubicEaser");var s=jg_import("jgatt.motion.easers.EaseDirection");var t=jg_import("jgatt.utils.NumberUtils");var A=jg_import("jgatt.utils.StringUtils");var q=jg_import("splunk.charting.Histogram");var C=jg_import("splunk.charting.VisualObject");this.ClickDragRangeMarker=jg_extend(C,function(b,a){this._foregroundColor=0;this._histogram=null;this._minimum=null;this._maximum=null;this._minimumSnap=null;this._maximumSnap=null;this._minimumFormat=null;this._maximumFormat=null;this._rangeFormat=null;this._actualMinimum=null;this._actualMaximum=null;this._isDragging=false;this._relativeMinimum=0;this._relativeMaximum=1;this._fillBrush=null;this._lineBrush=null;this._backgroundBrush=null;this._controlsGraphics=null;this._minimumLabel=null;this._maximumLabel=null;this._rangeLabel=null;this._rangeLabelClip=null;this._controlsContainer=null;this._pressMouseX=0;this._showPosition=0;this._areControlsVisible=false;this.constructor=function(){a.constructor.call(this,["updateRange","render"]);$(this.element).addClass("ClickDragRangeMarker");this._self_mouseOver=jg_delegate(this,this._self_mouseOver);this._self_mouseOut=jg_delegate(this,this._self_mouseOut);this._self_mouseMove=jg_delegate(this,this._self_mouseMove);this._self_mouseDown=jg_delegate(this,this._self_mouseDown);this._document_mouseUp=jg_delegate(this,this._document_mouseUp);this._document_mouseMove=jg_delegate(this,this._document_mouseMove);this._document_mouseLeave=jg_delegate(this,this._document_mouseLeave);this._histogram_rangeXChanged=jg_delegate(this,this._histogram_rangeXChanged);this._fillBrush=new y("linear",[13750737,12105912],[1,1],[0,1]);this._fillBrush.setTileTransform(new E(0,1,-1,0));this._lineBrush=new D(this._foregroundColor,0.4,1,"square");this._backgroundBrush=new r(15395562,0.66);this._controlsGraphics=new w();this._minimumLabel=document.createElement("span");$(this._minimumLabel).addClass("label");$(this._minimumLabel).css({position:"absolute",left:"0px",top:"0px","white-space":"pre"});this._maximumLabel=document.createElement("span");$(this._maximumLabel).addClass("label");$(this._maximumLabel).css({position:"absolute",left:"0px",top:"0px","white-space":"pre"});this._rangeLabel=document.createElement("span");$(this._rangeLabel).addClass("label");$(this._rangeLabel).css({position:"absolute",left:"0px",top:"0px","white-space":"pre"});this._rangeLabelClip=document.createElement("div");this._rangeLabelClip.appendChild(this._rangeLabel);$(this._rangeLabelClip).css({position:"absolute",left:"0px",top:"0px",margin:"0px",padding:"0px",overflow:"hidden"});this._controlsContainer=document.createElement("div");this._controlsGraphics.appendTo(this._controlsContainer);this._controlsContainer.appendChild(this._minimumLabel);this._controlsContainer.appendChild(this._maximumLabel);this._controlsContainer.appendChild(this._rangeLabelClip);$(this._controlsContainer).css({position:"absolute",left:"0px",top:"0px",margin:"0px",padding:"0px"});$(this.element).bind("mouseover",this._self_mouseOver);$(this.element).bind("mouseout",this._self_mouseOut);$(this.element).bind("mousemove",this._self_mouseMove);$(this.element).bind("mousedown",this._self_mouseDown);this.element.appendChild(this._controlsContainer)};this.getForegroundColor=function(){return this._foregroundColor};this.setForegroundColor=function(c){c=((c!=null)&&!isNaN(c))?Math.min(Math.max(Math.floor(c),0),16777215):this._foregroundColor;if(c===this._foregroundColor){return}this._foregroundColor=c;this.invalidate("render")};this.getHistogram=function(){return this._histogram};this.setHistogram=function(c){if((c!=null)&&!(c instanceof q)){throw new Error("Parameter histogram must be of type splunk.charting.Histogram.")}if(this._histogram){this._histogram.removeEventListener("rangeXChanged",this._histogram_rangeXChanged)}this._histogram=c;if(this._histogram){this._histogram.addEventListener("rangeXChanged",this._histogram_rangeXChanged)}this.invalidate("updateRange")};this.getMinimum=function(){return this._minimum};this.setMinimum=function(c){c=((c!=null)&&(c>-Infinity)&&(c<Infinity))?Number(c):null;if(c===this._minimum){return}this._minimum=c;this.invalidate("updateRange")};this.getMaximum=function(){return this._maximum};this.setMaximum=function(c){c=((c!=null)&&(c>-Infinity)&&(c<Infinity))?Number(c):null;if(c===this._maximum){return}this._maximum=c;this.invalidate("updateRange")};this.getMinimumSnap=function(){return this._minimumSnap};this.setMinimumSnap=function(c){if((c!=null)&&(typeof c!=="function")){throw new Error("Parameter minimumSnap must be a function.")}this._minimumSnap=c;this.invalidate("updateRange")};this.getMaximumSnap=function(){return this._maximumSnap};this.setMaximumSnap=function(c){if((c!=null)&&(typeof c!=="function")){throw new Error("Parameter maximumSnap must be a function.")}this._maximumSnap=c;this.invalidate("updateRange")};this.getMinimumFormat=function(){return this._minimumFormat};this.setMinimumFormat=function(c){if((c!=null)&&(typeof c!=="function")){throw new Error("Parameter minimumFormat must be a function.")}this._minimumFormat=c;this.invalidate("render")};this.getMaximumFormat=function(){return this._maximumFormat};this.setMaximumFormat=function(c){if((c!=null)&&(typeof c!=="function")){throw new Error("Parameter maximumFormat must be a function.")}this._maximumFormat=c;this.invalidate("render")};this.getRangeFormat=function(){return this._rangeFormat};this.setRangeFormat=function(c){if((c!=null)&&(typeof c!=="function")){throw new Error("Parameter rangeFormat must be a function.")}this._rangeFormat=c;this.invalidate("render")};this.getActualMinimum=function(){this.validate("updateRange");return this._actualMinimum};this.getActualMaximum=function(){this.validate("updateRange");return this._actualMaximum};this.isDragging=function(){return this._isDragging};this.appendToOverride=function(c){$(document).bind("mousemove",this._document_mouseMove);$(document).bind("mouseleave",this._document_mouseLeave)};this.removeOverride=function(c){$(document).unbind("mouseup",this._document_mouseUp);$(document).unbind("mousemove",this._document_mouseMove);$(document).unbind("mouseleave",this._document_mouseLeave)};this.updateRange=function(){if(this.isValid("updateRange")){return}var m=this._minimum;var e=this._maximum;var p=0;var g=1;var h=this._histogram;if(h){var o=h.getActualMinimumX();var i=h.getActualMaximumX();var l=i-o;var j=this._minimumSnap;if((j!=null)&&(m!=null)){m=j(m)}var k=this._maximumSnap;if((k!=null)&&(e!=null)){e=k(e)}if(m!=null){p=(l>0)?((m-o)/l):0}else{m=o}if(e!=null){g=(l>0)?((e-o)/l):1}else{e=i}var f;if(m>e){f=m;m=e;e=f;f=p;p=g;g=f}}var c=((m!=this._actualMinimum)||(e!=this._actualMaximum));var d=((p!=this._relativeMinimum)||(g!=this._relativeMaximum));this._actualMinimum=m;this._actualMaximum=e;this._relativeMinimum=p;this._relativeMaximum=g;if(c||d){this.invalidate("render")}this.setValid("updateRange");if(c){this.dispatchEvent("rangeChanged")}};this.renderOverride=function(p,ad){var ab=this._actualMinimum;var j=this._actualMaximum;var V=this._relativeMinimum;var o=this._relativeMaximum;var h=$(this._minimumLabel);var T=$(this._maximumLabel);var ac=$(this._rangeLabel);var m=$(this._rangeLabelClip);var ag=this._minimumFormat;if(ab==null){h.html("")}else{if(!ag){h.html(A.escapeHTML(ab))}else{h.html(A.escapeHTML(ag(ab)))}}var af=this._maximumFormat;if(j==null){T.html("")}else{if(!af){T.html(A.escapeHTML(j))}else{T.html(A.escapeHTML(af(j)))}}var ae=this._rangeFormat;if(!ae||(ab==null)||(j==null)){ac.html("")}else{ac.html(A.escapeHTML(ae(ab,j)))}if(V>o){var c;c=V;V=o;o=c;c=h;h=T;T=c}var f=0;var g=Math.round(p*V);var i=Math.round(p*o);var l=Math.round(p);var X=0;var Z=Math.round(ad);g=t.minMax(g,f,l);i=t.minMax(i,f,l);var aa={};aa.width=Math.round(h.outerWidth(true));aa.height=20;aa.x=g-aa.width;aa.y=Math.min(Z-aa.height,0);var U={};U.width=Math.round(T.outerWidth(true));U.height=20;U.x=i;U.y=Math.min(Z-U.height,0);var d={};d.width=Math.min(Math.round(ac.outerWidth(true)),i-g);d.height=20;d.x=g+Math.round((i-g-d.width)/2);d.y=Z;if((U.x+U.width)>l){U.x=l-U.width}if((aa.x+aa.width)>U.x){aa.x=U.x-aa.width}if(aa.x<0){aa.x=0}if(U.x<(aa.x+aa.width)){U.x=aa.x+aa.width}h.css({left:aa.x+"px",top:aa.y+Math.round((aa.height-h.outerHeight(true))/2)+"px"});T.css({left:U.x+"px",top:U.y+Math.round((U.height-T.outerHeight(true))/2)+"px"});ac.css({top:Math.round((d.height-ac.outerHeight(true))/2)+"px"});m.css({left:d.x+"px",top:d.y+"px",width:d.width+"px",height:d.height+"px"});var e=this.graphics;e.clear();var W=this._backgroundBrush;W.beginBrush(e);u.drawRectangle(W,Math.min(f+1,l),X,Math.max(g-1,0),Z);W.endBrush();W.beginBrush(e);u.drawRectangle(W,Math.min(i+1,l),X,Math.max(l-i-1,0),Z);W.endBrush();e=this._controlsGraphics;e.clear();e.setSize(p+1,ad+20);var k=this._lineBrush;k.setColor(this._foregroundColor);k.beginBrush(e);k.moveTo(g,aa.y);k.lineTo(g,Z+20);k.endBrush();k.beginBrush(e);k.moveTo(i,U.y);k.lineTo(i,Z+20);k.endBrush();var Y=this._fillBrush;Y.beginBrush(e);u.drawRectangle(Y,aa.x+1,aa.y,aa.width-1,aa.height);Y.endBrush();Y.beginBrush(e);u.drawRectangle(Y,U.x+1,U.y,U.width-1,U.height);Y.endBrush();Y.beginBrush(e);u.drawRectangle(Y,g+1,Z,Math.max(i-g-1,0),20);Y.endBrush();this._redrawShow()};this._getShowPosition=function(){return this._showPosition};this._setShowPosition=function(c){this._showPosition=c;this._redrawShow()};this._redrawShow=function(){var c=this._showPosition;$(this._controlsContainer).css({opacity:c+"",filter:"alpha(opacity="+Math.round(c*100)+")",visibility:(c>0)?"visible":"hidden"})};this._updateShowControls=function(d,c){if((d.x<0)||(d.x>this.getWidth())||(d.y<0)||(d.y>this.getHeight())){this._hideControls()}else{if(c!==false){this._showControls()}}};this._showControls=function(){if(this._areControlsVisible){return}this._areControlsVisible=true;var c=new x(this,this._getShowPosition,this._setShowPosition,null,1,new z(s.OUT));B.start(c,0.3)};this._hideControls=function(){if(!this._areControlsVisible){return}this._areControlsVisible=false;var c=new x(this,this._getShowPosition,this._setShowPosition,null,0,new z(s.OUT));B.start(c,0.3)};this._beginDrag=function(c){if(this._isDragging){return}this._isDragging=true;this._pressMouseX=c.x;this._updateDrag(c);this.dispatchEvent("dragStart")};this._endDrag=function(){if(!this._isDragging){return}this._isDragging=false;this.dispatchEvent("dragComplete")};this._updateDrag=function(g){if(!this._isDragging){return}var e=this._histogram;if(!e){return}var o=e.getActualMinimumX();var f=e.getActualMaximumX();var l=f-o;var p=this.getWidth();var i=t.minMax(this._pressMouseX,0,p);var k=t.minMax(g.x,0,p);var m=(p>0)?(i/p):0;var d=(p>0)?(k/p):1;var h=o+l*m;var j=o+l*d;if(h>j){var c=h;h=j;j=c}this.setMinimum(h);this.setMaximum(j)};this._self_mouseOver=function(c){if(this._isDragging){return}var d=this.globalToLocal(new v(c.pageX,c.pageY));this._updateShowControls(d)};this._self_mouseOut=function(c){if(this._isDragging){return}var d=this.globalToLocal(new v(c.pageX,c.pageY));this._updateShowControls(d)};this._self_mouseMove=function(c){if(this._isDragging){return}var d=this.globalToLocal(new v(c.pageX,c.pageY));this._updateShowControls(d)};this._self_mouseDown=function(c){var d=this.globalToLocal(new v(c.pageX,c.pageY));if((d.x<0)||(d.x>this.getWidth())||(d.y<0)||(d.y>this.getHeight())){return}$(document).bind("mouseup",this._document_mouseUp);this._beginDrag(d);return false};this._document_mouseUp=function(c){var d=this.globalToLocal(new v(c.pageX,c.pageY));$(document).unbind("mouseup",this._document_mouseUp);this._endDrag();this._updateShowControls(d,false)};this._document_mouseMove=function(c){var d=this.globalToLocal(new v(c.pageX,c.pageY));if(this._isDragging){this._updateDrag(d)}else{this._updateShowControls(d,false)}};this._document_mouseLeave=function(c){if(!this._isDragging){this._updateShowControls(new v(-1,-1),false)}};this._histogram_rangeXChanged=function(){this.invalidate("updateRange");this.validate()}})});jg_namespace("splunk.charting",function(){var i=jg_import("jgatt.graphics.DrawingUtils");var h=jg_import("jgatt.graphics.SolidFillBrush");var j=jg_import("jgatt.graphics.SolidStrokeBrush");var f=jg_import("splunk.charting.Histogram");var g=jg_import("splunk.charting.VisualObject");this.CursorMarker=jg_extend(g,function(b,a){this._foregroundColor=0;this._histogram=null;this._value=null;this._lineBrush=null;this._backgroundBrush=null;this.constructor=function(){a.constructor.call(this);$(this.element).addClass("CursorMarker");this._histogram_rangeXChanged=jg_delegate(this,this._histogram_rangeXChanged);this._lineBrush=new j(this._foregroundColor,0.4,1,"square");this._backgroundBrush=new h(15395562,0.66)};this.getForegroundColor=function(){return this._foregroundColor};this.setForegroundColor=function(c){c=((c!=null)&&!isNaN(c))?Math.min(Math.max(Math.floor(c),0),16777215):this._foregroundColor;if(c===this._foregroundColor){return}this._foregroundColor=c;this.invalidate("render")};this.getHistogram=function(){return this._histogram};this.setHistogram=function(c){if((c!=null)&&!(c instanceof f)){throw new Error("Parameter histogram must be of type splunk.charting.Histogram.")}if(this._histogram){this._histogram.removeEventListener("rangeXChanged",this._histogram_rangeXChanged)}this._histogram=c;if(this._histogram){this._histogram.addEventListener("rangeXChanged",this._histogram_rangeXChanged)}this.invalidate("render")};this.getValue=function(){return this._value};this.setValue=function(c){c=((c!=null)&&(c>-Infinity)&&(c<Infinity))?Number(c):null;if(c===this._value){return}this._value=c;this.invalidate("render")};this.renderOverride=function(A,G){var c=this.graphics;c.clear();var I=this._histogram;if(!I){return}var H=this._value;if(H==null){return}var F=I.getActualMinimumX();var J=I.getActualMaximumX();var y=J-F;var z=(y>0)?((H-F)/y):0;if(isNaN(z)||(z<=0)){return}var d=Math.min(z,1);var B=0;var D=Math.round(A*d);var K=0;var e=Math.round(G);var C=this._backgroundBrush;C.beginBrush(c);i.drawRectangle(C,B,K,D-B,e-K);C.endBrush();if(z==d){var E=this._lineBrush;E.setColor(this._foregroundColor);E.beginBrush(c);E.moveTo(D,K);E.lineTo(D,e);E.endBrush()}};this._histogram_rangeXChanged=function(){this.invalidate("render");this.validate()}})});jg_namespace("splunk.charting",function(){var h=jg_import("jgatt.graphics.SolidStrokeBrush");var g=jg_import("jgatt.utils.StringUtils");var e=jg_import("splunk.charting.Histogram");var f=jg_import("splunk.charting.VisualObject");this.NumericAxisLabels=jg_extend(f,function(b,a){this._placement="left";this._foregroundColor=0;this._histogram=null;this._labelFormat=null;this._actualUnit=0;this._lineBrush=null;this._tickBrush=null;this._labelInfos=null;this.constructor=function(){a.constructor.call(this,["updateLabels","render"]);$(this.element).addClass("NumericAxisLabels");this._histogram_rangeYChanged=jg_delegate(this,this._histogram_rangeYChanged);this._lineBrush=new h(this._foregroundColor,0.2,1,"square");this._tickBrush=new h(this._foregroundColor,0.1,1);this._labelInfos=[]};this.setWidth=function(c){};this.getPlacement=function(){return this._placement};this.setPlacement=function(c){c=((c=="left")||(c=="right"))?String(c):this._placement;if(c===this._placement){return}this._placement=c;this.invalidate("render")};this.getForegroundColor=function(){return this._foregroundColor};this.setForegroundColor=function(c){c=((c!=null)&&!isNaN(c))?Math.min(Math.max(Math.floor(c),0),16777215):this._foregroundColor;if(c===this._foregroundColor){return}this._foregroundColor=c;this.invalidate("render")};this.getHistogram=function(){return this._histogram};this.setHistogram=function(c){if((c!=null)&&!(c instanceof e)){throw new Error("Parameter histogram must be of type splunk.charting.Histogram.")}if(this._histogram){this._histogram.removeEventListener("rangeYChanged",this._histogram_rangeYChanged)}this._histogram=c;if(this._histogram){this._histogram.addEventListener("rangeYChanged",this._histogram_rangeYChanged)}this.invalidate("updateLabels")};this.getLabelFormat=function(){return this._labelFormat};this.setLabelFormat=function(c){if((c!=null)&&(typeof c!=="function")){throw new Error("Parameter labelFormat must be a function.")}this._labelFormat=c;this.invalidate("updateLabels")};this.getActualUnit=function(){return this._actualUnit};this.getPositions=function(){this.validate("updateLabels");var l=[];var d=this._labelInfos;var c;for(var i=0,o=d.length;i<o;i++){c=d[i];if(c.visible){l.push(c.relative)}}return l};this.updateLabels=function(){if(this.isValid("updateLabels")){return}this.invalidate("render");var V=this.element;var S=this._labelFormat;var U=this._labelInfos;var W=U.length;var i=0;var G;try{var Q=50;this._actualUnit=0;var M=this._histogram;if(!M){return}var H=M.getActualMinimumY();var c=M.getActualMaximumY();if(H==c){return}var J=M.getScaleY();var N=(J!=null);var P=H;var R=c;if(N){H=J.scaleToValue(H);c=J.scaleToValue(c)}var L=R-P;var T=this._computeAutoUnits(L);if(T<=0){return}if(L>=1){T=Math.max(Math.round(T),1)}var O=1+Math.floor(L/T);T*=Math.ceil(O/Q);this._actualUnit=T;var F=Math.ceil(P/T)*T-T;var K=Math.ceil(R/T)*T;var I;var Y;var X;for(I=F;I<=K;I+=T){Y=N?J.scaleToValue(I):I;X=(I-P)/L;if((X>0)&&(X<=1)){if(i<W){G=U[i]}else{G={};G.label=document.createElement("span");G.queryLabel=$(G.label);G.queryLabel.addClass("label");G.queryLabel.css({position:"absolute",left:"0px",top:"0px","white-space":"pre"});U.push(G);V.appendChild(G.label)}G.relative=X;if(S){G.queryLabel.html(g.escapeHTML(S(Y)))}else{G.queryLabel.html(g.escapeHTML(Y))}i++}}}finally{for(var d=U.length-1;d>=i;d--){G=U.pop();V=G.label.parentNode;if(V){V.removeChild(G.label)}}this.setValid("updateLabels")}};this.renderOverride=function(A,D){var E=(this._placement!="right");var F=this.graphics;var C=this._lineBrush;var z=this._tickBrush;var j=this._labelInfos;var G=j.length;var c;var B;var H=0;var I=25;var y=0;var d;var i;for(d=0;d<G;d++){c=j[d];c.y=Math.round(D*(1-c.relative));c.width=Math.round(c.queryLabel.outerWidth(true));c.height=Math.round(c.queryLabel.outerHeight(true));c.visible=true;H=Math.max(H,c.width)}A=this._width=Math.max(H,I);for(d=0;d<G;d++){c=j[d];c.x=E?(A-c.width):0}for(d=G-1;d>=0;d--){c=j[d];for(i=d-1;i>=0;i--){B=j[i];if(B.y>=(c.y+c.height)){break}y=Math.max(y,d-i)}}if(y>0){y++;for(d=0;d<G;d++){if(((G-d-1)%y)!=0){j[d].visible=false}}}for(d=0;d<G;d++){c=j[d];if((c.y+c.height)<=D){break}c.visible=false}F.clear();F.setSize(A+(E?1:0),D+1);z.setColor(this._foregroundColor);for(d=0;d<G;d++){c=j[d];c.queryLabel.css({left:c.x+"px",top:c.y+"px",visibility:c.visible?"visible":"hidden"});if(c.visible){z.beginBrush(F);if(E){z.moveTo(A,c.y);z.lineTo(A-I,c.y)}else{z.moveTo(0,c.y);z.lineTo(I,c.y)}z.endBrush()}}C.setColor(this._foregroundColor);C.beginBrush(F);if(E){C.moveTo(A,0);C.lineTo(A,Math.round(D))}else{C.moveTo(0,0);C.lineTo(0,Math.round(D))}C.endBrush();this.dispatchEvent("labelsChanged")};this._computeAutoUnits=function(m){if(m<=0){return 0}var o=m/10;var l=0;if(o>0){var c=o.toExponential(20);var d=c.indexOf("e");if(d>=0){o=Number(c.substring(0,d));l=Number(c.substring(d+1,c.length))}}o=Math.ceil(o);if(o>5){o=10}else{if(o>2){o=5}}return o*Math.pow(10,l)};this._histogram_rangeYChanged=function(){this.invalidate("updateLabels");this.validate()}})});jg_namespace("splunk.charting",function(){var f=jg_import("jgatt.graphics.SolidStrokeBrush");var e=jg_import("splunk.charting.NumericAxisLabels");var d=jg_import("splunk.charting.VisualObject");this.GridLines=jg_extend(d,function(b,a){this._foregroundColor=0;this._axisLabels=null;this._lineBrush=null;this.constructor=function(){a.constructor.call(this);$(this.element).addClass("GridLines");this._axisLabels_labelsChanged=jg_delegate(this,this._axisLabels_labelsChanged);this._lineBrush=new f(this._foregroundColor,0.1,1)};this.getForegroundColor=function(){return this._foregroundColor};this.setForegroundColor=function(c){c=((c!=null)&&!isNaN(c))?Math.min(Math.max(Math.floor(c),0),16777215):this._foregroundColor;if(c===this._foregroundColor){return}this._foregroundColor=c;this.invalidate("render")};this.getAxisLabels=function(){return this._axisLabels};this.setAxisLabels=function(c){if((c!=null)&&!(c instanceof e)){throw new Error("Parameter axisLabels must be of type splunk.charting.NumericAxisLabels.")}if(this._axisLabels){this._axisLabels.removeEventListener("labelsChanged",this._axisLabels_labelsChanged)}this._axisLabels=c;if(this._axisLabels){this._axisLabels.addEventListener("labelsChanged",this._axisLabels_labelsChanged)}this.invalidate("render")};this.renderOverride=function(x,c){var r=this.graphics;r.clear();var i=this._axisLabels;if(!i){return}var y=this._lineBrush;y.setColor(this._foregroundColor);var u=i.getPositions();var w=u.length;var t;var s;for(var v=0;v<w;v++){t=u[v];s=Math.round(c*(1-t));y.beginBrush(r);y.moveTo(0,s);y.lineTo(x,s);y.endBrush()}};this._axisLabels_labelsChanged=function(){this.invalidate("render");this.validate()}})});jg_namespace("splunk.charting",function(){var r=jg_import("jgatt.graphics.SolidStrokeBrush");var m=jg_import("jgatt.utils.StringUtils");var j=jg_import("splunk.charting.Histogram");var o=jg_import("splunk.charting.VisualObject");var k=jg_import("splunk.time.DateTime");var s=jg_import("splunk.time.Duration");var q=jg_import("splunk.time.ITimeZone");var p=jg_import("splunk.time.TimeUtils");var l=jg_import("splunk.time.TimeZones");this.TimeAxisLabels=jg_extend(o,function(b,a){this._foregroundColor=0;this._histogram=null;this._timeZone=l.LOCAL;this._labelFormat=null;this._actualUnit=null;this._lineBrush=null;this._labelInfos=null;this.constructor=function(){a.constructor.call(this,["updateLabels","render"]);$(this.element).addClass("TimeAxisLabels");this._histogram_rangeXChanged=jg_delegate(this,this._histogram_rangeXChanged);this._actualUnit=new s();this._lineBrush=new r(this._foregroundColor,0.2,1,"square");this._labelInfos=[]};this.setHeight=function(c){};this.getForegroundColor=function(){return this._foregroundColor};this.setForegroundColor=function(c){c=((c!=null)&&!isNaN(c))?Math.min(Math.max(Math.floor(c),0),16777215):this._foregroundColor;if(c===this._foregroundColor){return}this._foregroundColor=c;this.invalidate("render")};this.getHistogram=function(){return this._histogram};this.setHistogram=function(c){if((c!=null)&&!(c instanceof j)){throw new Error("Parameter histogram must be of type splunk.charting.Histogram.")}if(this._histogram){this._histogram.removeEventListener("rangeXChanged",this._histogram_rangeXChanged)}this._histogram=c;if(this._histogram){this._histogram.addEventListener("rangeXChanged",this._histogram_rangeXChanged)}this.invalidate("updateLabels")};this.getTimeZone=function(){return this._timeZone};this.setTimeZone=function(c){if((c!=null)&&!(c instanceof q)){throw new Error("Parameter timeZone must be of type splunk.time.ITimeZone.")}this._timeZone=c?c:l.LOCAL;this.invalidate("updateLabels")};this.getLabelFormat=function(){return this._labelFormat};this.setLabelFormat=function(c){if((c!=null)&&(typeof c!=="function")){throw new Error("Parameter labelFormat must be a function.")}this._labelFormat=c;this.invalidate("updateLabels")};this.getActualUnit=function(){return this._actualUnit.clone()};this.getPositions=function(){this.validate("updateLabels");var g=[];var e=this._labelInfos;var d;for(var f=0,c=e.length;f<c;f++){d=e[f];if(d.visible){g.push(d.relative)}}return g};this.updateLabels=function(){if(this.isValid("updateLabels")){return}this.invalidate("render");var S=this.element;var N=this._labelFormat;var R=this._labelInfos;var T=R.length;var c=0;var d;try{var M=50;this._actualUnit=new s();var H=this._histogram;if(!H){return}var e=H.getActualMinimumX();var O=H.getActualMaximumX();var f=O-e;if(f==0){return}var g=this._timeZone;var I=new k(e);var J=new k(O);I=I.toTimeZone(g);J=J.toTimeZone(g);var P=this._computeAutoUnits(p.subtractDates(J,I));var h=p.durationToSeconds(P,I);if(h<=0){return}var L=1+Math.floor((O-e)/h);P=p.multiplyDuration(P,Math.ceil(L/M));this._actualUnit=P;I=p.subtractDateDuration(p.ceilDate(I,P),P);J=p.ceilDate(J,P);var i;var U;var K=1;for(i=I;i.getTime()<=J.getTime();K++){U=(i.getTime()-e)/f;if((U>=0)&&(U<1)){if(c<T){d=R[c]}else{d={};d.label=document.createElement("span");d.queryLabel=$(d.label);d.queryLabel.addClass("label");d.queryLabel.css({position:"absolute",left:"0px",top:"0px","white-space":"pre"});R.push(d);S.appendChild(d.label)}d.relative=U;if(N){d.queryLabel.html(m.escapeHTML(N(i)))}else{d.queryLabel.html(m.escapeHTML(i))}c++}i=p.addDateDuration(I,p.multiplyDuration(P,K))}}finally{for(var Q=R.length-1;Q>=c;Q--){d=R.pop();S=d.label.parentNode;if(S){S.removeChild(d.label)}}this.setValid("updateLabels")}};this.renderOverride=function(f,i){var z=this.graphics;var h=this._lineBrush;var d=this._labelInfos;var A=d.length;var B;var g;var D=0;var E=25;var e=0;var C;var c;for(C=0;C<A;C++){B=d[C];B.x=Math.round(f*B.relative);B.y=0;B.width=Math.round(B.queryLabel.outerWidth(true));B.height=Math.round(B.queryLabel.outerHeight(true));B.visible=true;D=Math.max(D,B.height)}i=this._height=Math.max(D,E);for(C=0;C<A;C++){B=d[C];for(c=C+1;c<A;c++){g=d[c];if(g.x>=(B.x+B.width)){break}e=Math.max(e,c-C)}}if(e>0){e++;for(C=0;C<A;C++){if((C%e)!=0){d[C].visible=false}}}for(C=A-1;C>=0;C--){B=d[C];if((B.x+B.width)<=f){break}B.visible=false}z.clear();z.setSize(f+1,i);h.setColor(this._foregroundColor);for(C=0;C<A;C++){B=d[C];B.queryLabel.css({left:B.x+"px",top:B.y+"px",visibility:B.visible?"visible":"hidden"});if(B.visible){h.beginBrush(z);h.moveTo(B.x,0);h.lineTo(B.x,E);h.endBrush()}}h.beginBrush(z);h.moveTo(0,0);h.lineTo(Math.round(f),0);h.endBrush();this.dispatchEvent("labelsChanged")};this._computeAutoUnits=function(c){if(p.durationToSeconds(c)<=0){return new s()}var i=new k(c.years,c.months+1,c.days+1,c.hours,c.minutes,c.seconds,l.UTC);c=new s(i.getYear(),i.getMonth()-1,i.getDay()-1,i.getHours(),i.getMinutes(),i.getSeconds());var g;var d;var h;var e;var f;g=c.years;if(g>2){d=g/10;h=0;if(d>0){e=d.toExponential(20);f=e.indexOf("e");if(f>=0){d=Number(e.substring(0,f));h=Number(e.substring(f+1,e.length))}}d=Math.ceil(d);if(d>5){d=10}else{if(d>2){d=5}}return new s(Math.ceil(d*Math.pow(10,h)))}g=c.months+g*12;if(g>2){if(g>18){return new s(0,4)}else{if(g>12){return new s(0,3)}else{if(g>6){return new s(0,2)}else{return new s(0,1)}}}}g=c.days+g*30;if(g>2){if(g>49){return new s(0,0,14)}else{if(g>28){return new s(0,0,7)}else{if(g>14){return new s(0,0,4)}else{if(g>7){return new s(0,0,2)}else{return new s(0,0,1)}}}}}g=c.hours+g*24;if(g>2){if(g>36){return new s(0,0,0,12)}else{if(g>24){return new s(0,0,0,6)}else{if(g>12){return new s(0,0,0,4)}else{if(g>6){return new s(0,0,0,2)}else{return new s(0,0,0,1)}}}}}g=c.minutes+g*60;if(g>2){if(g>105){return new s(0,0,0,0,30)}else{if(g>70){return new s(0,0,0,0,15)}else{if(g>35){return new s(0,0,0,0,10)}else{if(g>14){return new s(0,0,0,0,5)}else{if(g>7){return new s(0,0,0,0,2)}else{return new s(0,0,0,0,1)}}}}}}g=c.seconds+g*60;if(g>2){if(g>105){return new s(0,0,0,0,0,30)}else{if(g>70){return new s(0,0,0,0,0,15)}else{if(g>35){return new s(0,0,0,0,0,10)}else{if(g>14){return new s(0,0,0,0,0,5)}else{if(g>7){return new s(0,0,0,0,0,2)}else{return new s(0,0,0,0,0,1)}}}}}}d=g/10;h=0;if(d>0){e=d.toExponential(20);f=e.indexOf("e");if(f>=0){d=Number(e.substring(0,f));h=Number(e.substring(f+1,e.length))}}d=Math.ceil(d);if(d>5){d=10}else{if(d>2){d=5}}return new s(0,0,0,0,0,d*Math.pow(10,h))};this._histogram_rangeXChanged=function(){this.invalidate("updateLabels");this.validate()}})});jg_namespace("splunk.charting",function(){var i=jg_import("jgatt.geom.Matrix");var m=jg_import("jgatt.geom.Point");var o=jg_import("jgatt.geom.Rectangle");var h=jg_import("jgatt.graphics.GradientFillBrush");var l=jg_import("jgatt.utils.NumberUtils");var j=jg_import("jgatt.utils.StringUtils");var k=jg_import("splunk.charting.VisualObject");this.Tooltip=jg_extend(k,function(b,a){this._value=null;this._viewBounds=null;this._targetBounds=null;this._backgroundBrush=null;this._valueLabel=null;this._isShowing=true;this.constructor=function(){a.constructor.call(this);$(this.element).addClass("Tooltip");this._viewBounds=new o();this._targetBounds=new o();this._backgroundBrush=new h("linear",[3355443,0],[1,1],[0,1]);this._backgroundBrush.setTileTransform(new i(0,1,-1,0));this._valueLabel=document.createElement("span");$(this._valueLabel).addClass("label");$(this._valueLabel).css({position:"absolute",left:"0px",top:"0px","white-space":"pre"});this.element.appendChild(this._valueLabel);this.hide()};this.setWidth=function(c){};this.setHeight=function(c){};this.getValue=function(){return this._value};this.setValue=function(c){c=(c!=null)?String(c):null;if(c===this._value){return}this._value=c;this.invalidate("render")};this.getViewBounds=function(){return this._viewBounds.clone()};this.setViewBounds=function(c){if((c!=null)&&!(c instanceof o)){throw new Error("Parameter viewBounds must be of type jgatt.geom.Rectangle.")}if(c){c=c.clone();if(c.width<0){c.x+=c.width;c.width=-c.width}if(c.height<0){c.y+=c.height;c.height=-c.height}}else{c=new o()}if(c.equals(this._viewBounds)){return}this._viewBounds=c;this.invalidate("render")};this.getTargetBounds=function(){return this._targetBounds.clone()};this.setTargetBounds=function(c){if((c!=null)&&!(c instanceof o)){throw new Error("Parameter targetBounds must be of type jgatt.geom.Rectangle.")}if(c){c=c.clone();if(c.width<0){c.x+=c.width;c.width=-c.width}if(c.height<0){c.y+=c.height;c.height=-c.height}}else{c=new o()}if(c.equals(this._targetBounds)){return}this._targetBounds=c;this.invalidate("render")};this.show=function(){if(this._isShowing){return}this._isShowing=true;this.validate();$(this.element).css({visibility:"visible"})};this.hide=function(){if(!this._isShowing){return}this._isShowing=false;$(this.element).css({visibility:"hidden"})};this.renderOverride=function(aJ,aH){var aB=$(this._valueLabel);var ag=this._value;if(!ag){aB.html("")}else{aB.html(j.escapeHTML(ag))}var ad=aB.outerWidth(true);var ah=aB.outerHeight(true);var at=7;var aC=14/2;var ap=this._viewBounds;var f=ap.width;var e=ap.height;var aI=ap.x;var ak=aI+f;var ao=ap.y;var Z=ao+e;var al=this._targetBounds;var aw=al.width;var aF=al.height;var d=al.x;var aE=d+aw;var az=al.y;var aG=az+aF;var aD=10;var c=10;var ai=10;var an=10;var au=aD+c;var av=ai+an;var ax=(au>0)?l.minMax((f-ad)/au,0,1):0;var ay=(av>0)?l.minMax((e-ah)/av,0,1):0;var aq=0.5;var ar=0.5;var ae;if(((d+aE)/2)>((aI+ak)/2)){ae="left"}else{ae="right"}var am;var aj;if(ae=="left"){ai*=ay;an*=ay;am=new m(d,az*(1-ar)+aG*ar);am.x=l.minMax(am.x,aI+aD+ad+at,aE);am.x=l.minMax(am.x,aI+ad+at,ak);am.y=l.maxMin(am.y,Z,ao);aj=new m(ad+at,ah*ar);aj.y=l.minMax(aj.y,ah-Math.max(Z-an-am.y,0),Math.max(am.y-ao-ai,0))}else{ai*=ay;an*=ay;am=new m(aE,az*(1-ar)+aG*ar);am.x=l.maxMin(am.x,ak-c-ad-at,d);am.x=l.maxMin(am.x,ak-ad-at,aI);am.y=l.maxMin(am.y,Z,ao);aj=new m(0,ah*ar);aj.y=l.minMax(aj.y,ah-Math.max(Z-an-am.y,0),Math.max(am.y-ao-ai,0))}am.x=Math.round(am.x);am.y=Math.round(am.y);aj.x=Math.round(aj.x);aj.y=Math.round(aj.y);am=this.globalToLocal(am);this.setX(this.getX()+(am.x-aj.x));this.setY(this.getY()+(am.y-aj.y));var af=this.graphics;af.clear();af.setSize(ad+at,ah);var aA=this._backgroundBrush;var g;var aa;var ab;var ac;if(ae=="left"){g=new m(0,0);aa=new m(ad,0);ab=new m(ad,ah);ac=new m(0,ah);aA.beginBrush(af,null,[g,aa,ab,ac]);aA.moveTo(g.x,g.y);aA.lineTo(aa.x,aa.y);aA.lineTo(aa.x,l.maxMin(aj.y-aC,ab.y-aC,aa.y));aA.lineTo(aj.x,aj.y);aA.lineTo(aa.x,l.minMax(aj.y+aC,aa.y+aC,ab.y));aA.lineTo(ab.x,ab.y);aA.lineTo(ac.x,ac.y);aA.lineTo(g.x,g.y);aA.endBrush()}else{g=new m(at,0);aa=new m(at+ad,0);ab=new m(at+ad,ah);ac=new m(at,ah);aA.beginBrush(af,null,[g,aa,ab,ac]);aA.moveTo(g.x,g.y);aA.lineTo(aa.x,aa.y);aA.lineTo(ab.x,ab.y);aA.lineTo(ac.x,ac.y);aA.lineTo(ac.x,l.minMax(aj.y+aC,g.y+aC,ac.y));aA.lineTo(aj.x,aj.y);aA.lineTo(ac.x,l.maxMin(aj.y-aC,ac.y-aC,g.y));aA.lineTo(g.x,g.y);aA.endBrush()}aB.css({left:g.x+"px"})}})});jg_namespace("splunk",function(){var H=jg_import("jgatt.geom.Matrix");var B=jg_import("jgatt.geom.Point");var W=jg_import("jgatt.geom.Rectangle");var S=jg_import("jgatt.graphics.ColorUtils");var K=jg_import("jgatt.graphics.GradientFillBrush");var L=jg_import("jgatt.motion.GroupTween");var I=jg_import("jgatt.motion.MethodTween");var F=jg_import("jgatt.motion.TweenRunner");var X=jg_import("jgatt.motion.easers.CubicEaser");var D=jg_import("jgatt.motion.easers.EaseDirection");var J=jg_import("jgatt.utils.NumberUtils");var G=jg_import("splunk.charting.ClickDragRangeMarker");var M=jg_import("splunk.charting.CursorMarker");var N=jg_import("splunk.charting.GridLines");var A=jg_import("splunk.charting.Histogram");var U=jg_import("splunk.charting.LogScale");var R=jg_import("splunk.charting.NumericAxisLabels");var V=jg_import("splunk.charting.TimeAxisLabels");var E=jg_import("splunk.charting.Tooltip");var Q=jg_import("splunk.charting.VisualObject");var O=jg_import("splunk.time.DateTime");var T=jg_import("splunk.time.SimpleTimeZone");var C=jg_import("splunk.time.SplunkTimeZone");var P=jg_import("splunk.time.TimeUtils");var Y=jg_import("splunk.time.TimeZones");this.Timeline=jg_extend(Q,function(b,a){this.externalInterface=null;this._hostPath=null;this._basePath=null;this._timeZoneString=null;this._timeZone=Y.LOCAL;this._jobID=null;this._bucketCount=1000;this._viewMinimum=NaN;this._viewMaximum=NaN;this._selectionMinimum=NaN;this._selectionMaximum=NaN;this._actualSelectionMinimum=NaN;this._actualSelectionMaximum=NaN;this._timelineData=null;this._enableChartClick=false;this._scaleY="linear";this._foregroundColor=0;this._seriesColor=7578960;this._updateCount=0;this._updatingCount=0;this._updatedCount=0;this._dataLoading=false;this._loadJobID=null;this._histogram=null;this._axisLabelsX=null;this._axisLabelsY1=null;this._axisLabelsY2=null;this._gridLines=null;this._cursorMarker=null;this._rangeMarker=null;this._tooltip=null;this._prevDate=null;this._prevJobID=null;this._prevMouseGlobal=null;this._tooltipData=null;this._elementQuery=null;this._updateSizeInterval=0;this.constructor=function(e,c){a.constructor.call(this,["render","dispatchUpdated"]);this._elementQuery=$(this.element);this._elementQuery.css({position:"relative",width:"100%",height:"100%",overflow:"hidden"});e=(typeof e==="string")?e:null;if(!e){var f=location.href;var g=f.indexOf("://");var d=f.indexOf("/",g+4);e=f.substring(0,d)}this._hostPath=e;c=(typeof c==="string")?c:null;if(c==null){c="/splunkd"}this._basePath=c;this.updateSize=jg_delegate(this,this.updateSize);this._histogram_containedRangeXChanged=jg_delegate(this,this._histogram_containedRangeXChanged);this._histogram_containedRangeYChanged=jg_delegate(this,this._histogram_containedRangeYChanged);this._rangeMarker_dragComplete=jg_delegate(this,this._rangeMarker_dragComplete);this._child_invalidated=jg_delegate(this,this._child_invalidated);this._self_mouseOver=jg_delegate(this,this._self_mouseOver);this._self_mouseOut=jg_delegate(this,this._self_mouseOut);this._self_mouseMove=jg_delegate(this,this._self_mouseMove);this._self_doubleClick=jg_delegate(this,this._self_doubleClick);this._data_success=jg_delegate(this,this._data_success);this._data_error=jg_delegate(this,this._data_error);this.externalInterface={};var h=this._seriesColor;var j=S.brightness(h,-0.15);var i=new K("linear",[h,j],[1,1],[0,1]);i.setTileTransform(new H(0,1,-1,0));this._histogram=new A();this._histogram.setBrush(i);this._histogram.setMinimumX(this._histogram.getActualMinimumX());this._histogram.setMaximumX(this._histogram.getActualMaximumX());this._histogram.setMinimumY(this._histogram.getActualMinimumY());this._histogram.setMaximumY(this._histogram.getActualMaximumY());this._histogram.addEventListener("containedRangeXChanged",this._histogram_containedRangeXChanged);this._histogram.addEventListener("containedRangeYChanged",this._histogram_containedRangeYChanged);this._axisLabelsX=new V();this._axisLabelsX.setHistogram(this._histogram);this._axisLabelsX.setLabelFormat(jg_delegate(this,this._timeAxisFormat));this._axisLabelsX.addEventListener("invalidated",this._child_invalidated);this._axisLabelsY1=new R();this._axisLabelsY1.setHistogram(this._histogram);this._axisLabelsY1.setLabelFormat(jg_delegate(this,this._numericAxisFormat));this._axisLabelsY1.addEventListener("invalidated",this._child_invalidated);this._axisLabelsY2=new R();this._axisLabelsY2.setHistogram(this._histogram);this._axisLabelsY2.setPlacement("right");this._axisLabelsY2.setLabelFormat(jg_delegate(this,this._numericAxisFormat));this._axisLabelsY2.addEventListener("invalidated",this._child_invalidated);this._gridLines=new N();this._gridLines.setAxisLabels(this._axisLabelsY1);this._cursorMarker=new M();this._cursorMarker.setHistogram(this._histogram);this._rangeMarker=new G();this._rangeMarker.setHistogram(this._histogram);this._rangeMarker.setMinimumSnap(jg_delegate(this,this._minimumSnap));this._rangeMarker.setMaximumSnap(jg_delegate(this,this._maximumSnap));this._rangeMarker.setMinimumFormat(jg_delegate(this,this._minimumFormat));this._rangeMarker.setMaximumFormat(jg_delegate(this,this._maximumFormat));this._rangeMarker.setRangeFormat(jg_delegate(this,this._rangeFormat));this._rangeMarker.addEventListener("dragComplete",this._rangeMarker_dragComplete);this._tooltip=new E();this._elementQuery.bind("mouseover",this._self_mouseOver);this._elementQuery.bind("mouseout",this._self_mouseOut);this._elementQuery.bind("mousemove",this._self_mouseMove);this._elementQuery.bind("dblclick",this._self_doubleClick);this._gridLines.appendTo(this);this._histogram.appendTo(this);this._axisLabelsX.appendTo(this);this._axisLabelsY1.appendTo(this);this._axisLabelsY2.appendTo(this);this._cursorMarker.appendTo(this);this._rangeMarker.appendTo(this);this._tooltip.appendTo(this);this._updateViewRange();this._updateCountRange()};this.getTimeZone=function(){return this._timeZoneString};this.setTimeZone=function(c){c=(c!=null)?String(c):null;if(this._timeZoneString===c){return}this._timeZoneString=c;this._timeZone=c?new C(c):Y.LOCAL;this._axisLabelsX.setTimeZone(this._timeZone);this._rangeMarker.invalidate("updateRange")};this.getJobID=function(){return this._jobID};this.setJobID=function(c){c=(c!=null)?String(c):null;if(this._jobID===c){return}this._jobID=c};this.getBucketCount=function(){return this._bucketCount};this.setBucketCount=function(c){c=((c>0)&&(c<Infinity))?Number(c):0;if(this._bucketCount===c){return}this._bucketCount=c};this.getViewMinimum=function(){return this._viewMinimum};this.getViewMaximum=function(){return this._viewMaximum};this.getSelectionMinimum=function(){return this._selectionMinimum};this.setSelectionMinimum=function(c){if(this._rangeMarker.isDragging()){return}this._rangeMarker.setMinimum(isNaN(c)?null:Number(c));this._updateSelectionRange(false)};this.getSelectionMaximum=function(){return this._selectionMaximum};this.setSelectionMaximum=function(c){if(this._rangeMarker.isDragging()){return}this._rangeMarker.setMaximum(isNaN(c)?null:Number(c));this._updateSelectionRange(false)};this.getActualSelectionMinimum=function(){return this._actualSelectionMinimum};this.getActualSelectionMaximum=function(){return this._actualSelectionMaximum};this.getTimelineData=function(){return this._cloneTimelineData(this._timelineData)};this.getTimelineScale=function(){var c=this._timelineData;if(!c){return null}var f=c.buckets;if(f.length==0){return null}var d=f[0];var e=P.subtractDates(d.latestTime,d.earliestTime);if(e.years>0){return{value:e.years,unit:"year"}}if(e.months>0){return{value:e.months,unit:"month"}}if(e.days>0){return{value:e.days,unit:"day"}}if(e.hours>0){return{value:e.hours,unit:"hour"}}if(e.minutes>0){return{value:e.minutes,unit:"minute"}}if(e.seconds>0){return{value:e.seconds,unit:"second"}}return null};this.getEnableChartClick=function(){return this._enableChartClick};this.setEnableChartClick=function(c){this._enableChartClick=c};this.getScaleY=function(){return this._scaleY};this.setScaleY=function(c){c=(c=="log")?"log":"linear";if(this._scaleY===c){return}this._scaleY=c;this._histogram.setScaleY((c=="log")?new U():null)};this.getForegroundColor=function(){return this._foregroundColor};this.setForegroundColor=function(c){c=isNaN(c)?0:Number(c);if(this._foregroundColor===c){return}this._foregroundColor=c;this._axisLabelsX.setForegroundColor(c);this._axisLabelsY1.setForegroundColor(c);this._axisLabelsY2.setForegroundColor(c);this._gridLines.setForegroundColor(c);this._cursorMarker.setForegroundColor(c);this._rangeMarker.setForegroundColor(c)};this.getSeriesColor=function(){return this._seriesColor};this.setSeriesColor=function(c){c=isNaN(c)?0:Number(c);if(this._seriesColor===c){return}this._seriesColor=c;var d=this._histogram.getBrush();d.setColors([c,S.brightness(c,-0.15)]);this._histogram.setBrush(d)};this.update=function(){this._updateCount++;this._update();return this._updateCount};this.getSelectedBuckets=function(){if(!this._timelineData){return null}var g=this._timelineData.buckets;if(!g){return null}var c=new Array();var h=this._actualSelectionMinimum;var f=this._actualSelectionMaximum;var d;var e;for(var i=0,j=g.length;i<j;i++){d=g[i];e=d.earliestTime;if(!e||(e.getTime()<h)){continue}e=d.latestTime;if(!e||(e.getTime()>f)){continue}c.push(this._cloneTimelineData(d))}return c};this.appendToOverride=function(c){this._updateSizeInterval=setInterval(this.updateSize,50);this.updateSize()};this.removeOverride=function(c){clearInterval(this._updateSizeInterval)};this.renderOverride=function(c,h){var f=this.localToGlobal(new B(0,0));var d=this.localToGlobal(new B(c,h));this._histogram.validate("processData");this._histogram.validate("updateRangeX");this._histogram.validate("updateRangeY");this._axisLabelsX.setWidth(c);this._axisLabelsX.validate();h=Math.max(h-this._axisLabelsX.getHeight(),0);this._axisLabelsY1.setHeight(h);this._axisLabelsY1.validate();var e=this._axisLabelsY1.getWidth();this._axisLabelsY2.setHeight(h);this._axisLabelsY2.validate();var g=Math.max(e,c-this._axisLabelsY2.getWidth());c=g-e;this._axisLabelsX.setX(e);this._axisLabelsX.setY(h);this._axisLabelsX.setWidth(c);this._axisLabelsX.validate();this._axisLabelsY2.setX(g);this._histogram.setX(e);this._histogram.setWidth(c);this._histogram.setHeight(h);this._histogram.validate();this._gridLines.setX(e);this._gridLines.setWidth(c);this._gridLines.setHeight(h);this._gridLines.validate();this._cursorMarker.setX(e);this._cursorMarker.setWidth(c);this._cursorMarker.setHeight(h);this._cursorMarker.validate();this._rangeMarker.setX(e);this._rangeMarker.setWidth(c);this._rangeMarker.setHeight(h);this._rangeMarker.validate();this._tooltip.setViewBounds(new W(f.x,f.y,d.x-f.x,d.y-f.y));this._updateTooltip()};this.dispatchUpdated=function(){if(this.isValid("dispatchUpdated")){return}this.setValid("dispatchUpdated");this.dispatchEvent("updated",{updateCount:this._updatedCount})};this.updateSize=function(){this.setWidth(this._elementQuery.width());this.setHeight(this._elementQuery.height())};this._update=function(){if(this._dataLoading){return}this._updatingCount=this._updateCount;this._dataLoading=true;$.ajax({type:"GET",url:"/static/js/zenlog/timeline/test.xml",dataType:"xml",success:this._data_success,error:this._data_error})};this._updateComplete=function(c){this._updateTimelineData(c);this._dataLoading=false;this._updatedCount=this._updatingCount;this.invalidate("dispatchUpdated");if(this._updatingCount<this._updateCount){this._update()}};this._updateTimelineData=function(c){this._timelineData=c;var g=(this._loadJobID!=this._prevJobID);this._prevJobID=this._loadJobID;if(g){this._rangeMarker.setMinimum(null);this._rangeMarker.setMaximum(null)}this._rangeMarker.invalidate("updateRange");this._cursorMarker.setValue((c&&(c.buckets.length>0)&&c.cursorTime)?c.cursorTime.getTime():null);var e=c?c.buckets.concat():null;if(e){var d;for(var f=0,h=e.length;f<h;f++){d=e[f];e[f]={x1:d.earliestTime,x2:d.latestTime,y:d.eventCount}}}this._histogram.setData(e);this.invalidate("render");this.validate();this._updateViewRange();this._updateSelectionRange()};this._updateViewRange=function(){if((!this._timelineData||(this._timelineData.buckets.length==0))&&!isNaN(this._viewMinimum)){return}var d=this._histogram.getContainedMinimumX();var c=this._histogram.getContainedMaximumX();if((d==this._viewMinimum)&&(c==this._viewMaximum)){return}this._viewMinimum=d;this._viewMaximum=c;this.dispatchEvent("viewChanged",{viewMinimum:this._viewMinimum,viewMaximum:this._viewMaximum});var g=new I(this._histogram,this._histogram.getMinimumX,this._histogram.setMinimumX,this._histogram.getActualMinimumX(),this._histogram.getContainedMinimumX());var e=new I(this._histogram,this._histogram.getMaximumX,this._histogram.setMaximumX,this._histogram.getActualMaximumX(),this._histogram.getContainedMaximumX());var f=new L([g,e],new X(D.OUT));F.start(f,0.5);this._updateSelectionRange()};this._updateCountRange=function(){var e=new I(this._histogram,this._histogram.getMinimumY,this._histogram.setMinimumY,this._histogram.getActualMinimumY(),this._histogram.getContainedMinimumY());var c=new I(this._histogram,this._histogram.getMaximumY,this._histogram.setMaximumY,this._histogram.getActualMaximumY(),this._histogram.getContainedMaximumY());var d=new L([e,c],new X(D.OUT));F.start(d,0.5)};this._updateSelectionRange=function(c){if(this._rangeMarker.isDragging()){return}if(c===undefined){c=true}var e=this._rangeMarker.getMinimum();var d=this._rangeMarker.getMaximum();if(e!=null){this._selectionMinimum=e;e=this._rangeMarker.getActualMinimum()}else{this._selectionMinimum=NaN;e=this._viewMinimum}if(d!=null){this._selectionMaximum=d;d=this._rangeMarker.getActualMaximum()}else{this._selectionMaximum=NaN;d=this._viewMaximum}if((e==this._actualSelectionMinimum)&&(d==this._actualSelectionMaximum)){return}this._actualSelectionMinimum=e;this._actualSelectionMaximum=d;if(isNaN(this._selectionMinimum)&&isNaN(this._selectionMaximum)){return}if(c){this.dispatchEvent("selectionChanged",{selectionMinimum:this._actualSelectionMinimum,selectionMaximum:this._actualSelectionMaximum})}};this._updateTooltip=function(f){if(f==null){f=this._prevMouseGlobal?this._prevMouseGlobal:new B()}else{this._prevMouseGlobal=f}var d=this._histogram.globalToLocal(f);var c=this._rangeMarker.isDragging()?null:this._histogram.getDataUnderPoint(d.x,d.y);if(c&&c.bounds){if(this._tooltipData&&(this._tooltipData.data===c.data)){return}this._tooltipData=c;var e=c.bounds;var h=this._histogram.localToGlobal(new B(e.x,e.y));var g=this._histogram.localToGlobal(new B(e.x+e.width,e.y+e.height));this._tooltip.setTargetBounds(new W(h.x,h.y,g.x-h.x,g.y-h.y));this._tooltip.setValue(this._tipFormat(c.data));this._tooltip.show();if(this._enableChartClick){this._elementQuery.css({cursor:"pointer"})}}else{if(!this._tooltipData){return}this._tooltipData=null;this._tooltip.setValue(null);this._tooltip.hide();this._elementQuery.css({cursor:"auto"})}};this._parseTimelineData=function(k){if(!k){return null}var o=k.attributes;var l;var t=k.childNodes;var s;var i;var j;var g=null;var w=null;var h=null;var v=NaN;var p=NaN;var d=NaN;var r=0;var f=0;var q=false;var m=[];for(i=0,j=o.length;i<j;i++){l=o[i];if(l.nodeType==2){switch(l.nodeName.toLowerCase()){case"t":g=new O(Number(l.nodeValue));break;case"cursor":h=new O(Number(l.nodeValue));break;case"d":v=Number(l.nodeValue);break;case"etz":p=Number(l.nodeValue);break;case"ltz":d=Number(l.nodeValue);break;case"c":r=Number(l.nodeValue);break;case"a":f=Number(l.nodeValue);break;case"f":q=(l.nodeValue=="1");break}}}for(i=0,j=t.length;i<j;i++){s=t[i];if(s.nodeType==1){switch(s.nodeName.toLowerCase()){case"bucket":m.push(this._parseTimelineData(s));break}}}if(isNaN(v)){v=0}if(isNaN(p)){p=0}if(isNaN(d)){d=0}if(g){w=new O(g.getTime()+v)}if(m.length>0){var e=m[0].earliestTime;if(e&&(!g||(e.getTime()<g.getTime()))){g=e.clone()}var u=m[m.length-1].latestTime;if(u&&(!w||(u.getTime()>w.getTime()))){w=u.clone()}if(g&&w){v=w.getTime()-g.getTime()}}if(g){g=g.toTimeZone(new T(p))}if(w){w=w.toTimeZone(new T(d))}if(h){h=h.toTimeZone(new T(p))}var c={};c.earliestTime=g;c.latestTime=w;c.cursorTime=h;c.duration=v;c.eventCount=r;c.eventAvailableCount=f;c.isComplete=q;c.buckets=m;return c};this._cloneTimelineData=function(c){if(!c){return null}var d={};d.earliestTime=c.earliestTime?c.earliestTime.getTime():null;d.earliestOffset=c.earliestTime?c.earliestTime.getTimeZoneOffset():0;d.latestTime=c.latestTime?c.latestTime.getTime():null;d.latestOffset=c.latestTime?c.latestTime.getTimeZoneOffset():0;d.cursorTime=c.cursorTime?c.cursorTime.getTime():null;d.duration=c.duration;d.eventCount=c.eventCount;d.eventAvailableCount=c.eventAvailableCount;d.isComplete=c.isComplete;var e=c.buckets;var g=e.length;var h=d.buckets=[];for(var f=0;f<g;f++){h.push(this._cloneTimelineData(e[f]))}return d};this._minimumSnap=function(e){var f=this._histogram.getData();if(f){var c;var d=null;for(var g=f.length-1;g>=0;g--){c=f[g];d=c.x1;if(d&&(d.getTime()<=e)){break}}if(d&&!isNaN(d.getTime())){e=d.getTime()}}return e};this._maximumSnap=function(e){var f=this._histogram.getData();if(f){var c;var d=null;for(var g=0,h=f.length;g<h;g++){c=f[g];d=c.x2;if(d&&(d.getTime()>=e)){break}}if(d&&!isNaN(d.getTime())){e=d.getTime()}}return e};this._timeAxisFormat=function(o){if(!o){return""}var i="";var j=this._axisLabelsX.getActualUnit();var g=0;var h=1;var c=2;var p=3;var e=4;var m=5;var l=6;var k;var f;var d=this._prevDate;if(!d||(d.getTime()>o.getTime())||(d.getYear()!=o.getYear())){k=g}else{if(d.getMonth()!=o.getMonth()){k=h}else{if(d.getDay()!=o.getDay()){k=c}else{k=p}}}this._prevDate=o.clone();if((j.seconds%1)>0){f=l}else{if((j.seconds>0)||((j.minutes%1)>0)){f=m}else{if((j.minutes>0)||((j.hours%1)>0)){f=e}else{if((j.hours>0)||((j.days%1)>0)){f=p}else{if((j.days>0)||((j.months%1)>0)){f=c}else{if((j.months>0)||((j.years%1)>0)){f=h}else{f=g}}}}}}if(k>f){k=f}if(f==l){i+=this._formatTime(o,"full")}else{if(f==m){i+=this._formatTime(o,"medium")}else{if(f>=p){i+=this._formatTime(o,"short")}}}if((f>=c)&&(k<=c)){i+=(i?"\n":"")+this._formatDate(o,"EEE MMM d")}else{if((f>=h)&&(k<=h)){i+=(i?"\n":"")+this._formatDate(o,"MMMM")}}if((f>=g)&&(k<=g)){i+=(i?"\n":"")+this._formatDate(o,"yyyy")}return i};this._numericAxisFormat=function(c){return this._formatNumber(c)};this._minimumFormat=function(c){return this._minMaxFormat(this._minimumSnap(c))};this._maximumFormat=function(c){return this._minMaxFormat(this._maximumSnap(c))};this._minMaxFormat=function(d){var e=new O(d);e=e.toTimeZone(this._timeZone);var f="medium";var c;if((e.getSeconds()%1)>=0.001){c="full"}else{if(e.getSeconds()>0){c="medium"}else{if(e.getMinutes()>0){c="short"}else{if(e.getHours()>0){c="short"}else{c="none"}}}}if(c=="none"){return this._formatDate(e,f)}else{return this._formatDateTime(e,f,c)}};this._rangeFormat=function(g,c){var d=new O(this._minimumSnap(g));d=d.toTimeZone(this._timeZone);var h=new O(this._maximumSnap(c));h=h.toTimeZone(this._timeZone);var f=P.subtractDates(h,d);var e="";if(f.years>0){e+=this._formatNumericString("%s year ","%s years ",f.years)}if(f.months>0){e+=this._formatNumericString("%s month ","%s months ",f.months)}if(f.days>0){e+=this._formatNumericString("%s day ","%s days ",f.days)}if(f.hours>0){e+=this._formatNumericString("%s hour ","%s hours ",f.hours)}if(f.minutes>0){e+=this._formatNumericString("%s minute ","%s minutes ",f.minutes)}if(f.seconds>0){e+=this._formatNumericString("%s second ","%s seconds ",Math.floor(f.seconds*1000)/1000)}return e};this._tipFormat=function(c){if(!c){return""}return this._formatTooltip(c.x1,c.x2,c.y)};this._formatNumber=function(d){d=J.toPrecision(d,12);var c=this.externalInterface.formatNumber;if(typeof c==="function"){return c(d)}return String(d)};this._formatNumericString=function(c,f,g){g=J.toPrecision(g,12);var e=this.externalInterface.formatNumericString;if(typeof e==="function"){return e(c,f,g)}var d=(Math.abs(g)==1)?c:f;d=d.split("%s").join(String(g));return d};this._formatDate=function(d,e){if(e===undefined){e="full"}var c=this.externalInterface.formatDate;if(typeof c==="function"){return c(d.getTime(),d.getTimeZoneOffset(),e)}return this._pad(d.getYear(),4)+"-"+this._pad(d.getMonth(),2)+"-"+this._pad(d.getDay(),2)};this._formatTime=function(e,c){if(c===undefined){c="full"}var d=this.externalInterface.formatTime;if(typeof d==="function"){return d(e.getTime(),e.getTimeZoneOffset(),c)}return this._pad(e.getHours(),2)+":"+this._pad(e.getMinutes(),2)+":"+this._pad(e.getSeconds(),2,3)};this._formatDateTime=function(e,f,c){if(f===undefined){f="full"}if(c===undefined){c="full"}var d=this.externalInterface.formatDateTime;if(typeof d==="function"){return d(e.getTime(),e.getTimeZoneOffset(),f,c)}return this._pad(e.getYear(),4)+"-"+this._pad(e.getMonth(),2)+"-"+this._pad(e.getDay(),2)+" "+this._pad(e.getHours(),2)+":"+this._pad(e.getMinutes(),2)+":"+this._pad(e.getSeconds(),2,3)};this._formatTooltip=function(c,f,d){var e=this.externalInterface.formatTooltip;if(typeof e==="function"){return e(c.getTime(),f.getTime(),c.getTimeZoneOffset(),f.getTimeZoneOffset(),d)}return d+" events from "+c.toString()+" to "+f.toString()};this._pad=function(d,e,f){if(isNaN(d)){return"NaN"}if(d===Infinity){return"Infinity"}if(d===-Infinity){return"-Infinity"}if(e===undefined){e=0}if(f===undefined){f=0}var c=d.toFixed(20);var h=c.indexOf(".");if(h<0){h=c.length}else{if(f<1){c=c.substring(0,h)}else{c=c.substring(0,h)+"."+c.substring(h+1,h+f+1)}}for(var g=h;g<e;g++){c="0"+c}return c};this._histogram_containedRangeXChanged=function(){this._updateViewRange()};this._histogram_containedRangeYChanged=function(){this._updateCountRange()};this._rangeMarker_dragComplete=function(){this._updateSelectionRange()};this._child_invalidated=function(c){if(c=="render"){this.invalidate("render")}};this._self_mouseOver=function(c){this._updateTooltip(new B(c.pageX,c.pageY))};this._self_mouseOut=function(c){this._updateTooltip(new B(c.pageX,c.pageY))};this._self_mouseMove=function(c){this._updateTooltip(new B(c.pageX,c.pageY))};this._self_doubleClick=function(c){if(!this._enableChartClick){return}this._updateTooltip(new B(c.pageX,c.pageY));var d=this._tooltipData;if(!d){return}var e={};e.earliestTime={};e.latestTime={};e.eventCount=d.data.y;var f=["earliestTime","latestTime","eventCount"];this.dispatchEvent("chartDoubleClicked",{data:e,fields:f,altKey:c.altKey,ctrlKey:c.ctrlKey,shiftKey:c.shiftKey})};this._data_success=function(e,c,d){this._updateComplete(this._parseTimelineData(e.documentElement))};this._data_error=function(c,d,e){this._updateComplete(null)};this.clearSelectionRange=function(){this._viewMinimum=NaN;this._viewMaximum=NaN;this._selectionMinimum=NaN;this._selectionMaximum=NaN;this._actualSelectionMinimum=NaN;this._actualSelectionMaximum=NaN;this._rangeMarker.setMinimum(null);this._rangeMarker.setMaximum(null);this._updateSelectionRange(false)};this.logScale=function(c){this.setScaleY(c)};this.buildBuckets=function(f){if(f==null||f.length==0){return}var c=jg_import("splunk.time.DateTime");var g=[];var h=0;for(var i=0,j=f.length;i<j;i++){var d=300;g.push({earliestTime:new c(Number(f[i][0])),latestTime:new c(Number(f[i][0]+d)),eventCount:Number(f[i][1]),duration:Number(300),eventAvailableCount:Number(f[i][1]),earliestOffset:Number(32400),latestOffset:Number(32400)});h+=f[i][1]}var e={};e.earliestTime=null;e.latestTime=null;e.cursorTime=null;e.duration=300;e.eventCount=h;e.eventAvailableCount=h;e.isComplete=true;e.buckets=g;return e};this.updateTimeline=function(c){this.clearSelectionRange();this._updateComplete(this.buildBuckets(c))}})});
